/*! For license information please see authStart.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.FindMsg=t():e.FindMsg=t()}(self,(function(){return(()=>{var e={80869:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AccountEntity:()=>z.r,ApiId:()=>f,AuthError:()=>N.l,AuthErrorMessage:()=>N.Y,AuthenticationHeaderParser:()=>Xe.d,AuthenticationScheme:()=>v.hO,AzureCloudInstance:()=>de.z,BrowserAuthError:()=>O,BrowserAuthErrorMessage:()=>P,BrowserCacheLocation:()=>l,BrowserCacheManager:()=>ue,BrowserConfigurationAuthError:()=>oe,BrowserConfigurationAuthErrorMessage:()=>ne,BrowserConstants:()=>y,BrowserUtils:()=>me,ClientAuthError:()=>ae.e,ClientAuthErrorMessage:()=>ae.A,ClientConfigurationError:()=>Ae.r,ClientConfigurationErrorMessage:()=>Ae.L,DEFAULT_IFRAME_TIMEOUT_MS:()=>ye,EventHandler:()=>Te,EventMessageUtils:()=>Je,EventType:()=>w,InteractionRequiredAuthError:()=>j.Yo,InteractionRequiredAuthErrorMessage:()=>j.Zy,InteractionStatus:()=>m,InteractionType:()=>g,LogLevel:()=>B.i,Logger:()=>B.Y,NavigationClient:()=>ve,OIDC_DEFAULT_SCOPES:()=>v.f_,PopupClient:()=>Oe,PopupUtils:()=>ke,ProtocolMode:()=>le.A,PublicClientApplication:()=>Ve,RedirectClient:()=>Me,RedirectHandler:()=>xe,ServerError:()=>G.n,SignedHttpRequest:()=>Qe,SilentCacheClient:()=>ze,SilentIframeClient:()=>Ue,SilentRefreshClient:()=>Fe,StandardInteractionClient:()=>Re,StringUtils:()=>k.x,TemporaryCacheKeys:()=>h,UrlString:()=>se.G,WrapperSKU:()=>C,stubbedPublicClientApplication:()=>We,version:()=>Ee});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function c(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}var l,d,h,p,f,g,m,v=r(77891),y={INTERACTION_IN_PROGRESS_VALUE:"interaction_in_progress",INVALID_GRANT_ERROR:"invalid_grant",POPUP_WIDTH:483,POPUP_HEIGHT:600,POPUP_NAME_PREFIX:"msal",POLL_INTERVAL_MS:50,MSAL_SKU:"msal.js.browser"};!function(e){e.LocalStorage="localStorage",e.SessionStorage="sessionStorage",e.MemoryStorage="memoryStorage"}(l||(l={})),function(e){e.GET="GET",e.POST="POST"}(d||(d={})),function(e){e.AUTHORITY="authority",e.ACQUIRE_TOKEN_ACCOUNT="acquireToken.account",e.SESSION_STATE="session.state",e.REQUEST_STATE="request.state",e.NONCE_IDTOKEN="nonce.id_token",e.ORIGIN_URI="request.origin",e.RENEW_STATUS="token.renew.status",e.URL_HASH="urlHash",e.REQUEST_PARAMS="request.params",e.SCOPES="scopes",e.INTERACTION_STATUS_KEY="interaction.status",e.CCS_CREDENTIAL="ccs.credential",e.CORRELATION_ID="request.correlationId"}(h||(h={})),function(e){e.WRAPPER_SKU="wrapper.sku",e.WRAPPER_VER="wrapper.version"}(p||(p={})),function(e){e[e.acquireTokenRedirect=861]="acquireTokenRedirect",e[e.acquireTokenPopup=862]="acquireTokenPopup",e[e.ssoSilent=863]="ssoSilent",e[e.acquireTokenSilent_authCode=864]="acquireTokenSilent_authCode",e[e.handleRedirectPromise=865]="handleRedirectPromise",e[e.acquireTokenByCode=866]="acquireTokenByCode",e[e.acquireTokenSilent_silentFlow=61]="acquireTokenSilent_silentFlow",e[e.logout=961]="logout",e[e.logoutPopup=962]="logoutPopup"}(f||(f={})),function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(g||(g={})),function(e){e.Startup="startup",e.Login="login",e.Logout="logout",e.AcquireToken="acquireToken",e.SsoSilent="ssoSilent",e.HandleRedirect="handleRedirect",e.None="none"}(m||(m={}));var C,E={scopes:v.f_},T="jwk";!function(e){e.React="@azure/msal-react",e.Angular="@azure/msal-angular"}(C||(C={}));var w,S="msal.db",I=function(){function e(){}return e.decimalToHex=function(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return t},e}(),b=function(){function e(e){this.cryptoObj=e}return e.prototype.generateGuid=function(){try{var e=new Uint8Array(16);return this.cryptoObj.getRandomValues(e),e[6]|=64,e[6]&=79,e[8]|=128,e[8]&=191,I.decimalToHex(e[0])+I.decimalToHex(e[1])+I.decimalToHex(e[2])+I.decimalToHex(e[3])+"-"+I.decimalToHex(e[4])+I.decimalToHex(e[5])+"-"+I.decimalToHex(e[6])+I.decimalToHex(e[7])+"-"+I.decimalToHex(e[8])+I.decimalToHex(e[9])+"-"+I.decimalToHex(e[10])+I.decimalToHex(e[11])+I.decimalToHex(e[12])+I.decimalToHex(e[13])+I.decimalToHex(e[14])+I.decimalToHex(e[15])}catch(e){for(var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",r="0123456789abcdef",n=0,o="",i=0;i<36;i++)"-"!==t[i]&&"4"!==t[i]&&(n=16*Math.random()|0),"x"===t[i]?o+=r[n]:"y"===t[i]?(n&=3,o+=r[n|=8]):o+=t[i];return o}},e.isGuid=function(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)},e}(),A=function(){function e(){}return e.stringToUtf8Arr=function(e){for(var t,r=0,n=e.length,o=0;o<n;o++)r+=(t=e.charCodeAt(o))<128?1:t<2048?2:t<65536?3:t<2097152?4:t<67108864?5:6;for(var i=new Uint8Array(r),a=0,s=0;a<r;s++)(t=e.charCodeAt(s))<128?i[a++]=t:t<2048?(i[a++]=192+(t>>>6),i[a++]=128+(63&t)):t<65536?(i[a++]=224+(t>>>12),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):t<2097152?(i[a++]=240+(t>>>18),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):t<67108864?(i[a++]=248+(t>>>24),i[a++]=128+(t>>>18&63),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t)):(i[a++]=252+(t>>>30),i[a++]=128+(t>>>24&63),i[a++]=128+(t>>>18&63),i[a++]=128+(t>>>12&63),i[a++]=128+(t>>>6&63),i[a++]=128+(63&t));return i},e.stringToArrayBuffer=function(e){for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return t},e.utf8ArrToString=function(e){for(var t="",r=void 0,n=e.length,o=0;o<n;o++)r=e[o],t+=String.fromCharCode(r>251&&r<254&&o+5<n?1073741824*(r-252)+(e[++o]-128<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>247&&r<252&&o+4<n?(r-248<<24)+(e[++o]-128<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>239&&r<248&&o+3<n?(r-240<<18)+(e[++o]-128<<12)+(e[++o]-128<<6)+e[++o]-128:r>223&&r<240&&o+2<n?(r-224<<12)+(e[++o]-128<<6)+e[++o]-128:r>191&&r<224&&o+1<n?(r-192<<6)+e[++o]-128:r);return t},e}(),_=function(){function e(){}return e.prototype.urlEncode=function(e){return encodeURIComponent(this.encode(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))},e.prototype.urlEncodeArr=function(e){return this.base64EncArr(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype.encode=function(e){var t=A.stringToUtf8Arr(e);return this.base64EncArr(t)},e.prototype.base64EncArr=function(e){for(var t=(3-e.length%3)%3,r="",n=void 0,o=e.length,i=0,a=0;a<o;a++)n=a%3,i|=e[a]<<(16>>>n&24),2!==n&&e.length-a!=1||(r+=String.fromCharCode(this.uint6ToB64(i>>>18&63),this.uint6ToB64(i>>>12&63),this.uint6ToB64(i>>>6&63),this.uint6ToB64(63&i)),i=0);return 0===t?r:r.substring(0,r.length-t)+(1===t?"=":"==")},e.prototype.uint6ToB64=function(e){return e<26?e+65:e<52?e+71:e<62?e-4:62===e?43:63===e?47:65},e}(),R=function(){function e(){}return e.prototype.decode=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Invalid base64 string")}var r=this.base64DecToArr(t);return A.utf8ArrToString(r)},e.prototype.base64DecToArr=function(e,t){for(var r=e.replace(/[^A-Za-z0-9\+\/]/g,""),n=r.length,o=t?Math.ceil((3*n+1>>>2)/t)*t:3*n+1>>>2,i=new Uint8Array(o),a=void 0,s=void 0,c=0,u=0,l=0;l<n;l++)if(s=3&l,c|=this.b64ToUint6(r.charCodeAt(l))<<18-6*s,3===s||n-l==1){for(a=0;a<3&&u<o;a++,u++)i[u]=c>>>(16>>>a&24)&255;c=0}return i},e.prototype.b64ToUint6=function(e){return e>64&&e<91?e-65:e>96&&e<123?e-71:e>47&&e<58?e+4:43===e?62:47===e?63:0},e}(),k=r(61653),N=r(87342),P={pkceNotGenerated:{code:"pkce_not_created",desc:"The PKCE code challenge and verifier could not be generated."},cryptoDoesNotExist:{code:"crypto_nonexistent",desc:"The crypto object or function is not available."},httpMethodNotImplementedError:{code:"http_method_not_implemented",desc:"The HTTP method given has not been implemented in this library."},emptyNavigateUriError:{code:"empty_navigate_uri",desc:"Navigation URI is empty. Please check stack trace for more info."},hashEmptyError:{code:"hash_empty_error",desc:"Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash."},hashDoesNotContainStateError:{code:"no_state_in_hash",desc:"Hash does not contain state. Please verify that the request originated from msal."},hashDoesNotContainKnownPropertiesError:{code:"hash_does_not_contain_known_properties",desc:"Hash does not contain known properites. Please verify that your redirectUri is not changing the hash."},unableToParseStateError:{code:"unable_to_parse_state",desc:"Unable to parse state. Please verify that the request originated from msal."},stateInteractionTypeMismatchError:{code:"state_interaction_type_mismatch",desc:"Hash contains state but the interaction type does not match the caller."},interactionInProgress:{code:"interaction_in_progress",desc:"Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.  For more visit: aka.ms/msaljs/browser-errors."},popupWindowError:{code:"popup_window_error",desc:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser."},emptyWindowError:{code:"empty_window_error",desc:"window.open returned null or undefined window object."},userCancelledError:{code:"user_cancelled",desc:"User cancelled the flow."},monitorPopupTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in popup failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},monitorIframeTimeoutError:{code:"monitor_window_timeout",desc:"Token acquisition in iframe failed due to timeout. For more visit: aka.ms/msaljs/browser-errors."},redirectInIframeError:{code:"redirect_in_iframe",desc:"Code flow is not supported inside an iframe. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs."},blockTokenRequestsInHiddenIframeError:{code:"block_iframe_reload",desc:"Request was blocked inside an iframe because MSAL detected an authentication response. For more visit: aka.ms/msaljs/browser-errors"},blockAcquireTokenInPopupsError:{code:"block_nested_popups",desc:"Request was blocked inside a popup because MSAL detected it was running in a popup."},iframeClosedPrematurelyError:{code:"iframe_closed_prematurely",desc:"The iframe being monitored was closed prematurely."},silentLogoutUnsupportedError:{code:"silent_logout_unsupported",desc:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead."},noAccountError:{code:"no_account_error",desc:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request."},silentPromptValueError:{code:"silent_prompt_value_error",desc:"The value given for the prompt value is not valid for silent requests - must be set to 'none'."},noTokenRequestCacheError:{code:"no_token_request_cache_error",desc:"No token request found in cache."},unableToParseTokenRequestCacheError:{code:"unable_to_parse_token_request_cache_error",desc:"The cached token request could not be parsed."},noCachedAuthorityError:{code:"no_cached_authority_error",desc:"No cached authority found."},authRequestNotSet:{code:"auth_request_not_set_error",desc:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler"},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},notInBrowserEnvironment:{code:"non_browser_environment",desc:"Login and token requests are not supported in non-browser environments."},databaseNotOpen:{code:"database_not_open",desc:"Database is not open!"},noNetworkConnectivity:{code:"no_network_connectivity",desc:"No network connectivity. Check your internet connection."},postRequestFailed:{code:"post_request_failed",desc:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'"},getRequestFailed:{code:"get_request_failed",desc:"Network request failed. Please check the network trace to determine root cause."},failedToParseNetworkResponse:{code:"failed_to_parse_response",desc:"Failed to parse network response. Check network trace."},unableToLoadTokenError:{code:"unable_to_load_token",desc:"Error loading token to cache."},signingKeyNotFoundInStorage:{code:"crypto_key_not_found",desc:"Cryptographic Key or Keypair not found in browser storage."},authCodeRequired:{code:"auth_code_required",desc:"An authorization code must be provided (as the `code` property on the request) to this flow."},databaseUnavailable:{code:"database_unavailable",desc:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts."}},O=function(e){function t(r,n){var o=e.call(this,r,n)||this;return Object.setPrototypeOf(o,t.prototype),o.name="BrowserAuthError",o}return o(t,e),t.createPkceNotGeneratedError=function(e){return new t(P.pkceNotGenerated.code,P.pkceNotGenerated.desc+" Detail:"+e)},t.createCryptoNotAvailableError=function(e){return new t(P.cryptoDoesNotExist.code,P.cryptoDoesNotExist.desc+" Detail:"+e)},t.createHttpMethodNotImplementedError=function(e){return new t(P.httpMethodNotImplementedError.code,P.httpMethodNotImplementedError.desc+" Given Method: "+e)},t.createEmptyNavigationUriError=function(){return new t(P.emptyNavigateUriError.code,P.emptyNavigateUriError.desc)},t.createEmptyHashError=function(e){return new t(P.hashEmptyError.code,P.hashEmptyError.desc+" Given Url: "+e)},t.createHashDoesNotContainStateError=function(){return new t(P.hashDoesNotContainStateError.code,P.hashDoesNotContainStateError.desc)},t.createHashDoesNotContainKnownPropertiesError=function(){return new t(P.hashDoesNotContainKnownPropertiesError.code,P.hashDoesNotContainKnownPropertiesError.desc)},t.createUnableToParseStateError=function(){return new t(P.unableToParseStateError.code,P.unableToParseStateError.desc)},t.createStateInteractionTypeMismatchError=function(){return new t(P.stateInteractionTypeMismatchError.code,P.stateInteractionTypeMismatchError.desc)},t.createInteractionInProgressError=function(){return new t(P.interactionInProgress.code,P.interactionInProgress.desc)},t.createPopupWindowError=function(e){var r=P.popupWindowError.desc;return r=k.x.isEmpty(e)?r:r+" Details: "+e,new t(P.popupWindowError.code,r)},t.createEmptyWindowCreatedError=function(){return new t(P.emptyWindowError.code,P.emptyWindowError.desc)},t.createUserCancelledError=function(){return new t(P.userCancelledError.code,P.userCancelledError.desc)},t.createMonitorPopupTimeoutError=function(){return new t(P.monitorPopupTimeoutError.code,P.monitorPopupTimeoutError.desc)},t.createMonitorIframeTimeoutError=function(){return new t(P.monitorIframeTimeoutError.code,P.monitorIframeTimeoutError.desc)},t.createRedirectInIframeError=function(e){return new t(P.redirectInIframeError.code,P.redirectInIframeError.desc+" (window.parent !== window) => "+e)},t.createBlockReloadInHiddenIframeError=function(){return new t(P.blockTokenRequestsInHiddenIframeError.code,P.blockTokenRequestsInHiddenIframeError.desc)},t.createBlockAcquireTokenInPopupsError=function(){return new t(P.blockAcquireTokenInPopupsError.code,P.blockAcquireTokenInPopupsError.desc)},t.createIframeClosedPrematurelyError=function(){return new t(P.iframeClosedPrematurelyError.code,P.iframeClosedPrematurelyError.desc)},t.createSilentLogoutUnsupportedError=function(){return new t(P.silentLogoutUnsupportedError.code,P.silentLogoutUnsupportedError.desc)},t.createNoAccountError=function(){return new t(P.noAccountError.code,P.noAccountError.desc)},t.createSilentPromptValueError=function(e){return new t(P.silentPromptValueError.code,P.silentPromptValueError.desc+" Given value: "+e)},t.createUnableToParseTokenRequestCacheError=function(){return new t(P.unableToParseTokenRequestCacheError.code,P.unableToParseTokenRequestCacheError.desc)},t.createNoTokenRequestCacheError=function(){return new t(P.noTokenRequestCacheError.code,P.noTokenRequestCacheError.desc)},t.createAuthRequestNotSetError=function(){return new t(P.authRequestNotSet.code,P.authRequestNotSet.desc)},t.createNoCachedAuthorityError=function(){return new t(P.noCachedAuthorityError.code,P.noCachedAuthorityError.desc)},t.createInvalidCacheTypeError=function(){return new t(P.invalidCacheType.code,""+P.invalidCacheType.desc)},t.createNonBrowserEnvironmentError=function(){return new t(P.notInBrowserEnvironment.code,P.notInBrowserEnvironment.desc)},t.createDatabaseNotOpenError=function(){return new t(P.databaseNotOpen.code,P.databaseNotOpen.desc)},t.createNoNetworkConnectivityError=function(){return new t(P.noNetworkConnectivity.code,P.noNetworkConnectivity.desc)},t.createPostRequestFailedError=function(e,r){return new t(P.postRequestFailed.code,P.postRequestFailed.desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createGetRequestFailedError=function(e,r){return new t(P.getRequestFailed.code,P.getRequestFailed.desc+" | Network client threw: "+e+" | Attempted to reach: "+r.split("?")[0])},t.createFailedToParseNetworkResponseError=function(e){return new t(P.failedToParseNetworkResponse.code,P.failedToParseNetworkResponse.desc+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToLoadTokenError=function(e){return new t(P.unableToLoadTokenError.code,P.unableToLoadTokenError.desc+" | "+e)},t.createSigningKeyNotFoundInStorageError=function(e){return new t(P.signingKeyNotFoundInStorage.code,P.signingKeyNotFoundInStorage.desc+" | No match found for KeyId: "+e)},t.createAuthCodeRequiredError=function(){return new t(P.authCodeRequired.code,P.authCodeRequired.desc)},t.createDatabaseUnavailableError=function(){return new t(P.databaseUnavailable.code,P.databaseUnavailable.desc)},t}(N.l),x=function(){function e(e){this.base64Encode=new _,this.cryptoObj=e}return e.prototype.generateCodes=function(){return a(this,void 0,void 0,(function(){var e,t;return s(this,(function(r){switch(r.label){case 0:return e=this.generateCodeVerifier(),[4,this.generateCodeChallengeFromVerifier(e)];case 1:return t=r.sent(),[2,{verifier:e,challenge:t}]}}))}))},e.prototype.generateCodeVerifier=function(){try{var e=new Uint8Array(32);return this.cryptoObj.getRandomValues(e),this.base64Encode.urlEncodeArr(e)}catch(e){throw O.createPkceNotGeneratedError(e)}},e.prototype.generateCodeChallengeFromVerifier=function(e){return a(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cryptoObj.sha256Digest(e)];case 1:return t=n.sent(),[2,this.base64Encode.urlEncodeArr(new Uint8Array(t))];case 2:throw r=n.sent(),O.createPkceNotGeneratedError(r);case 3:return[2]}}))}))},e}(),M="SHA-256",L=new Uint8Array([1,0,1]),U=function(){function e(e){if(this.logger=e,!this.hasCryptoAPI())throw O.createCryptoNotAvailableError("Browser crypto or msCrypto object not available.");this._keygenAlgorithmOptions={name:"RSASSA-PKCS1-v1_5",hash:M,modulusLength:2048,publicExponent:L}}return e.prototype.sha256Digest=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){return t=A.stringToUtf8Arr(e),[2,this.hasIECrypto()?this.getMSCryptoDigest(M,t):this.getSubtleCryptoDigest(M,t)]}))}))},e.prototype.getRandomValues=function(e){var t=window.msCrypto||window.crypto;if(!t.getRandomValues)throw O.createCryptoNotAvailableError("getRandomValues does not exist.");t.getRandomValues(e)},e.prototype.generateKeyPair=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){return[2,this.hasIECrypto()?this.msCryptoGenerateKey(e,t):window.crypto.subtle.generateKey(this._keygenAlgorithmOptions,e,t)]}))}))},e.prototype.exportJwk=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,this.hasIECrypto()?this.msCryptoExportJwk(e):window.crypto.subtle.exportKey(T,e)]}))}))},e.prototype.importJwk=function(t,r,n){return a(this,void 0,void 0,(function(){var o,i;return s(this,(function(a){return o=e.getJwkString(t),i=A.stringToArrayBuffer(o),[2,this.hasIECrypto()?this.msCryptoImportKey(i,r,n):window.crypto.subtle.importKey(T,t,this._keygenAlgorithmOptions,r,n)]}))}))},e.prototype.sign=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){return[2,this.hasIECrypto()?this.msCryptoSign(e,t):window.crypto.subtle.sign(this._keygenAlgorithmOptions,e,t)]}))}))},e.prototype.hasCryptoAPI=function(){return this.hasIECrypto()||this.hasBrowserCrypto()},e.prototype.hasIECrypto=function(){return"msCrypto"in window},e.prototype.hasBrowserCrypto=function(){return"crypto"in window},e.prototype.getSubtleCryptoDigest=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){return[2,window.crypto.subtle.digest(e,t)]}))}))},e.prototype.getMSCryptoDigest=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){return[2,new Promise((function(r,n){var o=window.msCrypto.subtle.digest(e,t.buffer);o.addEventListener("complete",(function(e){r(e.target.result)})),o.addEventListener("error",(function(e){n(e)}))}))]}))}))},e.prototype.msCryptoGenerateKey=function(e,t){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(n){return[2,new Promise((function(n,o){var i=window.msCrypto.subtle.generateKey(r._keygenAlgorithmOptions,e,t);i.addEventListener("complete",(function(e){n(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.prototype.msCryptoExportJwk=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){return[2,new Promise((function(t,r){var n=window.msCrypto.subtle.exportKey(T,e);n.addEventListener("complete",(function(e){var n=e.target.result,o=A.utf8ArrToString(new Uint8Array(n)).replace(/\r/g,"").replace(/\n/g,"").replace(/\t/g,"").split(" ").join("").replace("\0","");try{t(JSON.parse(o))}catch(e){r(e)}})),n.addEventListener("error",(function(e){r(e)}))}))]}))}))},e.prototype.msCryptoImportKey=function(e,t,r){return a(this,void 0,void 0,(function(){var n=this;return s(this,(function(o){return[2,new Promise((function(o,i){var a=window.msCrypto.subtle.importKey(T,e,n._keygenAlgorithmOptions,t,r);a.addEventListener("complete",(function(e){o(e.target.result)})),a.addEventListener("error",(function(e){i(e)}))}))]}))}))},e.prototype.msCryptoSign=function(e,t){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(n){return[2,new Promise((function(n,o){var i=window.msCrypto.subtle.sign(r._keygenAlgorithmOptions,e,t);i.addEventListener("complete",(function(e){n(e.target.result)})),i.addEventListener("error",(function(e){o(e)}))}))]}))}))},e.getJwkString=function(e){return JSON.stringify(e,Object.keys(e).sort())},e}(),D=function(){function e(){this.dbName=S,this.version=1,this.tableName="msal.db.keys",this.dbOpen=!1}return e.prototype.open=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){return[2,new Promise((function(t,r){var n=window.indexedDB.open(e.dbName,e.version);n.addEventListener("upgradeneeded",(function(t){t.target.result.createObjectStore(e.tableName)})),n.addEventListener("success",(function(r){var n=r;e.db=n.target.result,e.dbOpen=!0,t()})),n.addEventListener("error",(function(){return r(O.createDatabaseUnavailableError())}))}))]}))}))},e.prototype.validateDbIsOpen=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return this.dbOpen?[3,2]:[4,this.open()];case 1:return[2,e.sent()];case 2:return[2]}}))}))},e.prototype.getItem=function(e){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(O.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).get(e);o.addEventListener("success",(function(e){r(e.target.result)})),o.addEventListener("error",(function(e){return n(e)}))}))]}}))}))},e.prototype.setItem=function(e,t){return a(this,void 0,void 0,(function(){var r=this;return s(this,(function(n){switch(n.label){case 0:return[4,this.validateDbIsOpen()];case 1:return n.sent(),[2,new Promise((function(n,o){if(!r.db)return o(O.createDatabaseNotOpenError());var i=r.db.transaction([r.tableName],"readwrite").objectStore(r.tableName).put(t,e);i.addEventListener("success",(function(){return n()})),i.addEventListener("error",(function(e){return o(e)}))}))]}}))}))},e.prototype.removeItem=function(e){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(O.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readwrite").objectStore(t.tableName).delete(e);o.addEventListener("success",(function(){return r()})),o.addEventListener("error",(function(e){return n(e)}))}))]}}))}))},e.prototype.getKeys=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return[4,this.validateDbIsOpen()];case 1:return t.sent(),[2,new Promise((function(t,r){if(!e.db)return r(O.createDatabaseNotOpenError());var n=e.db.transaction([e.tableName],"readonly").objectStore(e.tableName).getAllKeys();n.addEventListener("success",(function(e){t(e.target.result)})),n.addEventListener("error",(function(e){return r(e)}))}))]}}))}))},e.prototype.containsKey=function(e){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(r){switch(r.label){case 0:return[4,this.validateDbIsOpen()];case 1:return r.sent(),[2,new Promise((function(r,n){if(!t.db)return n(O.createDatabaseNotOpenError());var o=t.db.transaction([t.tableName],"readonly").objectStore(t.tableName).count(e);o.addEventListener("success",(function(e){r(1===e.target.result)})),o.addEventListener("error",(function(e){return n(e)}))}))]}}))}))},e.prototype.deleteDatabase=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){return[2,new Promise((function(e,t){var r=window.indexedDB.deleteDatabase(S);r.addEventListener("success",(function(){return e(!0)})),r.addEventListener("error",(function(){return t(!1)}))}))]}))}))},e}(),F=function(){function e(){this.cache=new Map}return e.prototype.getItem=function(e){return this.cache.get(e)||null},e.prototype.setItem=function(e,t){this.cache.set(e,t)},e.prototype.removeItem=function(e){this.cache.delete(e)},e.prototype.getKeys=function(){var e=[];return this.cache.forEach((function(t,r){e.push(r)})),e},e.prototype.containsKey=function(e){return this.cache.has(e)},e.prototype.clear=function(){this.cache.clear()},e}(),q=function(){function e(e){this.inMemoryCache=new F,this.indexedDBCache=new D,this.logger=e}return e.prototype.handleDatabaseAccessError=function(e){e instanceof O&&e.errorCode===P.databaseUnavailable.code&&this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")},e.prototype.getItem=function(e){return a(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:if(t=this.inMemoryCache.getItem(e))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.getItem(e)];case 2:return[2,n.sent()];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}}))}))},e.prototype.setItem=function(e,t){return a(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:this.inMemoryCache.setItem(e,t),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.indexedDBCache.setItem(e,t)];case 2:return n.sent(),[3,4];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2]}}))}))},e.prototype.removeItem=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:this.inMemoryCache.removeItem(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.indexedDBCache.removeItem(e)];case 2:return r.sent(),[3,4];case 3:return t=r.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2]}}))}))},e.prototype.getKeys=function(){return a(this,void 0,void 0,(function(){var e,t;return s(this,(function(r){switch(r.label){case 0:if(0!==(e=this.inMemoryCache.getKeys()).length)return[3,4];r.label=1;case 1:return r.trys.push([1,3,,4]),this.logger.verbose("In-memory cache is empty, now querying persistent storage."),[4,this.indexedDBCache.getKeys()];case 2:return[2,r.sent()];case 3:return t=r.sent(),this.handleDatabaseAccessError(t),[3,4];case 4:return[2,e]}}))}))},e.prototype.containsKey=function(e){return a(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:if(t=this.inMemoryCache.containsKey(e))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),[4,this.indexedDBCache.containsKey(e)];case 2:return[2,n.sent()];case 3:return r=n.sent(),this.handleDatabaseAccessError(r),[3,4];case 4:return[2,t]}}))}))},e.prototype.clear=function(){return a(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:this.inMemoryCache.clear(),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.indexedDBCache.deleteDatabase()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.handleDatabaseAccessError(e),[3,4];case 4:return[2]}}))}))},e}(),H=function(){function e(e){this.logger=e,this.browserCrypto=new U(this.logger),this.b64Encode=new _,this.b64Decode=new R,this.guidGenerator=new b(this.browserCrypto),this.pkceGenerator=new x(this.browserCrypto),this.cache={asymmetricKeys:new q(this.logger),symmetricKeys:new q(this.logger)}}return e.prototype.createNewGuid=function(){return this.guidGenerator.generateGuid()},e.prototype.base64Encode=function(e){return this.b64Encode.encode(e)},e.prototype.base64Decode=function(e){return this.b64Decode.decode(e)},e.prototype.generatePkceCodes=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){return[2,this.pkceGenerator.generateCodes()]}))}))},e.prototype.getPublicKeyThumbprint=function(t){return a(this,void 0,void 0,(function(){var r,n,o,i,a,c,u;return s(this,(function(s){switch(s.label){case 0:return[4,this.browserCrypto.generateKeyPair(e.EXTRACTABLE,e.POP_KEY_USAGES)];case 1:return r=s.sent(),[4,this.browserCrypto.exportJwk(r.publicKey)];case 2:return n=s.sent(),o={e:n.e,kty:n.kty,n:n.n},i=U.getJwkString(o),[4,this.hashString(i)];case 3:return a=s.sent(),[4,this.browserCrypto.exportJwk(r.privateKey)];case 4:return c=s.sent(),[4,this.browserCrypto.importJwk(c,!1,["sign"])];case 5:return u=s.sent(),[4,this.cache.asymmetricKeys.setItem(a,{privateKey:u,publicKey:r.publicKey,requestMethod:t.resourceRequestMethod,requestUri:t.resourceRequestUri})];case 6:return s.sent(),[2,a]}}))}))},e.prototype.removeTokenBindingKey=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.cache.asymmetricKeys.removeItem(e)];case 1:return t.sent(),[4,this.cache.asymmetricKeys.containsKey(e)];case 2:return[2,!t.sent()]}}))}))},e.prototype.clearKeystore=function(){return a(this,void 0,void 0,(function(){var e,t,r;return s(this,(function(n){switch(n.label){case 0:return e=Object.keys(this.cache),(t=this.cache[e[0]])?[4,t.deleteDatabase()]:[3,2];case 1:return r=n.sent(),[3,3];case 2:r=!1,n.label=3;case 3:return[2,r]}}))}))},e.prototype.signJwt=function(e,t){return a(this,void 0,void 0,(function(){var r,n,o,i,a,c,u,l,d,h;return s(this,(function(s){switch(s.label){case 0:return[4,this.cache.asymmetricKeys.getItem(t)];case 1:if(!(r=s.sent()))throw O.createSigningKeyNotFoundInStorageError(t);return[4,this.browserCrypto.exportJwk(r.publicKey)];case 2:return n=s.sent(),o=U.getJwkString(n),i={alg:n.alg,type:T},a=this.b64Encode.urlEncode(JSON.stringify(i)),e.cnf={jwk:JSON.parse(o)},c=this.b64Encode.urlEncode(JSON.stringify(e)),u=a+"."+c,l=A.stringToArrayBuffer(u),[4,this.browserCrypto.sign(r.privateKey,l)];case 3:return d=s.sent(),h=this.b64Encode.urlEncodeArr(new Uint8Array(d)),[2,u+"."+h]}}))}))},e.prototype.hashString=function(e){return a(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:return[4,this.browserCrypto.sha256Digest(e)];case 1:return t=n.sent(),r=new Uint8Array(t),[2,this.b64Encode.urlEncodeArr(r)]}}))}))},e.POP_KEY_USAGES=["sign","verify"],e.EXTRACTABLE=!0,e}(),B=r(21362),K=r(66561),G=r(91359),j=r(83927),z=r(43640),V=r(67656),W=r(70979),J=r(85907),Y=r(11429),Q=r(59993),X=r(44612),Z=r(1713),$=r(4184),ee=r(3516),te=r(34726),re=r(70591),ne={redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},storageNotSupportedError:{code:"storage_not_supported",desc:"Given storage configuration option was not supported."},noRedirectCallbacksSet:{code:"no_redirect_callbacks",desc:"No redirect callbacks have been set. Please call setRedirectCallbacks() with the appropriate function arguments before continuing. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},invalidCallbackObject:{code:"invalid_callback_object",desc:"The object passed for the callback was invalid. More information is available here: https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-basics."},stubPcaInstanceCalled:{code:"stubbed_public_client_application_called",desc:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors"},inMemRedirectUnavailable:{code:"in_mem_redirect_unavailable",desc:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."}},oe=function(e){function t(r,n){var o=e.call(this,r,n)||this;return o.name="BrowserConfigurationAuthError",Object.setPrototypeOf(o,t.prototype),o}return o(t,e),t.createRedirectUriEmptyError=function(){return new t(ne.redirectUriNotSet.code,ne.redirectUriNotSet.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(ne.postLogoutUriNotSet.code,ne.postLogoutUriNotSet.desc)},t.createStorageNotSupportedError=function(e){return new t(ne.storageNotSupportedError.code,ne.storageNotSupportedError.desc+" Given Location: "+e)},t.createRedirectCallbacksNotSetError=function(){return new t(ne.noRedirectCallbacksSet.code,ne.noRedirectCallbacksSet.desc)},t.createStubPcaInstanceCalledError=function(){return new t(ne.stubPcaInstanceCalled.code,ne.stubPcaInstanceCalled.desc)},t.createInMemoryRedirectUnavailableError=function(){return new t(ne.inMemRedirectUnavailable.code,ne.inMemRedirectUnavailable.desc)},t}(N.l),ie=function(){function e(e){this.validateWindowStorage(e),this.windowStorage=window[e]}return e.prototype.validateWindowStorage=function(e){if(e!==l.LocalStorage&&e!==l.SessionStorage)throw oe.createStorageNotSupportedError(e);if(!window[e])throw oe.createStorageNotSupportedError(e)},e.prototype.getItem=function(e){return this.windowStorage.getItem(e)},e.prototype.setItem=function(e,t){this.windowStorage.setItem(e,t)},e.prototype.removeItem=function(e){this.windowStorage.removeItem(e)},e.prototype.getKeys=function(){return Object.keys(this.windowStorage)},e.prototype.containsKey=function(e){return this.windowStorage.hasOwnProperty(e)},e}(),ae=r(60742),se=r(99860),ce=function(){function e(){}return e.extractBrowserRequestState=function(e,t){if(k.x.isEmpty(t))return null;try{return ee.C.parseRequestState(e,t).libraryState.meta}catch(e){throw ae.e.createInvalidStateError(t,e)}},e.parseServerResponseFromHash=function(e){if(!e)return{};var t=new se.G(e);return se.G.getDeserializedHash(t.getHash())},e}(),ue=function(e){function t(t,r,n,o){var i=e.call(this,t,n)||this;return i.COOKIE_LIFE_MULTIPLIER=864e5,i.cacheConfig=r,i.logger=o,i.internalStorage=new F,i.browserStorage=i.setupBrowserStorage(i.cacheConfig.cacheLocation),i.temporaryCacheStorage=i.setupTemporaryCacheStorage(i.cacheConfig.cacheLocation),i.migrateCacheEntries(),i}return o(t,e),t.prototype.setupBrowserStorage=function(e){switch(e){case l.LocalStorage:case l.SessionStorage:try{return new ie(e)}catch(e){this.logger.verbose(e);break}}return this.cacheConfig.cacheLocation=l.MemoryStorage,new F},t.prototype.setupTemporaryCacheStorage=function(e){switch(e){case l.LocalStorage:case l.SessionStorage:try{return new ie(l.SessionStorage)}catch(e){return this.logger.verbose(e),this.internalStorage}case l.MemoryStorage:default:return this.internalStorage}},t.prototype.migrateCacheEntries=function(){var e=this,t=v.gT.CACHE_PREFIX+"."+v.Vi.ID_TOKEN,r=v.gT.CACHE_PREFIX+"."+v.Vi.CLIENT_INFO,n=v.gT.CACHE_PREFIX+"."+v.Vi.ERROR,o=v.gT.CACHE_PREFIX+"."+v.Vi.ERROR_DESC,i=[this.browserStorage.getItem(t),this.browserStorage.getItem(r),this.browserStorage.getItem(n),this.browserStorage.getItem(o)];[v.Vi.ID_TOKEN,v.Vi.CLIENT_INFO,v.Vi.ERROR,v.Vi.ERROR_DESC].forEach((function(t,r){return e.migrateCacheEntry(t,i[r])}))},t.prototype.migrateCacheEntry=function(e,t){t&&this.setTemporaryCache(e,t,!0)},t.prototype.validateAndParseJson=function(e){try{var t=JSON.parse(e);return t&&"object"==typeof t?t:null}catch(e){return null}},t.prototype.getItem=function(e){return this.browserStorage.getItem(e)},t.prototype.setItem=function(e,t){this.browserStorage.setItem(e,t)},t.prototype.getAccount=function(e){var t=this.getItem(e);if(!t)return null;var r=this.validateAndParseJson(t);return r&&z.r.isAccountEntity(r)?V.L.toObject(new z.r,r):null},t.prototype.setAccount=function(e){this.logger.trace("BrowserCacheManager.setAccount called");var t=e.generateAccountKey();this.setItem(t,JSON.stringify(e))},t.prototype.getIdTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&W.w.isIdTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),V.L.toObject(new W.w,r)):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),null)},t.prototype.setIdTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAccessTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&J._.isAccessTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),V.L.toObject(new J._,r)):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),null)},t.prototype.setAccessTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getRefreshTokenCredential=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&Y.e.isRefreshTokenEntity(r)?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),V.L.toObject(new Y.e,r)):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),null)},t.prototype.setRefreshTokenCredential=function(e){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");var t=e.generateCredentialKey();this.setItem(t,JSON.stringify(e))},t.prototype.getAppMetadata=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&Q.T.isAppMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),V.L.toObject(new Q.T,r)):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null)},t.prototype.setAppMetadata=function(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");var t=e.generateAppMetadataKey();this.setItem(t,JSON.stringify(e))},t.prototype.getServerTelemetry=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&X.d.isServerTelemetryEntity(e,r)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),V.L.toObject(new X.d,r)):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)},t.prototype.setServerTelemetry=function(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.setItem(e,JSON.stringify(t))},t.prototype.getAuthorityMetadata=function(e){var t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&Z.l.isAuthorityMetadataEntity(e,r)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),V.L.toObject(new Z.l,r)):null},t.prototype.getAuthorityMetadataKeys=function(){var e=this;return this.internalStorage.getKeys().filter((function(t){return e.isAuthorityMetadata(t)}))},t.prototype.setWrapperMetadata=function(e,t){this.internalStorage.setItem(p.WRAPPER_SKU,e),this.internalStorage.setItem(p.WRAPPER_VER,t)},t.prototype.getWrapperMetadata=function(){return[this.internalStorage.getItem(p.WRAPPER_SKU)||"",this.internalStorage.getItem(p.WRAPPER_VER)||""]},t.prototype.setAuthorityMetadata=function(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))},t.prototype.getActiveAccount=function(){var e=this.generateCacheKey(v.Vi.ACTIVE_ACCOUNT),t=this.browserStorage.getItem(e);return t&&this.getAccountInfoByFilter({localAccountId:t})[0]||null},t.prototype.setActiveAccount=function(e){var t=this.generateCacheKey(v.Vi.ACTIVE_ACCOUNT);e?(this.logger.verbose("setActiveAccount: Active account set"),this.browserStorage.setItem(t,e.localAccountId)):(this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t))},t.prototype.getAccountInfoByFilter=function(e){return this.getAllAccounts().filter((function(t){return!(e.username&&e.username.toLowerCase()!==t.username.toLowerCase()||e.homeAccountId&&e.homeAccountId!==t.homeAccountId||e.localAccountId&&e.localAccountId!==t.localAccountId||e.tenantId&&e.tenantId!==t.tenantId||e.environment&&e.environment!==t.environment)}))},t.prototype.getThrottlingCache=function(e){var t=this.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;var r=this.validateAndParseJson(t);return r&&$.A.isThrottlingEntity(e,r)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),V.L.toObject(new $.A,r)):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)},t.prototype.setThrottlingCache=function(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.setItem(e,JSON.stringify(t))},t.prototype.getTemporaryCache=function(e,t){var r=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){var n=this.getItemCookie(r);if(n)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),n}var o=this.temporaryCacheStorage.getItem(r);if(!o){if(this.cacheConfig.cacheLocation===l.LocalStorage){var i=this.browserStorage.getItem(r);if(i)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),i}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),o},t.prototype.setTemporaryCache=function(e,t,r){var n=r?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(n,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.setItemCookie(n,t))},t.prototype.removeItem=function(e){return this.browserStorage.removeItem(e),this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.clearItemCookie(e)),!0},t.prototype.containsKey=function(e){return this.browserStorage.containsKey(e)||this.temporaryCacheStorage.containsKey(e)},t.prototype.getKeys=function(){return u(this.browserStorage.getKeys(),this.temporaryCacheStorage.getKeys())},t.prototype.clear=function(){return a(this,void 0,void 0,(function(){var e=this;return s(this,(function(t){switch(t.label){case 0:return[4,this.removeAllAccounts()];case 1:return t.sent(),this.removeAppMetadata(),this.getKeys().forEach((function(t){!e.browserStorage.containsKey(t)&&!e.temporaryCacheStorage.containsKey(t)||-1===t.indexOf(v.gT.CACHE_PREFIX)&&-1===t.indexOf(e.clientId)||e.removeItem(t)})),this.internalStorage.clear(),[2]}}))}))},t.prototype.setItemCookie=function(e,t,r){var n=encodeURIComponent(e)+"="+encodeURIComponent(t)+";path=/;";r&&(n+="expires="+this.getCookieExpirationTime(r)+";"),this.cacheConfig.secureCookies&&(n+="Secure;"),document.cookie=n},t.prototype.getItemCookie=function(e){for(var t=encodeURIComponent(e)+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var o=r[n];" "===o.charAt(0);)o=o.substring(1);if(0===o.indexOf(t))return decodeURIComponent(o.substring(t.length,o.length))}return""},t.prototype.clearMsalCookies=function(){var e=this,t=v.gT.CACHE_PREFIX+"."+this.clientId;document.cookie.split(";").forEach((function(r){for(;" "===r.charAt(0);)r=r.substring(1);if(0===r.indexOf(t)){var n=r.split("=")[0];e.clearItemCookie(n)}}))},t.prototype.clearItemCookie=function(e){this.setItemCookie(e,"",-1)},t.prototype.getCookieExpirationTime=function(e){var t=new Date;return new Date(t.getTime()+e*this.COOKIE_LIFE_MULTIPLIER).toUTCString()},t.prototype.getCache=function(){return this.browserStorage},t.prototype.setCache=function(){},t.prototype.generateCacheKey=function(e){return this.validateAndParseJson(e)?JSON.stringify(e):k.x.startsWith(e,v.gT.CACHE_PREFIX)||k.x.startsWith(e,v.Vi.ADAL_ID_TOKEN)?e:v.gT.CACHE_PREFIX+"."+this.clientId+"."+e},t.prototype.generateAuthorityKey=function(e){var t=ee.C.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(h.AUTHORITY+"."+t)},t.prototype.generateNonceKey=function(e){var t=ee.C.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(h.NONCE_IDTOKEN+"."+t)},t.prototype.generateStateKey=function(e){var t=ee.C.parseRequestState(this.cryptoImpl,e).libraryState.id;return this.generateCacheKey(h.REQUEST_STATE+"."+t)},t.prototype.getCachedAuthority=function(e){var t=this.generateStateKey(e),r=this.getTemporaryCache(t);if(!r)return null;var n=this.generateAuthorityKey(r);return this.getTemporaryCache(n)},t.prototype.updateCacheEntries=function(e,t,r,n,o){this.logger.trace("BrowserCacheManager.updateCacheEntries called");var i=this.generateStateKey(e);this.setTemporaryCache(i,e,!1);var a=this.generateNonceKey(e);this.setTemporaryCache(a,t,!1);var s=this.generateAuthorityKey(e);if(this.setTemporaryCache(s,r,!1),o){var c={credential:o.homeAccountId,type:te.G.HOME_ACCOUNT_ID};this.setTemporaryCache(h.CCS_CREDENTIAL,JSON.stringify(c),!0)}else k.x.isEmpty(n)||(c={credential:n,type:te.G.UPN},this.setTemporaryCache(h.CCS_CREDENTIAL,JSON.stringify(c),!0))},t.prototype.resetRequestCache=function(e){var t=this;this.logger.trace("BrowserCacheManager.resetRequestCache called"),k.x.isEmpty(e)||this.getKeys().forEach((function(r){-1!==r.indexOf(e)&&t.removeItem(r)})),e&&(this.removeItem(this.generateStateKey(e)),this.removeItem(this.generateNonceKey(e)),this.removeItem(this.generateAuthorityKey(e))),this.removeItem(this.generateCacheKey(h.REQUEST_PARAMS)),this.removeItem(this.generateCacheKey(h.ORIGIN_URI)),this.removeItem(this.generateCacheKey(h.URL_HASH)),this.removeItem(this.generateCacheKey(h.CORRELATION_ID)),this.removeItem(this.generateCacheKey(h.CCS_CREDENTIAL)),this.setInteractionInProgress(!1)},t.prototype.cleanRequestByState=function(e){if(this.logger.trace("BrowserCacheManager.cleanRequestByState called"),e){var t=this.generateStateKey(e),r=this.temporaryCacheStorage.getItem(t);this.logger.infoPii("BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: "+r),this.resetRequestCache(r||"")}this.clearMsalCookies()},t.prototype.cleanRequestByInteractionType=function(e){var t=this;this.logger.trace("BrowserCacheManager.cleanRequestByInteractionType called"),this.getKeys().forEach((function(r){if(-1!==r.indexOf(h.REQUEST_STATE)){var n=t.temporaryCacheStorage.getItem(r);if(n){var o=ce.extractBrowserRequestState(t.cryptoImpl,n);o&&o.interactionType===e&&(t.logger.infoPii("BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: "+n),t.resetRequestCache(n))}}})),this.clearMsalCookies(),this.setInteractionInProgress(!1)},t.prototype.cacheCodeRequest=function(e,t){this.logger.trace("BrowserCacheManager.cacheCodeRequest called");var r=t.base64Encode(JSON.stringify(e));this.setTemporaryCache(h.REQUEST_PARAMS,r,!0)},t.prototype.getCachedRequest=function(e,t){this.logger.trace("BrowserCacheManager.getCachedRequest called");var r=this.getTemporaryCache(h.REQUEST_PARAMS,!0);if(!r)throw O.createNoTokenRequestCacheError();var n=this.validateAndParseJson(t.base64Decode(r));if(!n)throw O.createUnableToParseTokenRequestCacheError();if(this.removeItem(this.generateCacheKey(h.REQUEST_PARAMS)),k.x.isEmpty(n.authority)){var o=this.generateAuthorityKey(e),i=this.getTemporaryCache(o);if(!i)throw O.createNoCachedAuthorityError();n.authority=i}return n},t.prototype.isInteractionInProgress=function(e){var t=this.getInteractionInProgress();return e?t===this.clientId:!!t},t.prototype.getInteractionInProgress=function(){var e=v.gT.CACHE_PREFIX+"."+h.INTERACTION_STATUS_KEY;return this.getTemporaryCache(e,!1)},t.prototype.setInteractionInProgress=function(e){var t=v.gT.CACHE_PREFIX+"."+h.INTERACTION_STATUS_KEY;if(e){if(this.getInteractionInProgress())throw O.createInteractionInProgressError();this.setTemporaryCache(t,this.clientId,!1)}else e||this.getInteractionInProgress()!==this.clientId||this.removeItem(t)},t.prototype.getLegacyLoginHint=function(){var e=this.getTemporaryCache(v.Vi.ADAL_ID_TOKEN);e&&(this.browserStorage.removeItem(v.Vi.ADAL_ID_TOKEN),this.logger.verbose("Cached ADAL id token retrieved."));var t=this.getTemporaryCache(v.Vi.ID_TOKEN,!0);t&&(this.removeItem(this.generateCacheKey(v.Vi.ID_TOKEN)),this.logger.verbose("Cached MSAL.js v1 id token retrieved"));var r=t||e;if(r){var n=new re.H(r,this.cryptoImpl);if(n.claims&&n.claims.preferred_username)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint"),n.claims.preferred_username;if(n.claims&&n.claims.upn)return this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint"),n.claims.upn;this.logger.verbose("No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.")}return null},t.prototype.updateCredentialCacheKey=function(e,t){var r=t.generateCredentialKey();if(e!==r){var n=this.getItem(e);if(n)return this.removeItem(e),this.setItem(r,n),this.logger.verbose("Updated an outdated "+t.credentialType+" cache key"),r;this.logger.error("Attempted to update an outdated "+t.credentialType+" cache key but no item matching the outdated key was found in storage")}return e},t}(V.L),le=r(82617),de=r(58440),he=r(14854),pe=r(30658),fe=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return a(this,void 0,void 0,(function(){var r,n,o;return s(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,fetch(e,{method:d.GET,headers:this.getFetchHeaders(t)})];case 1:return r=i.sent(),[3,3];case 2:throw n=i.sent(),window.navigator.onLine?O.createGetRequestFailedError(n,e):O.createNoNetworkConnectivityError();case 3:return i.trys.push([3,5,,6]),o={headers:this.getHeaderDict(r.headers)},[4,r.json()];case 4:return[2,(o.body=i.sent(),o.status=r.status,o)];case 5:throw i.sent(),O.createFailedToParseNetworkResponseError(e);case 6:return[2]}}))}))},e.prototype.sendPostRequestAsync=function(e,t){return a(this,void 0,void 0,(function(){var r,n,o,i;return s(this,(function(a){switch(a.label){case 0:r=t&&t.body||"",a.label=1;case 1:return a.trys.push([1,3,,4]),[4,fetch(e,{method:d.POST,headers:this.getFetchHeaders(t),body:r})];case 2:return n=a.sent(),[3,4];case 3:throw o=a.sent(),window.navigator.onLine?O.createPostRequestFailedError(o,e):O.createNoNetworkConnectivityError();case 4:return a.trys.push([4,6,,7]),i={headers:this.getHeaderDict(n.headers)},[4,n.json()];case 5:return[2,(i.body=a.sent(),i.status=n.status,i)];case 6:throw a.sent(),O.createFailedToParseNetworkResponseError(e);case 7:return[2]}}))}))},e.prototype.getFetchHeaders=function(e){var t=new Headers;if(!e||!e.headers)return t;var r=e.headers;return Object.keys(r).forEach((function(e){t.append(e,r[e])})),t},e.prototype.getHeaderDict=function(e){var t={};return e.forEach((function(e,r){t[r]=e})),t},e}(),ge=function(){function e(){}return e.prototype.sendGetRequestAsync=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){return[2,this.sendRequestAsync(e,d.GET,t)]}))}))},e.prototype.sendPostRequestAsync=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){return[2,this.sendRequestAsync(e,d.POST,t)]}))}))},e.prototype.sendRequestAsync=function(e,t,r){var n=this;return new Promise((function(o,i){var a=new XMLHttpRequest;if(a.open(t,e,!0),n.setXhrHeaders(a,r),a.onload=function(){(a.status<200||a.status>=300)&&(t===d.POST?i(O.createPostRequestFailedError("Failed with status "+a.status,e)):i(O.createGetRequestFailedError("Failed with status "+a.status,e)));try{var r=JSON.parse(a.responseText),s={headers:n.getHeaderDict(a),body:r,status:a.status};o(s)}catch(t){i(O.createFailedToParseNetworkResponseError(e))}},a.onerror=function(){window.navigator.onLine?t===d.POST?i(O.createPostRequestFailedError("Failed with status "+a.status,e)):i(O.createGetRequestFailedError("Failed with status "+a.status,e)):i(O.createNoNetworkConnectivityError())},t===d.POST&&r&&r.body)a.send(r.body);else{if(t!==d.GET)throw O.createHttpMethodNotImplementedError(t);a.send()}}))},e.prototype.setXhrHeaders=function(e,t){if(t&&t.headers){var r=t.headers;Object.keys(r).forEach((function(t){e.setRequestHeader(t,r[t])}))}},e.prototype.getHeaderDict=function(e){var t=e.getAllResponseHeaders().trim().split(/[\r\n]+/),r={};return t.forEach((function(e){var t=e.split(": "),n=t.shift(),o=t.join(": ");n&&o&&(r[n]=o)})),r},e}(),me=function(){function e(){}return e.clearHash=function(e){e.location.hash=v.gT.EMPTY_STRING,"function"==typeof e.history.replaceState&&e.history.replaceState(null,v.gT.EMPTY_STRING,""+e.location.origin+e.location.pathname+e.location.search)},e.replaceHash=function(e){var t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""},e.isInIframe=function(){return window.parent!==window},e.isInPopup=function(){return"undefined"!=typeof window&&!!window.opener&&window.opener!==window&&"string"==typeof window.name&&0===window.name.indexOf(y.POPUP_NAME_PREFIX+".")},e.getCurrentUri=function(){return window.location.href.split("?")[0].split("#")[0]},e.getHomepage=function(){var e=new se.G(window.location.href).getUrlComponents();return e.Protocol+"//"+e.HostNameAndPort+"/"},e.getBrowserNetworkClient=function(){return window.fetch&&window.Headers?new fe:new ge},e.blockReloadInHiddenIframes=function(){if(se.G.hashContainsKnownProperties(window.location.hash)&&e.isInIframe())throw O.createBlockReloadInHiddenIframeError()},e.blockRedirectInIframe=function(t,r){var n=e.isInIframe();if(t===g.Redirect&&n&&!r)throw O.createRedirectInIframeError(n)},e.blockAcquireTokenInPopups=function(){if(e.isInPopup())throw O.createBlockAcquireTokenInPopupsError()},e.blockNonBrowserEnvironment=function(e){if(!e)throw O.createNonBrowserEnvironmentError()},e.detectIEOrEdge=function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE "),r=e.indexOf("Trident/"),n=e.indexOf("Edge/");return t>0||r>0||n>0},e}(),ve=function(){function e(){}return e.prototype.navigateInternal=function(t,r){return e.defaultNavigateWindow(t,r)},e.prototype.navigateExternal=function(t,r){return e.defaultNavigateWindow(t,r)},e.defaultNavigateWindow=function(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((function(e){setTimeout((function(){e(!0)}),t.timeout)}))},e}(),ye=6e3,Ce="@azure/msal-browser",Ee="2.22.0";!function(e){e.ACCOUNT_ADDED="msal:accountAdded",e.ACCOUNT_REMOVED="msal:accountRemoved",e.LOGIN_START="msal:loginStart",e.LOGIN_SUCCESS="msal:loginSuccess",e.LOGIN_FAILURE="msal:loginFailure",e.ACQUIRE_TOKEN_START="msal:acquireTokenStart",e.ACQUIRE_TOKEN_SUCCESS="msal:acquireTokenSuccess",e.ACQUIRE_TOKEN_FAILURE="msal:acquireTokenFailure",e.ACQUIRE_TOKEN_NETWORK_START="msal:acquireTokenFromNetworkStart",e.SSO_SILENT_START="msal:ssoSilentStart",e.SSO_SILENT_SUCCESS="msal:ssoSilentSuccess",e.SSO_SILENT_FAILURE="msal:ssoSilentFailure",e.ACQUIRE_TOKEN_BY_CODE_START="msal:acquireTokenByCodeStart",e.ACQUIRE_TOKEN_BY_CODE_SUCCESS="msal:acquireTokenByCodeSuccess",e.ACQUIRE_TOKEN_BY_CODE_FAILURE="msal:acquireTokenByCodeFailure",e.HANDLE_REDIRECT_START="msal:handleRedirectStart",e.HANDLE_REDIRECT_END="msal:handleRedirectEnd",e.POPUP_OPENED="msal:popupOpened",e.LOGOUT_START="msal:logoutStart",e.LOGOUT_SUCCESS="msal:logoutSuccess",e.LOGOUT_FAILURE="msal:logoutFailure",e.LOGOUT_END="msal:logoutEnd"}(w||(w={}));var Te=function(){function e(e,t){this.eventCallbacks=new Map,this.logger=e,this.browserCrypto=t,this.listeningToStorageEvents=!1,this.handleAccountCacheChange=this.handleAccountCacheChange.bind(this)}return e.prototype.addEventCallback=function(e){if("undefined"!=typeof window){var t=this.browserCrypto.createNewGuid();return this.eventCallbacks.set(t,e),this.logger.verbose("Event callback registered with id: "+t),t}return null},e.prototype.removeEventCallback=function(e){this.eventCallbacks.delete(e),this.logger.verbose("Event callback "+e+" removed.")},e.prototype.enableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?this.logger.verbose("Account storage listener already registered."):(this.logger.verbose("Adding account storage listener."),this.listeningToStorageEvents=!0,window.addEventListener("storage",this.handleAccountCacheChange)))},e.prototype.disableAccountStorageEvents=function(){"undefined"!=typeof window&&(this.listeningToStorageEvents?(this.logger.verbose("Removing account storage listener."),window.removeEventListener("storage",this.handleAccountCacheChange),this.listeningToStorageEvents=!1):this.logger.verbose("No account storage listener registered."))},e.prototype.emitEvent=function(e,t,r,n){var o=this;if("undefined"!=typeof window){var i={eventType:e,interactionType:t||null,payload:r||null,error:n||null,timestamp:Date.now()};this.logger.info("Emitting event: "+e),this.eventCallbacks.forEach((function(t,r){o.logger.verbose("Emitting event to callback "+r+": "+e),t.apply(null,[i])}))}},e.prototype.handleAccountCacheChange=function(e){try{var t=e.newValue||e.oldValue;if(!t)return;var r=JSON.parse(t);if("object"!=typeof r||!z.r.isAccountEntity(r))return;var n=V.L.toObject(new z.r,r).getAccountInfo();!e.oldValue&&e.newValue?(this.logger.info("Account was added to cache in a different window"),this.emitEvent(w.ACCOUNT_ADDED,void 0,n)):!e.newValue&&e.oldValue&&(this.logger.info("Account was removed from cache in a different window"),this.emitEvent(w.ACCOUNT_REMOVED,void 0,n))}catch(e){return}},e}(),we=r(47282),Se=r(29046),Ie=r(95622),be=r(65676),Ae=r(47181),_e=r(31093),Re=function(e){function t(t,r,n,o,i,a,s){var c=e.call(this,t,r,n,o,i,s)||this;return c.navigationClient=a,c}return o(t,e),t.prototype.initializeAuthorizationCodeRequest=function(e){return a(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called",e.correlationId),[4,this.browserCrypto.generatePkceCodes()];case 1:return t=n.sent(),r=i(i({},e),{redirectUri:e.redirectUri,code:"",codeVerifier:t.verifier}),e.codeChallenge=t.challenge,e.codeChallengeMethod=v.gT.S256_CODE_CHALLENGE_METHOD,[2,r]}}))}))},t.prototype.initializeLogoutRequest=function(e){this.logger.verbose("initializeLogoutRequest called",null==e?void 0:e.correlationId);var t=i({correlationId:this.browserCrypto.createNewGuid()},e);if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){var r=this.getLogoutHintFromIdTokenClaims(e.account);r&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=r)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=se.G.getAbsoluteUrl(e.postLogoutRedirectUri,me.getCurrentUri())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=se.G.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,me.getCurrentUri())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=se.G.getAbsoluteUrl(me.getCurrentUri(),me.getCurrentUri())),t},t.prototype.getLogoutHintFromIdTokenClaims=function(e){var t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null},t.prototype.createAuthCodeClient=function(e,t,r){return a(this,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=o.sent(),[2,new Se.U(n)]}}))}))},t.prototype.getClientConfiguration=function(e,t,r){return a(this,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return this.logger.verbose("getClientConfiguration called"),[4,this.getDiscoveredAuthority(t,r)];case 1:return n=o.sent(),[2,{authOptions:{clientId:this.config.auth.clientId,authority:n,clientCapabilities:this.config.auth.clientCapabilities},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:this.config.system.loggerOptions.loggerCallback,piiLoggingEnabled:this.config.system.loggerOptions.piiLoggingEnabled,logLevel:this.config.system.loggerOptions.logLevel,correlationId:this.correlationId},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:e,libraryInfo:{sku:y.MSAL_SKU,version:Ee,cpu:"",os:""}}]}}))}))},t.prototype.validateAndExtractStateFromHash=function(e,t,r){this.logger.verbose("validateAndExtractStateFromHash called",r);var n=se.G.getDeserializedHash(e);if(!n.state)throw O.createHashDoesNotContainStateError();var o=ce.extractBrowserRequestState(this.browserCrypto,n.state);if(!o)throw O.createUnableToParseStateError();if(o.interactionType!==t)throw O.createStateInteractionTypeMismatchError();return this.logger.verbose("Returning state from hash",r),n.state},t.prototype.getDiscoveredAuthority=function(e,t){return a(this,void 0,void 0,(function(){var r,n,o;return s(this,(function(i){switch(i.label){case 0:return this.logger.verbose("getDiscoveredAuthority called"),r={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},n=e||this.config.auth.authority,o=Ie.W.generateAuthority(n,t||this.config.auth.azureCloudOptions),this.logger.verbose("Creating discovered authority with configured authority"),[4,be.A.createDiscoveredInstance(o,this.config.system.networkClient,this.browserStorage,r)];case 1:return[2,i.sent()]}}))}))},t.prototype.initializeAuthorizationRequest=function(e,t){return a(this,void 0,void 0,(function(){var r,n,o,a,c,u,l;return s(this,(function(s){switch(s.label){case 0:return this.logger.verbose("initializeAuthorizationRequest called"),r=this.getRedirectUri(e.redirectUri),n={interactionType:t},o=ee.C.setRequestState(this.browserCrypto,e&&e.state||v.gT.EMPTY_STRING,n),c=[{}],[4,this.initializeBaseRequest(e)];case 1:return a=i.apply(void 0,[i.apply(void 0,c.concat([s.sent()])),{redirectUri:r,state:o,nonce:e.nonce||this.browserCrypto.createNewGuid(),responseMode:v.vw.FRAGMENT}]),(u=e.account||this.browserStorage.getActiveAccount())&&(this.logger.verbose("Setting validated request account"),this.logger.verbosePii("Setting validated request account: "+u),a.account=u),k.x.isEmpty(a.loginHint)&&!u&&(l=this.browserStorage.getLegacyLoginHint())&&(a.loginHint=l),[2,a]}}))}))},t}(function(){function e(e,t,r,n,o,i){this.config=e,this.browserStorage=t,this.browserCrypto=r,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.correlationId=i||this.browserCrypto.createNewGuid(),this.logger=n.clone(y.MSAL_SKU,Ee,this.correlationId)}return e.prototype.clearCacheOnLogout=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:if(!e)return[3,5];z.r.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null)),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.browserStorage.removeAccount(z.r.generateAccountCacheKey(e))];case 2:return t.sent(),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request."),[3,4];case 3:return t.sent(),this.logger.error("Account provided in logout request was not found. Local cache unchanged."),[3,4];case 4:return[3,9];case 5:return t.trys.push([5,8,,9]),[4,this.browserStorage.clear()];case 6:return t.sent(),[4,this.browserCrypto.clearKeystore()];case 7:return t.sent(),this.logger.verbose("No account provided in logout request, clearing all cache items."),[3,9];case 8:return t.sent(),this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged."),[3,9];case 9:return[2]}}))}))},e.prototype.initializeBaseRequest=function(e){return a(this,void 0,void 0,(function(){var t,r,n;return s(this,(function(o){switch(o.label){case 0:if(this.logger.verbose("Initializing BaseAuthRequest"),t=e.authority||this.config.auth.authority,r=u(e&&e.scopes||[]),e.authenticationScheme){if(e.authenticationScheme===v.hO.SSH){if(!e.sshJwk)throw Ae.r.createMissingSshJwkError();if(!e.sshKid)throw Ae.r.createMissingSshKidError()}this.logger.verbose('Authentication Scheme set to "'+e.authenticationScheme+'" as configured in Auth request')}else e.authenticationScheme=v.hO.BEARER,this.logger.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return!e.claims||k.x.isEmpty(e.claims)?[3,2]:(n=e,[4,this.browserCrypto.hashString(e.claims)]);case 1:n.requestedClaimsHash=o.sent(),o.label=2;case 2:return[2,i(i({},e),{correlationId:this.correlationId,authority:t,scopes:r})]}}))}))},e.prototype.getRedirectUri=function(e){this.logger.verbose("getRedirectUri called");var t=e||this.config.auth.redirectUri||me.getCurrentUri();return se.G.getAbsoluteUrl(t,me.getCurrentUri())},e.prototype.initializeServerTelemetryManager=function(e,t){this.logger.verbose("initializeServerTelemetryManager called");var r={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new _e.d(r,this.browserStorage)},e}()),ke=function(){function e(e,t){this.browserStorage=e,this.logger=t,this.unloadWindow=this.unloadWindow.bind(this)}return e.prototype.openPopup=function(t,r){try{var n=void 0;if(r.popup?(n=r.popup,this.logger.verbosePii("Navigating popup window to: "+t),n.location.assign(t)):void 0===r.popup&&(this.logger.verbosePii("Opening popup window to: "+t),n=e.openSizedPopup(t,r.popupName,r.popupWindowAttributes,this.logger)),!n)throw O.createEmptyWindowCreatedError();return n.focus&&n.focus(),this.currentWindow=n,window.addEventListener("beforeunload",this.unloadWindow),n}catch(e){throw this.logger.error("error opening popup "+e.message),this.browserStorage.setInteractionInProgress(!1),O.createPopupWindowError(e.toString())}},e.openSizedPopup=function(e,t,r,n){var o,i,a,s,c=window.screenLeft?window.screenLeft:window.screenX,u=window.screenTop?window.screenTop:window.screenY,l=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,d=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,h=null===(o=r.popupSize)||void 0===o?void 0:o.width,p=null===(i=r.popupSize)||void 0===i?void 0:i.height,f=null===(a=r.popupPosition)||void 0===a?void 0:a.top,g=null===(s=r.popupPosition)||void 0===s?void 0:s.left;return(!h||h<0||h>l)&&(n.verbose("Default popup window width used. Window width not configured or invalid."),h=y.POPUP_WIDTH),(!p||p<0||p>d)&&(n.verbose("Default popup window height used. Window height not configured or invalid."),p=y.POPUP_HEIGHT),(!f||f<0||f>d)&&(n.verbose("Default popup window top position used. Window top not configured or invalid."),f=Math.max(0,d/2-y.POPUP_HEIGHT/2+u)),(!g||g<0||g>l)&&(n.verbose("Default popup window left position used. Window left not configured or invalid."),g=Math.max(0,l/2-y.POPUP_WIDTH/2+c)),window.open(e,t,"width="+h+", height="+p+", top="+f+", left="+g+", scrollbars=yes")},e.prototype.unloadWindow=function(e){this.browserStorage.cleanRequestByInteractionType(g.Popup),this.currentWindow&&this.currentWindow.close(),e.preventDefault()},e.prototype.cleanPopup=function(e){e&&e.close(),window.removeEventListener("beforeunload",this.unloadWindow),this.browserStorage.setInteractionInProgress(!1)},e.prototype.monitorPopupForSameOrigin=function(e){var t=this;return new Promise((function(r,n){var o=setInterval((function(){if(e.closed)return t.cleanPopup(),clearInterval(o),void n(O.createUserCancelledError());var i=v.gT.EMPTY_STRING;try{i=e.location.href}catch(e){}k.x.isEmpty(i)||"about:blank"===i||(clearInterval(o),r())}),y.POLL_INTERVAL_MS)}))},e.generatePopupName=function(e,t,r,n){return y.POPUP_NAME_PREFIX+"."+e+"."+t.join("-")+"."+r+"."+n},e.generateLogoutPopupName=function(e,t){var r=t.account&&t.account.homeAccountId;return y.POPUP_NAME_PREFIX+"."+e+"."+r+"."+t.correlationId},e}(),Ne=function(){function e(e,t,r,n){this.authModule=e,this.browserStorage=t,this.authCodeRequest=r,this.browserRequestLogger=n}return e.prototype.handleCodeResponseFromHash=function(e,t,r,n){return a(this,void 0,void 0,(function(){var o,i,a;return s(this,(function(s){if(this.browserRequestLogger.verbose("InteractionHandler.handleCodeResponse called"),k.x.isEmpty(e))throw O.createEmptyHashError(e);if(o=this.browserStorage.generateStateKey(t),!(i=this.browserStorage.getTemporaryCache(o)))throw ae.e.createStateNotFoundError("Cached State");return a=this.authModule.handleFragmentResponse(e,i),[2,this.handleCodeResponseFromServer(a,t,r,n)]}))}))},e.prototype.handleCodeResponseFromServer=function(e,t,r,n,o){return void 0===o&&(o=!0),a(this,void 0,void 0,(function(){var i,a,c,u,l,d;return s(this,(function(s){switch(s.label){case 0:if(this.browserRequestLogger.trace("InteractionHandler.handleCodeResponseFromServer called"),i=this.browserStorage.generateStateKey(t),!(a=this.browserStorage.getTemporaryCache(i)))throw ae.e.createStateNotFoundError("Cached State");return c=this.browserStorage.generateNonceKey(a),u=this.browserStorage.getTemporaryCache(c),this.authCodeRequest.code=e.code,e.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(e.cloud_instance_host_name,r,n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return o&&(e.nonce=u||void 0),e.state=a,e.client_info?this.authCodeRequest.clientInfo=e.client_info:(l=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=l),[4,this.authModule.acquireToken(this.authCodeRequest,e)];case 3:return d=s.sent(),this.browserStorage.cleanRequestByState(t),[2,d]}}))}))},e.prototype.updateTokenEndpointAuthority=function(e,t,r){return a(this,void 0,void 0,(function(){var n,o;return s(this,(function(i){switch(i.label){case 0:return n="https://"+e+"/"+t.tenant+"/",[4,be.A.createDiscoveredInstance(n,r,this.browserStorage,t.options)];case 1:return o=i.sent(),this.authModule.updateAuthority(o),[2]}}))}))},e.prototype.checkCcsCredentials=function(){var e=this.browserStorage.getTemporaryCache(h.CCS_CREDENTIAL,!0);if(e)try{return JSON.parse(e)}catch(t){this.authModule.logger.error("Cache credential could not be parsed"),this.authModule.logger.errorPii("Cache credential could not be parsed: "+e)}return null},e}(),Pe=function(e){function t(t,r,n,o){var i=e.call(this,t,r,n,o)||this;return i.popupUtils=new ke(r,o),i}return o(t,e),t.prototype.initiateAuthRequest=function(e,t){if(k.x.isEmpty(e))throw this.browserRequestLogger.error("Navigate url is empty"),O.createEmptyNavigationUriError();return this.browserRequestLogger.infoPii("Navigate to: "+e),this.popupUtils.openPopup(e,t)},t.prototype.monitorPopupForHash=function(e){var t=this;return this.popupUtils.monitorPopupForSameOrigin(e).then((function(){var r=e.location.hash;if(me.clearHash(e),t.popupUtils.cleanPopup(e),!r)throw O.createEmptyHashError(e.location.href);if(se.G.hashContainsKnownProperties(r))return r;throw O.createHashDoesNotContainKnownPropertiesError()}))},t}(Ne),Oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.acquireToken=function(e){try{var t=ke.generatePopupName(this.config.auth.clientId,e.scopes||v.f_,e.authority||this.config.auth.authority,this.correlationId),r=e.popupWindowAttributes||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,t,r);this.logger.verbose("asyncPopup set to false, opening popup before acquiring token");var n=ke.openSizedPopup("about:blank",t,r,this.logger);return this.acquireTokenPopupAsync(e,t,r,n)}catch(e){return Promise.reject(e)}},t.prototype.logout=function(e){try{this.logger.verbose("logoutPopup called");var t=this.initializeLogoutRequest(e),r=ke.generateLogoutPopupName(this.config.auth.clientId,t),n=e&&e.authority,o=e&&e.mainWindowRedirectUri,i=(null==e?void 0:e.popupWindowAttributes)||{};if(this.config.system.asyncPopups)return this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,r,i,n,void 0,o);this.logger.verbose("asyncPopup set to false, opening popup");var a=ke.openSizedPopup("about:blank",r,i,this.logger);return this.logoutPopupAsync(t,r,i,n,a,o)}catch(e){return Promise.reject(e)}},t.prototype.acquireTokenPopupAsync=function(e,t,r,n){return a(this,void 0,void 0,(function(){var o,i,a,c,u,l,d,h,p,m,v;return s(this,(function(s){switch(s.label){case 0:return this.logger.verbose("acquireTokenPopupAsync called"),o=this.initializeServerTelemetryManager(f.acquireTokenPopup),[4,this.initializeAuthorizationRequest(e,g.Popup)];case 1:i=s.sent(),this.browserStorage.updateCacheEntries(i.state,i.nonce,i.authority,i.loginHint||"",i.account||null),s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.initializeAuthorizationCodeRequest(i)];case 3:return a=s.sent(),[4,this.createAuthCodeClient(o,i.authority,i.azureCloudOptions)];case 4:return c=s.sent(),this.logger.verbose("Auth code client created"),[4,c.getAuthCodeUrl(i)];case 5:return u=s.sent(),l=new Pe(c,this.browserStorage,a,this.logger),d={popup:n,popupName:t,popupWindowAttributes:r},h=l.initiateAuthRequest(u,d),this.eventHandler.emitEvent(w.POPUP_OPENED,g.Popup,{popupWindow:h},null),[4,l.monitorPopupForHash(h)];case 6:return p=s.sent(),m=this.validateAndExtractStateFromHash(p,g.Popup,i.correlationId),we.v.removeThrottle(this.browserStorage,this.config.auth.clientId,a),[4,l.handleCodeResponseFromHash(p,m,c.authority,this.networkClient)];case 7:return[2,s.sent()];case 8:throw v=s.sent(),n&&n.close(),v instanceof N.l&&v.setCorrelationId(this.correlationId),o.cacheFailedRequest(v),this.browserStorage.cleanRequestByState(i.state),v;case 9:return[2]}}))}))},t.prototype.logoutPopupAsync=function(e,t,r,n,o,i){return a(this,void 0,void 0,(function(){var a,c,u,l,d,h,p,m,v;return s(this,(function(s){switch(s.label){case 0:this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(w.LOGOUT_START,g.Popup,e),a=this.initializeServerTelemetryManager(f.logoutPopup),s.label=1;case 1:return s.trys.push([1,8,,9]),[4,this.clearCacheOnLogout(e.account)];case 2:return s.sent(),[4,this.createAuthCodeClient(a,n)];case 3:c=s.sent(),this.logger.verbose("Auth code client created"),u=c.getLogoutUri(e),this.eventHandler.emitEvent(w.LOGOUT_SUCCESS,g.Popup,e),l=new ke(this.browserStorage,this.logger),d=l.openPopup(u,{popupName:t,popupWindowAttributes:r,popup:o}),this.eventHandler.emitEvent(w.POPUP_OPENED,g.Popup,{popupWindow:d},null),s.label=4;case 4:return s.trys.push([4,6,,7]),[4,l.monitorPopupForSameOrigin(d)];case 5:return s.sent(),this.logger.verbose("Popup successfully redirected to postLogoutRedirectUri"),[3,7];case 6:return h=s.sent(),this.logger.verbose("Error occurred while monitoring popup for same origin. Session on server may remain active. Error: "+h),[3,7];case 7:return l.cleanPopup(d),i?(p={apiId:f.logoutPopup,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},m=se.G.getAbsoluteUrl(i,me.getCurrentUri()),this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii("Redirecting main window to: "+m),this.navigationClient.navigateInternal(m,p)):this.logger.verbose("No main window navigation requested"),[3,9];case 8:throw v=s.sent(),o&&o.close(),v instanceof N.l&&v.setCorrelationId(this.correlationId),this.browserStorage.setInteractionInProgress(!1),this.eventHandler.emitEvent(w.LOGOUT_FAILURE,g.Popup,null,v),this.eventHandler.emitEvent(w.LOGOUT_END,g.Popup),a.cacheFailedRequest(v),v;case 9:return this.eventHandler.emitEvent(w.LOGOUT_END,g.Popup),[2]}}))}))},t}(Re),xe=function(e){function t(t,r,n,o,i){var a=e.call(this,t,r,n,o)||this;return a.browserCrypto=i,a}return o(t,e),t.prototype.initiateAuthRequest=function(e,t){return a(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest called"),k.x.isEmpty(e)?[3,7]:(t.redirectStartPage&&(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page"),this.browserStorage.setTemporaryCache(h.ORIGIN_URI,t.redirectStartPage,!0)),this.browserStorage.setTemporaryCache(h.CORRELATION_ID,this.authCodeRequest.correlationId,!0),this.browserStorage.cacheCodeRequest(this.authCodeRequest,this.browserCrypto),this.browserRequestLogger.infoPii("RedirectHandler.initiateAuthRequest: Navigate to: "+e),r={apiId:f.acquireTokenRedirect,timeout:t.redirectTimeout,noHistory:!1},"function"!=typeof t.onRedirectNavigate?[3,4]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback"),!1===t.onRedirectNavigate(e)?[3,2]:(this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),[4,t.navigationClient.navigateExternal(e,r)])));case 1:case 5:return n.sent(),[2];case 2:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation"),[2];case 3:return[3,6];case 4:return this.browserRequestLogger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),[4,t.navigationClient.navigateExternal(e,r)];case 6:return[3,8];case 7:throw this.browserRequestLogger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),O.createEmptyNavigationUriError();case 8:return[2]}}))}))},t.prototype.handleCodeResponseFromHash=function(e,t,r,n,o){return a(this,void 0,void 0,(function(){var i,a,c,u,l,d,h;return s(this,(function(s){switch(s.label){case 0:if(this.browserRequestLogger.verbose("RedirectHandler.handleCodeResponse called"),k.x.isEmpty(e))throw O.createEmptyHashError(e);if(this.browserStorage.setInteractionInProgress(!1),i=this.browserStorage.generateStateKey(t),!(a=this.browserStorage.getTemporaryCache(i)))throw ae.e.createStateNotFoundError("Cached State");return c=this.authModule.handleFragmentResponse(e,a),u=this.browserStorage.generateNonceKey(a),l=this.browserStorage.getTemporaryCache(u),this.authCodeRequest.code=c.code,c.cloud_instance_host_name?[4,this.updateTokenEndpointAuthority(c.cloud_instance_host_name,r,n)]:[3,2];case 1:s.sent(),s.label=2;case 2:return c.nonce=l||void 0,c.state=a,c.client_info?this.authCodeRequest.clientInfo=c.client_info:(d=this.checkCcsCredentials())&&(this.authCodeRequest.ccsCredential=d),o&&we.v.removeThrottle(this.browserStorage,o,this.authCodeRequest),[4,this.authModule.acquireToken(this.authCodeRequest,c)];case 3:return h=s.sent(),this.browserStorage.cleanRequestByState(t),[2,h]}}))}))},t}(Ne),Me=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.acquireToken=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o,i,a,c,u;return s(this,(function(s){switch(s.label){case 0:return[4,this.initializeAuthorizationRequest(e,g.Redirect)];case 1:t=s.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null),r=this.initializeServerTelemetryManager(f.acquireTokenRedirect),s.label=2;case 2:return s.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(t)];case 3:return n=s.sent(),[4,this.createAuthCodeClient(r,t.authority,t.azureCloudOptions)];case 4:return o=s.sent(),this.logger.verbose("Auth code client created"),i=new xe(o,this.browserStorage,n,this.logger,this.browserCrypto),[4,o.getAuthCodeUrl(t)];case 5:return a=s.sent(),c=this.getRedirectStartPage(e.redirectStartPage),this.logger.verbosePii("Redirect start page: "+c),[4,i.initiateAuthRequest(a,{navigationClient:this.navigationClient,redirectTimeout:this.config.system.redirectNavigationTimeout,redirectStartPage:c,onRedirectNavigate:e.onRedirectNavigate})];case 6:return[2,s.sent()];case 7:throw(u=s.sent())instanceof N.l&&u.setCorrelationId(this.correlationId),r.cacheFailedRequest(u),this.browserStorage.cleanRequestByState(t.state),u;case 8:return[2]}}))}))},t.prototype.handleRedirectPromise=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o,i,a,c,u,l,d,p;return s(this,(function(s){switch(s.label){case 0:t=this.initializeServerTelemetryManager(f.handleRedirectPromise),s.label=1;case 1:if(s.trys.push([1,10,,11]),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),[2,null];if(!(r=this.getRedirectResponseHash(e||window.location.hash)))return this.logger.info("handleRedirectPromise did not detect a response hash as a result of a redirect. Cleaning temporary cache."),this.browserStorage.cleanRequestByInteractionType(g.Redirect),[2,null];n=void 0;try{n=this.validateAndExtractStateFromHash(r,g.Redirect),this.logger.verbose("State extracted from hash")}catch(e){return this.logger.info("handleRedirectPromise was unable to extract state due to: "+e),this.browserStorage.cleanRequestByInteractionType(g.Redirect),[2,null]}return o=this.browserStorage.getTemporaryCache(h.ORIGIN_URI,!0)||"",i=se.G.removeHashFromUrl(o),a=se.G.removeHashFromUrl(window.location.href),i===a&&this.config.auth.navigateToLoginRequestUrl?(this.logger.verbose("Current page is loginRequestUrl, handling hash"),[4,this.handleHash(r,n,t)]):[3,3];case 2:return c=s.sent(),o.indexOf("#")>-1&&me.replaceHash(o),[2,c];case 3:return this.config.auth.navigateToLoginRequestUrl?[3,4]:(this.logger.verbose("NavigateToLoginRequestUrl set to false, handling hash"),[2,this.handleHash(r,n,t)]);case 4:return me.isInIframe()&&!this.config.system.allowRedirectInIframe?[3,9]:(this.browserStorage.setTemporaryCache(h.URL_HASH,r,!0),u={apiId:f.handleRedirectPromise,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0},l=!0,o&&"null"!==o?[3,6]:(d=me.getHomepage(),this.browserStorage.setTemporaryCache(h.ORIGIN_URI,d,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),[4,this.navigationClient.navigateInternal(d,u)]));case 5:return l=s.sent(),[3,8];case 6:return this.logger.verbose("Navigating to loginRequestUrl: "+o),[4,this.navigationClient.navigateInternal(o,u)];case 7:l=s.sent(),s.label=8;case 8:if(!l)return[2,this.handleHash(r,n,t)];s.label=9;case 9:return[2,null];case 10:throw(p=s.sent())instanceof N.l&&p.setCorrelationId(this.correlationId),t.cacheFailedRequest(p),this.browserStorage.cleanRequestByInteractionType(g.Redirect),p;case 11:return[2]}}))}))},t.prototype.getRedirectResponseHash=function(e){if(this.logger.verbose("getRedirectResponseHash called"),se.G.hashContainsKnownProperties(e))return me.clearHash(window),this.logger.verbose("Hash contains known properties, returning response hash"),e;var t=this.browserStorage.getTemporaryCache(h.URL_HASH,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(h.URL_HASH)),this.logger.verbose("Hash does not contain known properties, returning cached hash"),t},t.prototype.handleHash=function(e,t,r){return a(this,void 0,void 0,(function(){var n,o,i;return s(this,(function(a){switch(a.label){case 0:if(n=this.browserStorage.getCachedRequest(t,this.browserCrypto),this.logger.verbose("handleHash called, retrieved cached request"),!(o=this.browserStorage.getCachedAuthority(t)))throw O.createNoCachedAuthorityError();return[4,this.createAuthCodeClient(r,o)];case 1:return i=a.sent(),this.logger.verbose("Auth code client created"),[4,new xe(i,this.browserStorage,n,this.logger,this.browserCrypto).handleCodeResponseFromHash(e,t,i.authority,this.networkClient,this.config.auth.clientId)];case 2:return[2,a.sent()]}}))}))},t.prototype.logout=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o,i,a;return s(this,(function(s){switch(s.label){case 0:this.logger.verbose("logoutRedirect called"),t=this.initializeLogoutRequest(e),r=this.initializeServerTelemetryManager(f.logout),s.label=1;case 1:return s.trys.push([1,10,,11]),this.eventHandler.emitEvent(w.LOGOUT_START,g.Redirect,e),[4,this.clearCacheOnLogout(t.account)];case 2:return s.sent(),n={apiId:f.logout,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},[4,this.createAuthCodeClient(r,e&&e.authority)];case 3:return o=s.sent(),this.logger.verbose("Auth code client created"),i=o.getLogoutUri(t),this.eventHandler.emitEvent(w.LOGOUT_SUCCESS,g.Redirect,t),e&&"function"==typeof e.onRedirectNavigate?!1===e.onRedirectNavigate(i)?[3,5]:(this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),[4,this.navigationClient.navigateExternal(i,n)]):[3,7];case 4:return s.sent(),[2];case 5:this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation"),s.label=6;case 6:return[3,9];case 7:return[4,this.navigationClient.navigateExternal(i,n)];case 8:return s.sent(),[2];case 9:return[3,11];case 10:throw(a=s.sent())instanceof N.l&&a.setCorrelationId(this.correlationId),r.cacheFailedRequest(a),this.eventHandler.emitEvent(w.LOGOUT_FAILURE,g.Redirect,null,a),this.eventHandler.emitEvent(w.LOGOUT_END,g.Redirect),a;case 11:return this.eventHandler.emitEvent(w.LOGOUT_END,g.Redirect),[2]}}))}))},t.prototype.getRedirectStartPage=function(e){var t=e||window.location.href;return se.G.getAbsoluteUrl(t,me.getCurrentUri())},t}(Re),Le=function(e){function t(t,r,n,o,i){var a=e.call(this,t,r,n,o)||this;return a.navigateFrameWait=i,a}return o(t,e),t.prototype.initiateAuthRequest=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:if(k.x.isEmpty(e))throw this.browserRequestLogger.info("Navigate url is empty"),O.createEmptyNavigationUriError();return this.navigateFrameWait?[4,this.loadFrame(e)]:[3,2];case 1:return t=r.sent(),[3,3];case 2:t=this.loadFrameSync(e),r.label=3;case 3:return[2,t]}}))}))},t.prototype.monitorIframeForHash=function(e,t){var r=this;return new Promise((function(n,o){t<ye&&r.browserRequestLogger.warning("system.loadFrameTimeout or system.iframeHashTimeout set to lower ("+t+"ms) than the default ("+ye+"ms). This may result in timeouts.");var i=window.performance.now()+t,a=setInterval((function(){if(window.performance.now()>i)return r.removeHiddenIframe(e),clearInterval(a),void o(O.createMonitorIframeTimeoutError());var t=v.gT.EMPTY_STRING,s=e.contentWindow;try{t=s?s.location.href:v.gT.EMPTY_STRING}catch(e){}if(!k.x.isEmpty(t)){var c=s?s.location.hash:v.gT.EMPTY_STRING;return se.G.hashContainsKnownProperties(c)?(r.removeHiddenIframe(e),clearInterval(a),void n(c)):void 0}}),y.POLL_INTERVAL_MS)}))},t.prototype.loadFrame=function(e){var t=this;return new Promise((function(r,n){var o=t.createHiddenIframe();setTimeout((function(){o?(o.src=e,r(o)):n("Unable to load iframe")}),t.navigateFrameWait)}))},t.prototype.loadFrameSync=function(e){var t=this.createHiddenIframe();return t.src=e,t},t.prototype.createHiddenIframe=function(){var e=document.createElement("iframe");return e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.getElementsByTagName("body")[0].appendChild(e),e},t.prototype.removeHiddenIframe=function(e){document.body===e.parentNode&&document.body.removeChild(e)},t}(Ne),Ue=function(e){function t(t,r,n,o,i,a,s,c){var u=e.call(this,t,r,n,o,i,a,c)||this;return u.apiId=s,u}return o(t,e),t.prototype.acquireToken=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o,a,c;return s(this,(function(s){switch(s.label){case 0:if(this.logger.verbose("acquireTokenByIframe called"),k.x.isEmpty(e.loginHint)&&k.x.isEmpty(e.sid)&&(!e.account||k.x.isEmpty(e.account.username))&&this.logger.warning("No user hint provided. The authorization server may need more information to complete this request."),e.prompt&&e.prompt!==v.NJ.NONE)throw O.createSilentPromptValueError(e.prompt);return[4,this.initializeAuthorizationRequest(i(i({},e),{prompt:v.NJ.NONE}),g.Silent)];case 1:t=s.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null),r=this.initializeServerTelemetryManager(this.apiId),s.label=2;case 2:return s.trys.push([2,7,,8]),[4,this.initializeAuthorizationCodeRequest(t)];case 3:return n=s.sent(),[4,this.createAuthCodeClient(r,t.authority,t.azureCloudOptions)];case 4:return o=s.sent(),this.logger.verbose("Auth code client created"),[4,o.getAuthCodeUrl(t)];case 5:return a=s.sent(),[4,this.silentTokenHelper(a,n,o,this.logger)];case 6:return[2,s.sent()];case 7:throw(c=s.sent())instanceof N.l&&c.setCorrelationId(this.correlationId),r.cacheFailedRequest(c),this.browserStorage.cleanRequestByState(t.state),c;case 8:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.silentTokenHelper=function(e,t,r,n){return a(this,void 0,void 0,(function(){var o,i,a,c;return s(this,(function(s){switch(s.label){case 0:return[4,(o=new Le(r,this.browserStorage,t,n,this.config.system.navigateFrameWait)).initiateAuthRequest(e)];case 1:return i=s.sent(),[4,o.monitorIframeForHash(i,this.config.system.iframeHashTimeout)];case 2:return a=s.sent(),c=this.validateAndExtractStateFromHash(a,g.Silent,t.correlationId),[2,o.handleCodeResponseFromHash(a,c,r.authority,this.networkClient)]}}))}))},t}(Re),De=r(28508),Fe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.acquireToken=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o,a=this;return s(this,(function(s){switch(s.label){case 0:return r=[i({},e)],[4,this.initializeBaseRequest(e)];case 1:return t=i.apply(void 0,r.concat([s.sent()])),n=this.initializeServerTelemetryManager(f.acquireTokenSilent_silentFlow),[4,this.createRefreshTokenClient(n,t.authority,t.azureCloudOptions)];case 2:return o=s.sent(),this.logger.verbose("Refresh token client created"),[2,o.acquireTokenByRefreshToken(t).catch((function(e){throw e instanceof N.l&&e.setCorrelationId(a.correlationId),n.cacheFailedRequest(e),e}))]}}))}))},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.createRefreshTokenClient=function(e,t,r){return a(this,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=o.sent(),[2,new De.Y(n)]}}))}))},t}(Re),qe=r(92613),He=function(){function e(e,t,r,n){this.isBrowserEnvironment="undefined"!=typeof window,this.config=e,this.storage=t,this.logger=r,this.cryptoObj=n}return e.prototype.loadExternalTokens=function(e,t,r){if(this.logger.info("TokenCache - loadExternalTokens called"),!t.id_token)throw O.createUnableToLoadTokenError("Please ensure server response includes id token.");if(e.account)this.loadIdToken(t.id_token,e.account.homeAccountId,e.account.environment,e.account.tenantId,r),this.loadAccessToken(e,t,e.account.homeAccountId,e.account.environment,e.account.tenantId,r);else{if(!e.authority)throw O.createUnableToLoadTokenError("Please provide a request with an account or a request with authority.");var n=Ie.W.generateAuthority(e.authority,e.azureCloudOptions),o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata},i=new Ie.W(n,this.config.system.networkClient,this.storage,o);if(r.clientInfo)this.logger.trace("TokenCache - homeAccountId from options"),this.loadIdToken(t.id_token,r.clientInfo,i.hostnameAndPort,i.tenant,r),this.loadAccessToken(e,t,r.clientInfo,i.hostnameAndPort,i.tenant,r);else{if(!t.client_info)throw O.createUnableToLoadTokenError("Please provide clientInfo in the response or options.");this.logger.trace("TokenCache - homeAccountId from response"),this.loadIdToken(t.id_token,t.client_info,i.hostnameAndPort,i.tenant,r),this.loadAccessToken(e,t,t.client_info,i.hostnameAndPort,i.tenant,r)}}},e.prototype.loadIdToken=function(e,t,r,n,o){var i=W.w.createIdTokenEntity(t,r,e,this.config.auth.clientId,n),a=new re.H(e,this.cryptoObj),s=o.clientInfo?z.r.createAccount(o.clientInfo,t,a,void 0,void 0,void 0,void 0,r):z.r.createGenericAccount(t,a,void 0,void 0,void 0,void 0,r);if(!this.isBrowserEnvironment)throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading id token"),this.storage.setAccount(s),this.storage.setIdTokenCredential(i)},e.prototype.loadAccessToken=function(e,t,r,n,o,i){if(t.access_token){if(!t.expires_in)throw O.createUnableToLoadTokenError("Please ensure server response includes expires_in value.");if(!i.extendedExpiresOn)throw O.createUnableToLoadTokenError("Please provide an extendedExpiresOn value in the options.");var a=new qe.i(e.scopes).printScopes(),s=t.expires_in,c=i.extendedExpiresOn,u=J._.createAccessTokenEntity(r,n,t.access_token,this.config.auth.clientId,o,a,s,c,this.cryptoObj);if(!this.isBrowserEnvironment)throw O.createUnableToLoadTokenError("loadExternalTokens is designed to work in browser environments only.");this.logger.verbose("TokenCache - loading access token"),this.storage.setAccessTokenCredential(u)}else this.logger.verbose("TokenCache - No access token provided for caching")},e}(),Be=function(e){function t(t){var r=e.call(this,t)||this;return r.includeRedirectUri=!1,r}return o(t,e),t}(Se.U),Ke=function(e){function t(t,r,n,o,i,a,s,c){var u=e.call(this,t,r,n,o,i,a,c)||this;return u.apiId=s,u}return o(t,e),t.prototype.acquireToken=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o,a,c;return s(this,(function(s){switch(s.label){case 0:if(this.logger.trace("SilentAuthCodeClient.acquireToken called"),!e.code)throw O.createAuthCodeRequiredError();return[4,this.initializeAuthorizationRequest(e,g.Silent)];case 1:t=s.sent(),this.browserStorage.updateCacheEntries(t.state,t.nonce,t.authority,t.loginHint||"",t.account||null),r=this.initializeServerTelemetryManager(this.apiId),s.label=2;case 2:return s.trys.push([2,4,,5]),n=i(i({},t),{code:e.code}),[4,this.getClientConfiguration(r,t.authority)];case 3:return o=s.sent(),a=new Be(o),this.logger.verbose("Auth code client created"),[2,new Le(a,this.browserStorage,n,this.logger,this.config.system.navigateFrameWait).handleCodeResponseFromServer({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t.state,a.authority,this.networkClient,!1)];case 4:throw(c=s.sent())instanceof N.l&&c.setCorrelationId(this.correlationId),r.cacheFailedRequest(c),this.browserStorage.cleanRequestByState(t.state),c;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t}(Re),Ge=function(){function e(e){var t,r,n,o,a,s,c,u,d,h,p,f;this.isBrowserEnvironment="undefined"!=typeof window,this.config=(t=e,r=this.isBrowserEnvironment,n=t.auth,o=t.cache,a=t.system,s={clientId:"",authority:""+v.gT.DEFAULT_AUTHORITY,knownAuthorities:[],cloudDiscoveryMetadata:"",authorityMetadata:"",redirectUri:"",postLogoutRedirectUri:"",navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:le.A.AAD,azureCloudOptions:{azureCloudInstance:de.z.None,tenant:""}},c={cacheLocation:l.SessionStorage,storeAuthStateInCookie:!1,secureCookies:!1},u={loggerCallback:function(){},logLevel:B.i.Info,piiLoggingEnabled:!1},d=i(i({},he.z),{loggerOptions:u,networkClient:r?me.getBrowserNetworkClient():pe.y,navigationClient:new ve,loadFrameTimeout:0,windowHashTimeout:a&&a.loadFrameTimeout||6e4,iframeHashTimeout:a&&a.loadFrameTimeout||ye,navigateFrameWait:r&&me.detectIEOrEdge()?500:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1}),{auth:i(i({},s),n),cache:i(i({},c),o),system:i(i({},d),a)}),this.logger=new B.Y(this.config.system.loggerOptions,Ce,Ee),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.browserCrypto=this.isBrowserEnvironment?new H(this.logger):K.d,this.eventHandler=new Te(this.logger,this.browserCrypto),this.browserStorage=this.isBrowserEnvironment?new ue(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger):(h=this.config.auth.clientId,p=this.logger,f={cacheLocation:l.MemoryStorage,storeAuthStateInCookie:!1,secureCookies:!1},new ue(h,f,K.d,p)),this.tokenCache=new He(this.config,this.browserStorage,this.logger,this.browserCrypto)}return e.prototype.handleRedirectPromise=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o,i,a=this;return s(this,(function(s){return this.logger.verbose("handleRedirectPromise called"),t=this.getAllAccounts(),this.isBrowserEnvironment?(r=e||v.gT.EMPTY_STRING,void 0===(n=this.redirectResponse.get(r))?(this.eventHandler.emitEvent(w.HANDLE_REDIRECT_START,g.Redirect),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise"),o=this.browserStorage.getTemporaryCache(h.CORRELATION_ID,!0)||"",i=new Me(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,o),n=i.handleRedirectPromise(e).then((function(e){return e&&(t.length<a.getAllAccounts().length?(a.eventHandler.emitEvent(w.LOGIN_SUCCESS,g.Redirect,e),a.logger.verbose("handleRedirectResponse returned result, login success")):(a.eventHandler.emitEvent(w.ACQUIRE_TOKEN_SUCCESS,g.Redirect,e),a.logger.verbose("handleRedirectResponse returned result, acquire token success"))),a.eventHandler.emitEvent(w.HANDLE_REDIRECT_END,g.Redirect),e})).catch((function(e){throw t.length>0?a.eventHandler.emitEvent(w.ACQUIRE_TOKEN_FAILURE,g.Redirect,null,e):a.eventHandler.emitEvent(w.LOGIN_FAILURE,g.Redirect,null,e),a.eventHandler.emitEvent(w.HANDLE_REDIRECT_END,g.Redirect),e})),this.redirectResponse.set(r,n)):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),[2,n]):(this.logger.verbose("handleRedirectPromise returns null, not browser environment"),[2,null])}))}))},e.prototype.acquireTokenRedirect=function(e){return a(this,void 0,void 0,(function(){var t,r=this;return s(this,(function(n){return this.logger.verbose("acquireTokenRedirect called"),this.preflightBrowserEnvironmentCheck(g.Redirect),(t=this.getAllAccounts().length>0)?this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_START,g.Redirect,e):this.eventHandler.emitEvent(w.LOGIN_START,g.Redirect,e),[2,new Me(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId).acquireToken(e).catch((function(e){throw t?r.eventHandler.emitEvent(w.ACQUIRE_TOKEN_FAILURE,g.Redirect,null,e):r.eventHandler.emitEvent(w.LOGIN_FAILURE,g.Redirect,null,e),e}))]}))}))},e.prototype.acquireTokenPopup=function(e){var t=this;try{this.logger.verbose("acquireTokenPopup called",e.correlationId),this.preflightBrowserEnvironmentCheck(g.Popup)}catch(e){return Promise.reject(e)}var r=this.getAllAccounts();return r.length>0?this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_START,g.Popup,e):this.eventHandler.emitEvent(w.LOGIN_START,g.Popup,e),new Oe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId).acquireToken(e).then((function(e){return r.length<t.getAllAccounts().length?t.eventHandler.emitEvent(w.LOGIN_SUCCESS,g.Popup,e):t.eventHandler.emitEvent(w.ACQUIRE_TOKEN_SUCCESS,g.Popup,e),e})).catch((function(e){return r.length>0?t.eventHandler.emitEvent(w.ACQUIRE_TOKEN_FAILURE,g.Popup,null,e):t.eventHandler.emitEvent(w.LOGIN_FAILURE,g.Popup,null,e),Promise.reject(e)}))},e.prototype.ssoSilent=function(e){return a(this,void 0,void 0,(function(){var t,r;return s(this,(function(n){switch(n.label){case 0:this.preflightBrowserEnvironmentCheck(g.Silent),this.logger.verbose("ssoSilent called",e.correlationId),this.eventHandler.emitEvent(w.SSO_SILENT_START,g.Silent,e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,new Ue(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,f.ssoSilent,e.correlationId).acquireToken(e)];case 2:return t=n.sent(),this.eventHandler.emitEvent(w.SSO_SILENT_SUCCESS,g.Silent,t),[2,t];case 3:throw r=n.sent(),this.eventHandler.emitEvent(w.SSO_SILENT_FAILURE,g.Silent,null,r),r;case 4:return[2]}}))}))},e.prototype.acquireTokenByCode=function(e){return a(this,void 0,void 0,(function(){var t,r=this;return s(this,(function(n){this.preflightBrowserEnvironmentCheck(g.Silent),this.logger.trace("acquireTokenByCode called",e.correlationId),this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_BY_CODE_START,g.Silent,e);try{if(!e.code)throw O.createAuthCodeRequiredError();return(t=this.hybridAuthCodeResponses.get(e.code))?this.logger.verbose("Existing acquireTokenByCode request found",e.correlationId):(this.logger.verbose("Initiating new acquireTokenByCode request",e.correlationId),t=this.acquireTokenByCodeAsync(e).then((function(t){return r.eventHandler.emitEvent(w.ACQUIRE_TOKEN_BY_CODE_SUCCESS,g.Silent,t),r.hybridAuthCodeResponses.delete(e.code),t})).catch((function(t){throw r.hybridAuthCodeResponses.delete(e.code),t})),this.hybridAuthCodeResponses.set(e.code,t)),[2,t]}catch(e){throw this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_BY_CODE_FAILURE,g.Silent,null,e),e}return[2]}))}))},e.prototype.acquireTokenByCodeAsync=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),[4,new Ke(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,f.acquireTokenByCode,e.correlationId).acquireToken(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.acquireTokenByRefreshToken=function(e){return a(this,void 0,void 0,(function(){var t=this;return s(this,(function(r){return this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_NETWORK_START,g.Silent,e),me.blockReloadInHiddenIframes(),[2,new Fe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId).acquireToken(e).catch((function(r){var n=r instanceof G.n,o=r instanceof j.Yo,i=r.errorCode===y.INVALID_GRANT_ERROR;if(n&&i&&!o)return t.logger.verbose("Refresh token expired or invalid, attempting acquire token by iframe",e.correlationId),new Ue(t.config,t.browserStorage,t.browserCrypto,t.logger,t.eventHandler,t.navigationClient,f.acquireTokenSilent_authCode,e.correlationId).acquireToken(e);throw r}))]}))}))},e.prototype.logout=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead."),[2,this.logoutRedirect(e)]}))}))},e.prototype.logoutRedirect=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){return this.preflightBrowserEnvironmentCheck(g.Redirect),[2,new Me(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,null==e?void 0:e.correlationId).logout(e)]}))}))},e.prototype.logoutPopup=function(e){try{return this.preflightBrowserEnvironmentCheck(g.Popup),new Oe(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,null==e?void 0:e.correlationId).logout(e)}catch(e){return Promise.reject(e)}},e.prototype.getAllAccounts=function(){return this.logger.verbose("getAllAccounts called"),this.isBrowserEnvironment?this.browserStorage.getAllAccounts():[]},e.prototype.getAccountByUsername=function(e){var t=this.getAllAccounts();return!k.x.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching username found, returning"),this.logger.verbosePii("Returning signed-in accounts matching username: "+e),t.filter((function(t){return t.username.toLowerCase()===e.toLowerCase()}))[0]||null):(this.logger.verbose("getAccountByUsername: No matching account found, returning null"),null)},e.prototype.getAccountByHomeId=function(e){var t=this.getAllAccounts();return!k.x.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching homeAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching homeAccountId: "+e),t.filter((function(t){return t.homeAccountId===e}))[0]||null):(this.logger.verbose("getAccountByHomeId: No matching account found, returning null"),null)},e.prototype.getAccountByLocalId=function(e){var t=this.getAllAccounts();return!k.x.isEmpty(e)&&t&&t.length?(this.logger.verbose("Account matching localAccountId found, returning"),this.logger.verbosePii("Returning signed-in accounts matching localAccountId: "+e),t.filter((function(t){return t.localAccountId===e}))[0]||null):(this.logger.verbose("getAccountByLocalId: No matching account found, returning null"),null)},e.prototype.setActiveAccount=function(e){this.browserStorage.setActiveAccount(e)},e.prototype.getActiveAccount=function(){return this.browserStorage.getActiveAccount()},e.prototype.preflightBrowserEnvironmentCheck=function(e){if(this.logger.verbose("preflightBrowserEnvironmentCheck started"),me.blockNonBrowserEnvironment(this.isBrowserEnvironment),me.blockRedirectInIframe(e,this.config.system.allowRedirectInIframe),me.blockReloadInHiddenIframes(),me.blockAcquireTokenInPopups(),e===g.Redirect&&this.config.cache.cacheLocation===l.MemoryStorage&&!this.config.cache.storeAuthStateInCookie)throw oe.createInMemoryRedirectUnavailableError();e!==g.Redirect&&e!==g.Popup||this.preflightInteractiveRequest()},e.prototype.preflightInteractiveRequest=function(){this.logger.verbose("preflightInteractiveRequest called, validating app environment"),me.blockReloadInHiddenIframes(),this.browserStorage.setInteractionInProgress(!0)},e.prototype.addEventCallback=function(e){return this.eventHandler.addEventCallback(e)},e.prototype.removeEventCallback=function(e){this.eventHandler.removeEventCallback(e)},e.prototype.enableAccountStorageEvents=function(){this.eventHandler.enableAccountStorageEvents()},e.prototype.disableAccountStorageEvents=function(){this.eventHandler.disableAccountStorageEvents()},e.prototype.getTokenCache=function(){return this.tokenCache},e.prototype.getLogger=function(){return this.logger},e.prototype.setLogger=function(e){this.logger=e},e.prototype.initializeWrapperLibrary=function(e,t){this.browserStorage.setWrapperMetadata(e,t)},e.prototype.setNavigationClient=function(e){this.navigationClient=e},e.prototype.getConfiguration=function(){return this.config},e}(),je=r(43387),ze=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.acquireToken=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o;return s(this,(function(i){switch(i.label){case 0:return t=this.initializeServerTelemetryManager(f.acquireTokenSilent_silentFlow),[4,this.createSilentFlowClient(t,e.authority,e.azureCloudOptions)];case 1:r=i.sent(),this.logger.verbose("Silent auth client created"),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,r.acquireCachedToken(e)];case 3:return n=i.sent(),this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_SUCCESS,g.Silent,n),[2,n];case 4:throw(o=i.sent())instanceof O&&o.errorCode===P.signingKeyNotFoundInStorage.code&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o;case 5:return[2]}}))}))},t.prototype.logout=function(){return Promise.reject(O.createSilentLogoutUnsupportedError())},t.prototype.createSilentFlowClient=function(e,t,r){return a(this,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return[4,this.getClientConfiguration(e,t,r)];case 1:return n=o.sent(),[2,new je.g(n)]}}))}))},t.prototype.initializeSilentRequest=function(e,t){return a(this,void 0,void 0,(function(){var r;return s(this,(function(n){switch(n.label){case 0:return r=[i({},e)],[4,this.initializeBaseRequest(e)];case 1:return[2,i.apply(void 0,[i.apply(void 0,r.concat([n.sent()])),{account:t,forceRefresh:e.forceRefresh||!1}])]}}))}))},t}(Re),Ve=function(e){function t(t){var r=e.call(this,t)||this;return r.activeSilentTokenRequests=new Map,r}return o(t,e),t.prototype.loginRedirect=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){return this.logger.verbose("loginRedirect called"),[2,this.acquireTokenRedirect(e||E)]}))}))},t.prototype.loginPopup=function(e){return this.logger.verbose("loginPopup called"),this.acquireTokenPopup(e||E)},t.prototype.acquireTokenSilent=function(e){return a(this,void 0,void 0,(function(){var t,r,n,o,i,a=this;return s(this,(function(s){if(this.preflightBrowserEnvironmentCheck(g.Silent),this.logger.verbose("acquireTokenSilent called",e.correlationId),!(t=e.account||this.getActiveAccount()))throw O.createNoAccountError();return r={clientId:this.config.auth.clientId,authority:e.authority||"",scopes:e.scopes,homeAccountIdentifier:t.homeAccountId,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},n=JSON.stringify(r),void 0===(o=this.activeSilentTokenRequests.get(n))?(this.logger.verbose("acquireTokenSilent called for the first time, storing active request",e.correlationId),i=this.acquireTokenSilentAsync(e,t).then((function(e){return a.activeSilentTokenRequests.delete(n),e})).catch((function(e){throw a.activeSilentTokenRequests.delete(n),e})),this.activeSilentTokenRequests.set(n,i),[2,i]):(this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",e.correlationId),[2,o])}))}))},t.prototype.acquireTokenSilentAsync=function(e,t){return a(this,void 0,void 0,(function(){var r,n,o=this;return s(this,(function(i){switch(i.label){case 0:return[4,(r=new ze(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,e.correlationId)).initializeSilentRequest(e,t)];case 1:return n=i.sent(),this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_START,g.Silent,e),[2,r.acquireToken(n).catch((function(){return a(o,void 0,void 0,(function(){var e,t;return s(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.acquireTokenByRefreshToken(n)];case 1:return e=r.sent(),this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_SUCCESS,g.Silent,e),[2,e];case 2:throw t=r.sent(),this.eventHandler.emitEvent(w.ACQUIRE_TOKEN_FAILURE,g.Silent,null,t),t;case 3:return[2]}}))}))}))]}}))}))},t}(Ge),We={acquireTokenPopup:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},acquireTokenRedirect:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},acquireTokenSilent:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},acquireTokenByCode:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},getAllAccounts:function(){return[]},getAccountByHomeId:function(){return null},getAccountByUsername:function(){return null},getAccountByLocalId:function(){return null},handleRedirectPromise:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},loginPopup:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},loginRedirect:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},logout:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},logoutRedirect:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},logoutPopup:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},ssoSilent:function(){return Promise.reject(oe.createStubPcaInstanceCalledError())},addEventCallback:function(){return null},removeEventCallback:function(){},enableAccountStorageEvents:function(){},disableAccountStorageEvents:function(){},getTokenCache:function(){throw oe.createStubPcaInstanceCalledError()},getLogger:function(){throw oe.createStubPcaInstanceCalledError()},setLogger:function(){},setActiveAccount:function(){},getActiveAccount:function(){return null},initializeWrapperLibrary:function(){},setNavigationClient:function(){},getConfiguration:function(){throw oe.createStubPcaInstanceCalledError()}},Je=function(){function e(){}return e.getInteractionStatusFromEvent=function(e,t){switch(e.eventType){case w.LOGIN_START:return m.Login;case w.SSO_SILENT_START:return m.SsoSilent;case w.ACQUIRE_TOKEN_START:if(e.interactionType===g.Redirect||e.interactionType===g.Popup)return m.AcquireToken;break;case w.HANDLE_REDIRECT_START:return m.HandleRedirect;case w.LOGOUT_START:return m.Logout;case w.SSO_SILENT_SUCCESS:case w.SSO_SILENT_FAILURE:if(t&&t!==m.SsoSilent)break;return m.None;case w.LOGOUT_END:if(t&&t!==m.Logout)break;return m.None;case w.HANDLE_REDIRECT_END:if(t&&t!==m.HandleRedirect)break;return m.None;case w.LOGIN_SUCCESS:case w.LOGIN_FAILURE:case w.ACQUIRE_TOKEN_SUCCESS:case w.ACQUIRE_TOKEN_FAILURE:if(e.interactionType===g.Redirect||e.interactionType===g.Popup){if(t&&t!==m.Login&&t!==m.AcquireToken)break;return m.None}}return null},e}(),Ye=r(17650),Qe=function(){function e(e,t){var r=t&&t.loggerOptions||{};this.logger=new B.Y(r,Ce,Ee),this.cryptoOps=new H(this.logger),this.popTokenGenerator=new Ye.$(this.cryptoOps),this.shrParameters=e}return e.prototype.generatePublicKeyThumbprint=function(){return a(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,this.popTokenGenerator.generateKid(this.shrParameters)];case 1:return[2,e.sent().kid]}}))}))},e.prototype.signRequest=function(e,t,r){return a(this,void 0,void 0,(function(){return s(this,(function(n){return[2,this.popTokenGenerator.signPayload(e,t,this.shrParameters,r)]}))}))},e.prototype.removeKeys=function(e){return a(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,this.cryptoOps.removeTokenBindingKey(e)];case 1:return[2,t.sent()]}}))}))},e}(),Xe=r(32030)},5096:(e,t,r)=>{"use strict";r.d(t,{pi:()=>i,mG:()=>a,ZT:()=>o,Jh:()=>s,pr:()=>c});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var i=function(){return i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function a(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{c(n.next(e))}catch(e){i(e)}}function s(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!((o=(o=a.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}function c(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}},70591:(e,t,r)=>{"use strict";r.d(t,{H:()=>i});var n=r(60742),o=r(61653),i=function(){function e(t,r){if(o.x.isEmpty(t))throw n.e.createTokenNullOrEmptyError(t);this.rawToken=t,this.claims=e.extractTokenClaims(t,r)}return e.extractTokenClaims=function(e,t){var r=o.x.decodeAuthToken(e);try{var i=r.JWSPayload,a=t.base64Decode(i);return JSON.parse(a)}catch(e){throw n.e.createTokenParsingError(e)}},e}()},34726:(e,t,r)=>{"use strict";var n;r.d(t,{G:()=>n}),function(e){e.HOME_ACCOUNT_ID="home_account_id",e.UPN="UPN"}(n||(n={}))},11520:(e,t,r)=>{"use strict";r.d(t,{B:()=>a,j:()=>s});var n=r(60742),o=r(61653),i=r(77891);function a(e,t){if(o.x.isEmpty(e))throw n.e.createClientInfoEmptyError();try{var r=t.base64Decode(e);return JSON.parse(r)}catch(e){throw n.e.createClientInfoDecodingError(e)}}function s(e){if(o.x.isEmpty(e))throw n.e.createClientInfoDecodingError("Home account ID was empty.");var t=e.split(i.Bv.CLIENT_INFO_SEPARATOR,2);return{uid:t[0],utid:t.length<2?i.gT.EMPTY_STRING:t[1]}}},95622:(e,t,r)=>{"use strict";r.d(t,{W:()=>f});var n=r(5096),o=r(52944);function i(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")}var a=r(99860),s=r(60742),c=r(77891),u=r(47181),l=r(82617),d=r(1713),h=r(58440),p=function(){function e(e){this.networkInterface=e}return e.prototype.detectRegion=function(t,r,o){return(0,n.mG)(this,void 0,void 0,(function(){var i,a,s,u,l;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(i=t)return[3,8];a=e.IMDS_OPTIONS,o&&(a.proxyUrl=o),n.label=1;case 1:return n.trys.push([1,6,,7]),[4,this.getRegionFromIMDS(c.gT.IMDS_VERSION,a)];case 2:return(s=n.sent()).status===c.YY.httpSuccess&&(i=s.body,r.region_source=c.W.IMDS),s.status!==c.YY.httpBadRequest?[3,5]:[4,this.getCurrentVersion(a)];case 3:return(u=n.sent())?[4,this.getRegionFromIMDS(u,a)]:(r.region_source=c.W.FAILED_AUTO_DETECTION,[2,null]);case 4:(l=n.sent()).status===c.YY.httpSuccess&&(i=l.body,r.region_source=c.W.IMDS),n.label=5;case 5:return[3,7];case 6:return n.sent(),r.region_source=c.W.FAILED_AUTO_DETECTION,[2,null];case 7:return[3,9];case 8:r.region_source=c.W.ENVIRONMENT_VARIABLE,n.label=9;case 9:return i||(r.region_source=c.W.FAILED_AUTO_DETECTION),[2,i||null]}}))}))},e.prototype.getRegionFromIMDS=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(r){return[2,this.networkInterface.sendGetRequestAsync(c.gT.IMDS_ENDPOINT+"?api-version="+e+"&format=text",t,c.gT.IMDS_TIMEOUT)]}))}))},e.prototype.getCurrentVersion=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.networkInterface.sendGetRequestAsync(c.gT.IMDS_ENDPOINT+"?format=json",e)];case 1:return(t=r.sent()).status===c.YY.httpBadRequest&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?[2,t.body["newest-versions"][0]]:[2,null];case 2:return r.sent(),[2,null];case 3:return[2]}}))}))},e.IMDS_OPTIONS={headers:{Metadata:"true"}},e}(),f=function(){function e(e,t,r,n,o){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=r,this.authorityOptions=n,this.regionDiscovery=new p(t),this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.proxyUrl=o||c.gT.EMPTY_STRING}return Object.defineProperty(e.prototype,"authorityType",{get:function(){var e=this.canonicalAuthorityUrlComponents.PathSegments;return e.length&&e[0].toLowerCase()===c.gT.ADFS?o.a.Adfs:o.a.Default},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"protocolMode",{get:function(){return this.authorityOptions.protocolMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.authorityOptions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthority",{get:function(){return this._canonicalAuthority.urlString},set:function(e){this._canonicalAuthority=new a.G(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canonicalAuthorityUrlComponents",{get:function(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hostnameAndPort",{get:function(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tenant",{get:function(){return this.canonicalAuthorityUrlComponents.PathSegments[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"authorizationEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.authorization_endpoint);return this.replaceTenant(e)}throw s.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint);return this.replaceTenant(e)}throw s.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deviceCodeEndpoint",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));return this.replaceTenant(e)}throw s.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endSessionEndpoint",{get:function(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw s.e.createLogoutNotSupportedError();var e=this.replacePath(this.metadata.end_session_endpoint);return this.replaceTenant(e)}throw s.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"selfSignedJwtAudience",{get:function(){if(this.discoveryComplete()){var e=this.replacePath(this.metadata.issuer);return this.replaceTenant(e)}throw s.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},enumerable:!1,configurable:!0}),e.prototype.replaceTenant=function(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)},e.prototype.replacePath=function(e){var t=e,r=new a.G(this.metadata.canonical_authority).getUrlComponents().PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach((function(e,n){var o=r[n];e!==o&&(t=t.replace("/"+o+"/","/"+e+"/"))})),t},Object.defineProperty(e.prototype,"defaultOpenIdConfigurationEndpoint",{get:function(){return this.authorityType===o.a.Adfs||this.protocolMode===l.A.OIDC?this.canonicalAuthority+".well-known/openid-configuration":this.canonicalAuthority+"v2.0/.well-known/openid-configuration"},enumerable:!1,configurable:!0}),e.prototype.discoveryComplete=function(){return!!this.metadata},e.prototype.resolveEndpointsAsync=function(){return(0,n.mG)(this,void 0,void 0,(function(){var e,t,r,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort))||(e=new d.l).updateCanonicalAuthority(this.canonicalAuthority),[4,this.updateCloudDiscoveryMetadata(e)];case 1:return t=n.sent(),this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network),[4,this.updateEndpointMetadata(e)];case 2:return r=n.sent(),t!==c.pQ.CACHE&&r!==c.pQ.CACHE&&(e.resetExpiresAt(),e.updateCanonicalAuthority(this.canonicalAuthority)),o=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache),this.cacheManager.setAuthorityMetadata(o,e),this.metadata=e,[2]}}))}))},e.prototype.updateEndpointMetadata=function(t){var r;return(0,n.mG)(this,void 0,void 0,(function(){var o,i,a;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(o=this.getEndpointMetadataFromConfig())?(t.updateEndpointMetadata(o,!1),[2,c.pQ.CONFIG]):this.isAuthoritySameType(t)&&t.endpointsFromNetwork&&!t.isExpired()?[2,c.pQ.CACHE]:[4,this.getEndpointMetadataFromNetwork()];case 1:return(o=n.sent())?(null===(r=this.authorityOptions.azureRegionConfiguration)||void 0===r?void 0:r.azureRegion)?[4,this.regionDiscovery.detectRegion(this.authorityOptions.azureRegionConfiguration.environmentRegion,this.regionDiscoveryMetadata,this.proxyUrl)]:[3,3]:[3,4];case 2:i=n.sent(),a=this.authorityOptions.azureRegionConfiguration.azureRegion===c.gT.AZURE_REGION_AUTO_DISCOVER_FLAG?i:this.authorityOptions.azureRegionConfiguration.azureRegion,this.authorityOptions.azureRegionConfiguration.azureRegion===c.gT.AZURE_REGION_AUTO_DISCOVER_FLAG?this.regionDiscoveryMetadata.region_outcome=i?c.ki.AUTO_DETECTION_REQUESTED_SUCCESSFUL:c.ki.AUTO_DETECTION_REQUESTED_FAILED:this.regionDiscoveryMetadata.region_outcome=i?this.authorityOptions.azureRegionConfiguration.azureRegion===i?c.ki.CONFIGURED_MATCHES_DETECTED:c.ki.CONFIGURED_NOT_DETECTED:c.ki.CONFIGURED_NO_AUTO_DETECTION,a&&(this.regionDiscoveryMetadata.region_used=a,o=e.replaceWithRegionalInformation(o,a)),n.label=3;case 3:return t.updateEndpointMetadata(o,!0),[2,c.pQ.NETWORK];case 4:throw s.e.createUnableToGetOpenidConfigError(this.defaultOpenIdConfigurationEndpoint)}}))}))},e.prototype.isAuthoritySameType=function(e){return new a.G(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length},e.prototype.getEndpointMetadataFromConfig=function(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw u.r.createInvalidAuthorityMetadataError()}return null},e.prototype.getEndpointMetadataFromNetwork=function(){return(0,n.mG)(this,void 0,void 0,(function(){var e,t;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:e={},this.proxyUrl&&(e.proxyUrl=this.proxyUrl),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(this.defaultOpenIdConfigurationEndpoint,e)];case 2:return[2,i((t=r.sent()).body)?t.body:null];case 3:return r.sent(),[2,null];case 4:return[2]}}))}))},e.prototype.updateCloudDiscoveryMetadata=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:return(t=this.getCloudDiscoveryMetadataFromConfig())?(e.updateCloudDiscoveryMetadata(t,!1),[2,c.pQ.CONFIG]):this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!e.isExpired()?[2,c.pQ.CACHE]:[4,this.getCloudDiscoveryMetadataFromNetwork()];case 1:if(t=r.sent())return e.updateCloudDiscoveryMetadata(t,!0),[2,c.pQ.NETWORK];throw u.r.createUntrustedAuthorityError()}}))}))},e.prototype.getCloudDiscoveryMetadataFromConfig=function(){if(this.authorityOptions.cloudDiscoveryMetadata)try{var t=JSON.parse(this.authorityOptions.cloudDiscoveryMetadata),r=e.getCloudDiscoveryMetadataFromNetworkResponse(t.metadata,this.hostnameAndPort);if(r)return r}catch(e){throw u.r.createInvalidCloudDiscoveryMetadataError()}return this.isInKnownAuthorities()?e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort):null},e.prototype.getCloudDiscoveryMetadataFromNetwork=function(){return(0,n.mG)(this,void 0,void 0,(function(){var t,r,o,i,a;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:t=""+c.gT.AAD_INSTANCE_DISCOVERY_ENDPT+this.canonicalAuthority+"oauth2/v2.0/authorize",r={},this.proxyUrl&&(r.proxyUrl=this.proxyUrl),o=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.networkInterface.sendGetRequestAsync(t,r)];case 2:return i=n.sent(),a=function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(i.body)?i.body.metadata:[],0===a.length?[2,null]:(o=e.getCloudDiscoveryMetadataFromNetworkResponse(a,this.hostnameAndPort),[3,4]);case 3:return n.sent(),[2,null];case 4:return o||(o=e.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),[2,o]}}))}))},e.prototype.isInKnownAuthorities=function(){var e=this;return this.authorityOptions.knownAuthorities.filter((function(t){return a.G.getDomainFromUrl(t).toLowerCase()===e.hostnameAndPort})).length>0},e.generateAuthority=function(e,t){var r;if(t&&t.azureCloudInstance!==h.z.None){var n=t.tenant?t.tenant:c.gT.DEFAULT_COMMON_TENANT;r=t.azureCloudInstance+"/"+n+"/"}return r||e},e.createCloudDiscoveryMetadataFromHost=function(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}},e.getCloudDiscoveryMetadataFromNetworkResponse=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.aliases.indexOf(t)>-1)return n}return null},e.prototype.getPreferredCache=function(){if(this.discoveryComplete())return this.metadata.preferred_cache;throw s.e.createEndpointDiscoveryIncompleteError("Discovery incomplete.")},e.prototype.isAlias=function(e){return this.metadata.aliases.indexOf(e)>-1},e.isPublicCloudAuthority=function(e){return c.gT.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0},e.buildRegionalAuthorityString=function(e,t,r){var o=new a.G(e);o.validateAsUri();var i=o.getUrlComponents(),s=t+"."+i.HostNameAndPort;this.isPublicCloudAuthority(i.HostNameAndPort)&&(s=t+"."+c.gT.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX);var u=a.G.constructAuthorityUriFromObject((0,n.pi)((0,n.pi)({},o.getUrlComponents()),{HostNameAndPort:s})).urlString;return r?u+"?"+r:u},e.replaceWithRegionalInformation=function(t,r){return t.authorization_endpoint=e.buildRegionalAuthorityString(t.authorization_endpoint,r),t.token_endpoint=e.buildRegionalAuthorityString(t.token_endpoint,r,"allowestsrnonmsi=true"),t.end_session_endpoint&&(t.end_session_endpoint=e.buildRegionalAuthorityString(t.end_session_endpoint,r)),t},e}()},65676:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var n=r(5096),o=r(95622),i=r(47181),a=r(61653),s=r(60742),c=function(){function e(){}return e.createDiscoveredInstance=function(t,r,o,i,a){return(0,n.mG)(this,void 0,void 0,(function(){var c,u;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:c=e.createInstance(t,r,o,i,a),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,c.resolveEndpointsAsync()];case 2:return n.sent(),[2,c];case 3:throw u=n.sent(),s.e.createEndpointDiscoveryIncompleteError(u);case 4:return[2]}}))}))},e.createInstance=function(e,t,r,n,s){if(a.x.isEmpty(e))throw i.r.createUrlEmptyError();return new o.W(e,t,r,n,s)},e}()},58440:(e,t,r)=>{"use strict";var n;r.d(t,{z:()=>n}),function(e){e[e.None=0]="None",e.AzurePublic="https://login.microsoftonline.com",e.AzureChina="https://login.chinacloudapi.cn",e.AzureGermany="https://login.microsoftonline.de",e.AzureUsGovernment="https://login.microsoftonline.us"}(n||(n={}))},52944:(e,t,r)=>{"use strict";var n;r.d(t,{a:()=>n}),function(e){e[e.Default=0]="Default",e[e.Adfs=1]="Adfs"}(n||(n={}))},82617:(e,t,r)=>{"use strict";var n;r.d(t,{A:()=>n}),function(e){e.AAD="AAD",e.OIDC="OIDC"}(n||(n={}))},67656:(e,t,r)=>{"use strict";r.d(t,{L:()=>d,w:()=>h});var n=r(5096),o=r(77891),i=r(10521),a=r(92613),s=r(43640),c=r(87342),u=r(60742),l=r(70591),d=function(){function e(e,t){this.clientId=e,this.cryptoImpl=t}return e.prototype.getAllAccounts=function(){var t=this,r=this.getAccountsFilteredBy(),n=Object.keys(r).map((function(e){return r[e]}));return n.length<1?[]:n.map((function(r){var n=e.toObject(new s.r,r).getAccountInfo(),o=t.readIdTokenFromCache(t.clientId,n);return o&&!n.idTokenClaims&&(n.idTokenClaims=new l.H(o.secret,t.cryptoImpl).claims),n}))},e.prototype.saveCacheRecord=function(e){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(t){switch(t.label){case 0:if(!e)throw u.e.createNullOrUndefinedCacheRecord();return e.account&&this.setAccount(e.account),e.idToken&&this.setIdTokenCredential(e.idToken),e.accessToken?[4,this.saveAccessToken(e.accessToken)]:[3,2];case 1:t.sent(),t.label=2;case 2:return e.refreshToken&&this.setRefreshTokenCredential(e.refreshToken),e.appMetadata&&this.setAppMetadata(e.appMetadata),[2]}}))}))},e.prototype.saveAccessToken=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r,o,i,s=this;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return t=this.getCredentialsFilteredBy({clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash}),r=a.i.fromString(e.target),(o=Object.keys(t.accessTokens).map((function(e){return t.accessTokens[e]})))?(i=[],o.forEach((function(e){a.i.fromString(e.target).intersectingScopeSets(r)&&i.push(s.removeCredential(e))})),[4,Promise.all(i)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this.setAccessTokenCredential(e),[2]}}))}))},e.prototype.getAccountsFilteredBy=function(e){return this.getAccountsFilteredByInternal(e?e.homeAccountId:"",e?e.environment:"",e?e.realm:"")},e.prototype.getAccountsFilteredByInternal=function(e,t,r){var n=this,o=this.getKeys(),i={};return o.forEach((function(o){var a=n.getAccount(o);a&&(e&&!n.matchHomeAccountId(a,e)||t&&!n.matchEnvironment(a,t)||r&&!n.matchRealm(a,r)||(i[o]=a))})),i},e.prototype.getCredentialsFilteredBy=function(e){return this.getCredentialsFilteredByInternal(e.homeAccountId,e.environment,e.credentialType,e.clientId,e.familyId,e.realm,e.target,e.oboAssertion,e.tokenType,e.keyId,e.requestedClaimsHash)},e.prototype.getCredentialsFilteredByInternal=function(e,t,r,n,a,s,c,u,l,d,h){var p=this,f=this.getKeys(),g={idTokens:{},accessTokens:{},refreshTokens:{}};return f.forEach((function(f){var m=i.m.getCredentialType(f);if(m!==o.gT.NOT_DEFINED){var v=p.getSpecificCredential(f,m);if(v&&(!u||p.matchOboAssertion(v,u))&&(!e||p.matchHomeAccountId(v,e))&&(!t||p.matchEnvironment(v,t))&&(!s||p.matchRealm(v,s))&&(!r||p.matchCredentialType(v,r))&&(!n||p.matchClientId(v,n))&&(!a||p.matchFamilyId(v,a))&&(!c||p.matchTarget(v,c))&&(!h&&!v.requestedClaimsHash||v.requestedClaimsHash===h)){if(r===o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(l&&!p.matchTokenType(v,l))return;if(l===o.hO.SSH&&d&&!p.matchKeyId(v,d))return}var y=p.updateCredentialCacheKey(f,v);switch(m){case o.d3.ID_TOKEN:g.idTokens[y]=v;break;case o.d3.ACCESS_TOKEN:case o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:g.accessTokens[y]=v;break;case o.d3.REFRESH_TOKEN:g.refreshTokens[y]=v}}}})),g},e.prototype.getAppMetadataFilteredBy=function(e){return this.getAppMetadataFilteredByInternal(e.environment,e.clientId)},e.prototype.getAppMetadataFilteredByInternal=function(e,t){var r=this,n=this.getKeys(),o={};return n.forEach((function(n){if(r.isAppMetadata(n)){var i=r.getAppMetadata(n);i&&(e&&!r.matchEnvironment(i,e)||t&&!r.matchClientId(i,t)||(o[n]=i))}})),o},e.prototype.getAuthorityMetadataByAlias=function(e){var t=this,r=this.getAuthorityMetadataKeys(),n=null;return r.forEach((function(r){if(t.isAuthorityMetadata(r)&&-1!==r.indexOf(t.clientId)){var o=t.getAuthorityMetadata(r);o&&-1!==o.aliases.indexOf(e)&&(n=o)}})),n},e.prototype.removeAllAccounts=function(){return(0,n.mG)(this,void 0,void 0,(function(){var e,t,r=this;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return e=this.getKeys(),t=[],e.forEach((function(e){r.getAccount(e)&&t.push(r.removeAccount(e))})),[4,Promise.all(t)];case 1:return n.sent(),[2,!0]}}))}))},e.prototype.removeAccount=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:if(!(t=this.getAccount(e)))throw u.e.createNoAccountFoundError();return[4,this.removeAccountContext(t)];case 1:return[2,r.sent()&&this.removeItem(e,o.Xj.ACCOUNT)]}}))}))},e.prototype.removeAccountContext=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r,a,s=this;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return t=this.getKeys(),r=e.generateAccountId(),a=[],t.forEach((function(e){var t=i.m.getCredentialType(e);if(t!==o.gT.NOT_DEFINED){var n=s.getSpecificCredential(e,t);n&&r===n.generateAccountId()&&a.push(s.removeCredential(n))}})),[4,Promise.all(a)];case 1:return n.sent(),[2,!0]}}))}))},e.prototype.removeCredential=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(t=e.generateCredentialKey(),e.credentialType.toLowerCase()!==o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())return[3,4];if(e.tokenType!==o.hO.POP)return[3,4];if(!(r=e.keyId))return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cryptoImpl.removeTokenBindingKey(r)];case 2:return n.sent(),[3,4];case 3:throw n.sent(),u.e.createBindingKeyNotRemovedError();case 4:return[2,this.removeItem(t,o.Xj.CREDENTIAL)]}}))}))},e.prototype.removeAppMetadata=function(){var e=this;return this.getKeys().forEach((function(t){e.isAppMetadata(t)&&e.removeItem(t,o.Xj.APP_METADATA)})),!0},e.prototype.readCacheRecord=function(e,t,r,n){var o=this.readAccountFromCache(e),i=this.readIdTokenFromCache(t,e),a=this.readAccessTokenFromCache(t,e,r),s=this.readRefreshTokenFromCache(t,e,!1),c=this.readAppMetadataFromCache(n,t);return o&&i&&(o.idTokenClaims=new l.H(i.secret,this.cryptoImpl).claims),{account:o,idToken:i,accessToken:a,refreshToken:s,appMetadata:c}},e.prototype.readAccountFromCache=function(e){var t=s.r.generateAccountCacheKey(e);return this.getAccount(t)},e.prototype.readIdTokenFromCache=function(e,t){var r={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:o.d3.ID_TOKEN,clientId:e,realm:t.tenantId},n=this.getCredentialsFilteredBy(r),i=Object.keys(n.idTokens).map((function(e){return n.idTokens[e]})),a=i.length;if(a<1)return null;if(a>1)throw u.e.createMultipleMatchingTokensInCacheError();return i[0]},e.prototype.readAccessTokenFromCache=function(e,t,r){var n=new a.i(r.scopes||[]),i=r.authenticationScheme||o.hO.BEARER,s=i&&i.toLowerCase()!==o.hO.BEARER.toLowerCase()?o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:o.d3.ACCESS_TOKEN,c={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:s,clientId:e,realm:t.tenantId,target:n.printScopesLowerCase(),tokenType:i,keyId:r.sshKid,requestedClaimsHash:r.requestedClaimsHash},l=this.getCredentialsFilteredBy(c),d=Object.keys(l.accessTokens).map((function(e){return l.accessTokens[e]})),h=d.length;if(h<1)return null;if(h>1)throw u.e.createMultipleMatchingTokensInCacheError();return d[0]},e.prototype.readRefreshTokenFromCache=function(e,t,r){var n=r?o.ch:void 0,i={homeAccountId:t.homeAccountId,environment:t.environment,credentialType:o.d3.REFRESH_TOKEN,clientId:e,familyId:n},a=this.getCredentialsFilteredBy(i),s=Object.keys(a.refreshTokens).map((function(e){return a.refreshTokens[e]}));return s.length<1?null:s[0]},e.prototype.readAppMetadataFromCache=function(e,t){var r={environment:e,clientId:t},n=this.getAppMetadataFilteredBy(r),o=Object.keys(n).map((function(e){return n[e]})),i=o.length;if(i<1)return null;if(i>1)throw u.e.createMultipleMatchingAppMetadataInCacheError();return o[0]},e.prototype.isAppMetadataFOCI=function(e,t){var r=this.readAppMetadataFromCache(e,t);return!(!r||r.familyId!==o.ch)},e.prototype.matchHomeAccountId=function(e,t){return!(!e.homeAccountId||t!==e.homeAccountId)},e.prototype.matchOboAssertion=function(e,t){return!(!e.oboAssertion||t!==e.oboAssertion)},e.prototype.matchEnvironment=function(e,t){var r=this.getAuthorityMetadataByAlias(t);return!!(r&&r.aliases.indexOf(e.environment)>-1)},e.prototype.matchCredentialType=function(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()},e.prototype.matchClientId=function(e,t){return!(!e.clientId||t!==e.clientId)},e.prototype.matchFamilyId=function(e,t){return!(!e.familyId||t!==e.familyId)},e.prototype.matchRealm=function(e,t){return!(!e.realm||t!==e.realm)},e.prototype.matchTarget=function(e,t){if(e.credentialType!==o.d3.ACCESS_TOKEN&&e.credentialType!==o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;var r=a.i.fromString(e.target),n=a.i.fromString(t);return n.containsOnlyOIDCScopes()?n.removeScope(o.gT.OFFLINE_ACCESS_SCOPE):n.removeOIDCScopes(),r.containsScopeSet(n)},e.prototype.matchTokenType=function(e,t){return!(!e.tokenType||e.tokenType!==t)},e.prototype.matchKeyId=function(e,t){return!(!e.keyId||e.keyId!==t)},e.prototype.isAppMetadata=function(e){return-1!==e.indexOf(o.dg)},e.prototype.isAuthorityMetadata=function(e){return-1!==e.indexOf(o.QU.CACHE_KEY)},e.prototype.generateAuthorityMetadataCacheKey=function(e){return o.QU.CACHE_KEY+"-"+this.clientId+"-"+e},e.prototype.getSpecificCredential=function(e,t){switch(t){case o.d3.ID_TOKEN:return this.getIdTokenCredential(e);case o.d3.ACCESS_TOKEN:case o.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:return this.getAccessTokenCredential(e);case o.d3.REFRESH_TOKEN:return this.getRefreshTokenCredential(e);default:return null}},e.toObject=function(e,t){for(var r in t)e[r]=t[r];return e},e}(),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t.prototype.setAccount=function(){throw c.l.createUnexpectedError("Storage interface - setAccount() has not been implemented for the cacheStorage interface.")},t.prototype.getAccount=function(){throw c.l.createUnexpectedError("Storage interface - getAccount() has not been implemented for the cacheStorage interface.")},t.prototype.setIdTokenCredential=function(){throw c.l.createUnexpectedError("Storage interface - setIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getIdTokenCredential=function(){throw c.l.createUnexpectedError("Storage interface - getIdTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAccessTokenCredential=function(){throw c.l.createUnexpectedError("Storage interface - setAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getAccessTokenCredential=function(){throw c.l.createUnexpectedError("Storage interface - getAccessTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setRefreshTokenCredential=function(){throw c.l.createUnexpectedError("Storage interface - setRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.getRefreshTokenCredential=function(){throw c.l.createUnexpectedError("Storage interface - getRefreshTokenCredential() has not been implemented for the cacheStorage interface.")},t.prototype.setAppMetadata=function(){throw c.l.createUnexpectedError("Storage interface - setAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAppMetadata=function(){throw c.l.createUnexpectedError("Storage interface - getAppMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.setServerTelemetry=function(){throw c.l.createUnexpectedError("Storage interface - setServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.getServerTelemetry=function(){throw c.l.createUnexpectedError("Storage interface - getServerTelemetry() has not been implemented for the cacheStorage interface.")},t.prototype.setAuthorityMetadata=function(){throw c.l.createUnexpectedError("Storage interface - setAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadata=function(){throw c.l.createUnexpectedError("Storage interface - getAuthorityMetadata() has not been implemented for the cacheStorage interface.")},t.prototype.getAuthorityMetadataKeys=function(){throw c.l.createUnexpectedError("Storage interface - getAuthorityMetadataKeys() has not been implemented for the cacheStorage interface.")},t.prototype.setThrottlingCache=function(){throw c.l.createUnexpectedError("Storage interface - setThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.getThrottlingCache=function(){throw c.l.createUnexpectedError("Storage interface - getThrottlingCache() has not been implemented for the cacheStorage interface.")},t.prototype.removeItem=function(){throw c.l.createUnexpectedError("Storage interface - removeItem() has not been implemented for the cacheStorage interface.")},t.prototype.containsKey=function(){throw c.l.createUnexpectedError("Storage interface - containsKey() has not been implemented for the cacheStorage interface.")},t.prototype.getKeys=function(){throw c.l.createUnexpectedError("Storage interface - getKeys() has not been implemented for the cacheStorage interface.")},t.prototype.clear=function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw c.l.createUnexpectedError("Storage interface - clear() has not been implemented for the cacheStorage interface.")}))}))},t.prototype.updateCredentialCacheKey=function(){throw c.l.createUnexpectedError("Storage interface - updateCredentialCacheKey() has not been implemented for the cacheStorage interface.")},t}(d)},85907:(e,t,r)=>{"use strict";r.d(t,{_:()=>l});var n=r(5096),o=r(10521),i=r(77891),a=r(33848),s=r(61653),c=r(70591),u=r(60742),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t.createAccessTokenEntity=function(e,r,n,o,l,d,h,p,f,g,m,v,y,C,E){var T,w,S=new t;S.homeAccountId=e,S.credentialType=i.d3.ACCESS_TOKEN,S.secret=n;var I=a.I.nowSeconds();if(S.cachedAt=I.toString(),S.expiresOn=h.toString(),S.extendedExpiresOn=p.toString(),g&&(S.refreshOn=g.toString()),S.environment=r,S.clientId=o,S.realm=l,S.target=d,S.oboAssertion=v,S.tokenType=s.x.isEmpty(m)?i.hO.BEARER:m,C&&(S.requestedClaims=C,S.requestedClaimsHash=E),(null===(T=S.tokenType)||void 0===T?void 0:T.toLowerCase())!==i.hO.BEARER.toLowerCase())switch(S.credentialType=i.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME,S.tokenType){case i.hO.POP:var b=c.H.extractTokenClaims(n,f);if(!(null===(w=null==b?void 0:b.cnf)||void 0===w?void 0:w.kid))throw u.e.createTokenClaimsRequiredError();S.keyId=b.cnf.kid;break;case i.hO.SSH:S.keyId=y}return S},t.isAccessTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.hasOwnProperty("target")&&(e.credentialType===i.d3.ACCESS_TOKEN||e.credentialType===i.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME)},t}(o.m)},43640:(e,t,r)=>{"use strict";r.d(t,{r:()=>c});var n=r(77891),o=r(11520),i=r(61653),a=r(60742),s=r(52944),c=function(){function e(){}return e.prototype.generateAccountId=function(){return[this.homeAccountId,this.environment].join(n.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},e.prototype.generateAccountKey=function(){return e.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})},e.prototype.generateType=function(){switch(this.authorityType){case n.iR.ADFS_ACCOUNT_TYPE:return n.LL.ADFS;case n.iR.MSAV1_ACCOUNT_TYPE:return n.LL.MSA;case n.iR.MSSTS_ACCOUNT_TYPE:return n.LL.MSSTS;case n.iR.GENERIC_ACCOUNT_TYPE:return n.LL.GENERIC;default:throw a.e.createUnexpectedAccountTypeError()}},e.prototype.getAccountInfo=function(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,idTokenClaims:this.idTokenClaims}},e.generateAccountCacheKey=function(e){return[e.homeAccountId,e.environment||"",e.tenantId||""].join(n.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAccount=function(t,r,o,i,s,c,u,l){var d,h,p,f,g,m,v=new e;v.authorityType=n.iR.MSSTS_ACCOUNT_TYPE,v.clientInfo=t,v.homeAccountId=r;var y=l||i&&i.getPreferredCache();if(!y)throw a.e.createInvalidCacheEnvironmentError();return v.environment=y,v.realm=(null===(d=null==o?void 0:o.claims)||void 0===d?void 0:d.tid)||"",v.oboAssertion=s,o&&(v.idTokenClaims=o.claims,v.localAccountId=(null===(h=null==o?void 0:o.claims)||void 0===h?void 0:h.oid)||(null===(p=null==o?void 0:o.claims)||void 0===p?void 0:p.sub)||"",v.username=(null===(f=null==o?void 0:o.claims)||void 0===f?void 0:f.preferred_username)||((null===(g=null==o?void 0:o.claims)||void 0===g?void 0:g.emails)?o.claims.emails[0]:""),v.name=null===(m=null==o?void 0:o.claims)||void 0===m?void 0:m.name),v.cloudGraphHostName=c,v.msGraphHost=u,v},e.createGenericAccount=function(t,r,o,i,c,u,l){var d,h,p,f,g=new e;g.authorityType=o&&o.authorityType===s.a.Adfs?n.iR.ADFS_ACCOUNT_TYPE:n.iR.GENERIC_ACCOUNT_TYPE,g.homeAccountId=t,g.realm="",g.oboAssertion=i;var m=l||o&&o.getPreferredCache();if(!m)throw a.e.createInvalidCacheEnvironmentError();return r&&(g.localAccountId=(null===(d=null==r?void 0:r.claims)||void 0===d?void 0:d.oid)||(null===(h=null==r?void 0:r.claims)||void 0===h?void 0:h.sub)||"",g.username=(null===(p=null==r?void 0:r.claims)||void 0===p?void 0:p.upn)||"",g.name=(null===(f=null==r?void 0:r.claims)||void 0===f?void 0:f.name)||"",g.idTokenClaims=null==r?void 0:r.claims),g.environment=m,g.cloudGraphHostName=c,g.msGraphHost=u,g},e.generateHomeAccountId=function(e,t,r,a,c){var u,l=(null===(u=null==c?void 0:c.claims)||void 0===u?void 0:u.sub)?c.claims.sub:n.gT.EMPTY_STRING;if(t===s.a.Adfs)return l;if(e)try{var d=(0,o.B)(e,a);if(!i.x.isEmpty(d.uid)&&!i.x.isEmpty(d.utid))return""+d.uid+n.Bv.CLIENT_INFO_SEPARATOR+d.utid}catch(e){}return r.verbose("No client info in response"),l},e.isAccountEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType")},e.accountInfoIsEqual=function(e,t,r){if(!e||!t)return!1;var n=!0;if(r){var o=e.idTokenClaims||{},i=t.idTokenClaims||{};n=o.iat===i.iat&&o.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&n},e}()},59993:(e,t,r)=>{"use strict";r.d(t,{T:()=>o});var n=r(77891),o=function(){function e(){}return e.prototype.generateAppMetadataKey=function(){return e.generateAppMetadataCacheKey(this.environment,this.clientId)},e.generateAppMetadataCacheKey=function(e,t){return[n.dg,e,t].join(n.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},e.createAppMetadataEntity=function(t,r,n){var o=new e;return o.clientId=t,o.environment=r,n&&(o.familyId=n),o},e.isAppMetadataEntity=function(e,t){return!!t&&0===e.indexOf(n.dg)&&t.hasOwnProperty("clientId")&&t.hasOwnProperty("environment")},e}()},1713:(e,t,r)=>{"use strict";r.d(t,{l:()=>i});var n=r(77891),o=r(33848),i=function(){function e(){this.expiresAt=o.I.nowSeconds()+n.QU.REFRESH_TIME_SECONDS}return e.prototype.updateCloudDiscoveryMetadata=function(e,t){this.aliases=e.aliases,this.preferred_cache=e.preferred_cache,this.preferred_network=e.preferred_network,this.aliasesFromNetwork=t},e.prototype.updateEndpointMetadata=function(e,t){this.authorization_endpoint=e.authorization_endpoint,this.token_endpoint=e.token_endpoint,this.end_session_endpoint=e.end_session_endpoint,this.issuer=e.issuer,this.endpointsFromNetwork=t},e.prototype.updateCanonicalAuthority=function(e){this.canonical_authority=e},e.prototype.resetExpiresAt=function(){this.expiresAt=o.I.nowSeconds()+n.QU.REFRESH_TIME_SECONDS},e.prototype.isExpired=function(){return this.expiresAt<=o.I.nowSeconds()},e.isAuthorityMetadataEntity=function(e,t){return!!t&&0===e.indexOf(n.QU.CACHE_KEY)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")},e}()},10521:(e,t,r)=>{"use strict";r.d(t,{m:()=>i});var n=r(77891),o=r(60742),i=function(){function e(){}return e.prototype.generateAccountId=function(){return e.generateAccountIdForCacheKey(this.homeAccountId,this.environment)},e.prototype.generateCredentialId=function(){return e.generateCredentialIdForCacheKey(this.credentialType,this.clientId,this.realm,this.familyId)},e.prototype.generateTarget=function(){return e.generateTargetForCacheKey(this.target)},e.prototype.generateCredentialKey=function(){return e.generateCredentialCacheKey(this.homeAccountId,this.environment,this.credentialType,this.clientId,this.realm,this.target,this.familyId,this.tokenType,this.requestedClaimsHash)},e.prototype.generateType=function(){switch(this.credentialType){case n.d3.ID_TOKEN:return n.LL.ID_TOKEN;case n.d3.ACCESS_TOKEN:case n.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:return n.LL.ACCESS_TOKEN;case n.d3.REFRESH_TOKEN:return n.LL.REFRESH_TOKEN;default:throw o.e.createUnexpectedCredentialTypeError()}},e.getCredentialType=function(e){return-1!==e.indexOf(n.d3.ACCESS_TOKEN.toLowerCase())?-1!==e.indexOf(n.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())?n.d3.ACCESS_TOKEN_WITH_AUTH_SCHEME:n.d3.ACCESS_TOKEN:-1!==e.indexOf(n.d3.ID_TOKEN.toLowerCase())?n.d3.ID_TOKEN:-1!==e.indexOf(n.d3.REFRESH_TOKEN.toLowerCase())?n.d3.REFRESH_TOKEN:n.gT.NOT_DEFINED},e.generateCredentialCacheKey=function(e,t,r,o,i,a,s,c,u){return[this.generateAccountIdForCacheKey(e,t),this.generateCredentialIdForCacheKey(r,o,i,s),this.generateTargetForCacheKey(a),this.generateClaimsHashForCacheKey(u),this.generateSchemeForCacheKey(c)].join(n.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateAccountIdForCacheKey=function(e,t){return[e,t].join(n.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateCredentialIdForCacheKey=function(e,t,r,o){return[e,e===n.d3.REFRESH_TOKEN&&o||t,r||""].join(n.Bv.CACHE_KEY_SEPARATOR).toLowerCase()},e.generateTargetForCacheKey=function(e){return(e||"").toLowerCase()},e.generateClaimsHashForCacheKey=function(e){return(e||"").toLowerCase()},e.generateSchemeForCacheKey=function(e){return e&&e.toLowerCase()!==n.hO.BEARER.toLowerCase()?e.toLowerCase():""},e}()},70979:(e,t,r)=>{"use strict";r.d(t,{w:()=>a});var n=r(5096),o=r(10521),i=r(77891),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t.createIdTokenEntity=function(e,r,n,o,a,s){var c=new t;return c.credentialType=i.d3.ID_TOKEN,c.homeAccountId=e,c.environment=r,c.clientId=o,c.secret=n,c.realm=a,c.oboAssertion=s,c},t.isIdTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===i.d3.ID_TOKEN},t}(o.m)},11429:(e,t,r)=>{"use strict";r.d(t,{e:()=>a});var n=r(5096),o=r(10521),i=r(77891),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.ZT)(t,e),t.createRefreshTokenEntity=function(e,r,n,o,a,s){var c=new t;return c.clientId=o,c.credentialType=i.d3.REFRESH_TOKEN,c.environment=r,c.homeAccountId=e,c.secret=n,c.oboAssertion=s,a&&(c.familyId=a),c},t.isRefreshTokenEntity=function(e){return!!e&&e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")&&e.credentialType===i.d3.REFRESH_TOKEN},t}(o.m)},44612:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var n=r(77891),o=function(){function e(){this.failedRequests=[],this.errors=[],this.cacheHits=0}return e.isServerTelemetryEntity=function(e,t){var r=0===e.indexOf(n.HN.CACHE_KEY),o=!0;return t&&(o=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),r&&o},e}()},4184:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(77891),o=function(){function e(){}return e.isThrottlingEntity=function(e,t){var r=!1;e&&(r=0===e.indexOf(n.bb.THROTTLING_PREFIX));var o=!0;return t&&(o=t.hasOwnProperty("throttleTime")),r&&o},e}()},59665:(e,t,r)=>{"use strict";r.d(t,{C:()=>n});var n=function(){function e(e,t){this.cache=e,this.hasChanged=t}return Object.defineProperty(e.prototype,"cacheHasChanged",{get:function(){return this.hasChanged},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tokenCache",{get:function(){return this.cache},enumerable:!1,configurable:!0}),e}()},29046:(e,t,r)=>{"use strict";r.d(t,{U:()=>v});var n=r(5096),o=r(13761),i=r(87479),a=r(77891),s=r(32105),c=r(61653),u=r(60742),l=r(99860),d=r(17650),h=r(33848),p=r(11520),f=r(34726),g=r(47181),m=r(5035),v=function(e){function t(t){var r=e.call(this,t)||this;return r.includeRedirectUri=!0,r}return(0,n.ZT)(t,e),t.prototype.getAuthCodeUrl=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(r){return t=this.createAuthCodeUrlQueryString(e),[2,l.G.appendQueryString(this.authority.authorizationEndpoint,t)]}))}))},t.prototype.acquireToken=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r,o,i;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(this.logger.info("in acquireToken call"),!e||c.x.isEmpty(e.code))throw u.e.createTokenRequestCannotBeMadeError();return r=h.I.nowSeconds(),[4,this.executeTokenRequest(this.authority,e)];case 1:return o=n.sent(),(i=new s.s(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(o.body),[4,i.handleServerTokenResponse(o.body,this.authority,r,e,t)];case 2:return[2,n.sent()]}}))}))},t.prototype.handleFragmentResponse=function(e,t){var r=new s.s(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,null,null),o=new l.G(e),i=l.G.getDeserializedHash(o.getHash());if(r.validateServerAuthorizationCodeResponse(i,t,this.cryptoUtils),!i.code)throw u.e.createNoAuthCodeInServerResponseError();return(0,n.pi)((0,n.pi)({},i),{code:i.code})},t.prototype.getLogoutUri=function(e){if(!e)throw g.r.createEmptyLogoutRequestError();var t=this.createLogoutUrlQueryString(e);return l.G.appendQueryString(this.authority.endSessionEndpoint,t)},t.prototype.executeTokenRequest=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r,o,i,s,u,l,d;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return r={clientId:this.config.authOptions.clientId,authority:e.canonicalAuthority,scopes:t.scopes,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid},[4,this.createTokenRequestBody(t)];case 1:if(o=n.sent(),i=this.createTokenQueryParameters(t),s=void 0,t.clientInfo)try{u=(0,p.B)(t.clientInfo,this.cryptoUtils),s={credential:""+u.uid+a.Bv.CLIENT_INFO_SEPARATOR+u.utid,type:f.G.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}return l=this.createTokenRequestHeaders(s||t.ccsCredential),d=c.x.isEmpty(i)?e.tokenEndpoint:e.tokenEndpoint+"?"+i,[2,this.executePostToTokenEndpoint(d,o,l,r)]}}))}))},t.prototype.createTokenQueryParameters=function(e){var t=new i.H;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r,o,s,u,l,h;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(t=new i.H).addClientId(this.config.authOptions.clientId),this.includeRedirectUri?t.addRedirectUri(e.redirectUri):m.D.validateRedirectUri(e.redirectUri),t.addScopes(e.scopes),t.addAuthorizationCode(e.code),t.addLibraryInfo(this.config.libraryInfo),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager),e.codeVerifier&&t.addCodeVerifier(e.codeVerifier),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(r=this.config.clientCredentials.clientAssertion,t.addClientAssertion(r.assertion),t.addClientAssertionType(r.assertionType)),t.addGrantType(a.qJ.AUTHORIZATION_CODE_GRANT),t.addClientInfo(),e.authenticationScheme!==a.hO.POP?[3,2]:[4,new d.$(this.cryptoUtils).generateCnf(e)];case 1:return o=n.sent(),t.addPopToken(o),[3,3];case 2:if(e.authenticationScheme===a.hO.SSH){if(!e.sshJwk)throw g.r.createMissingSshJwkError();t.addSshJwk(e.sshJwk)}n.label=3;case 3:if(s=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(s),(!c.x.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),u=void 0,e.clientInfo)try{l=(0,p.B)(e.clientInfo,this.cryptoUtils),u={credential:""+l.uid+a.Bv.CLIENT_INFO_SEPARATOR+l.utid,type:f.G.HOME_ACCOUNT_ID}}catch(e){this.logger.verbose("Could not parse client info for CCS Header: "+e)}else u=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&u)switch(u.type){case f.G.HOME_ACCOUNT_ID:try{l=(0,p.j)(u.credential),t.addCcsOid(l)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case f.G.UPN:t.addCcsUpn(u.credential)}return e.tokenBodyParameters&&t.addExtraQueryParameters(e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[a.Fo.RETURN_SPA_CODE]||t.addExtraQueryParameters(((h={})[a.Fo.RETURN_SPA_CODE]="1",h)),[2,t.createQueryString()]}}))}))},t.prototype.createAuthCodeUrlQueryString=function(e){var t=new i.H;t.addClientId(this.config.authOptions.clientId);var r=(0,n.pr)(e.scopes||[],e.extraScopesToConsent||[]);t.addScopes(r),t.addRedirectUri(e.redirectUri);var o=e.correlationId||this.config.cryptoInterface.createNewGuid();if(t.addCorrelationId(o),t.addResponseMode(e.responseMode),t.addResponseTypeCode(),t.addLibraryInfo(this.config.libraryInfo),t.addClientInfo(),e.codeChallenge&&e.codeChallengeMethod&&t.addCodeChallengeParams(e.codeChallenge,e.codeChallengeMethod),e.prompt&&t.addPrompt(e.prompt),e.domainHint&&t.addDomainHint(e.domainHint),e.prompt!==a.NJ.SELECT_ACCOUNT)if(e.sid&&e.prompt===a.NJ.NONE)this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),t.addSid(e.sid);else if(e.account){var s=this.extractAccountSid(e.account);if(s&&e.prompt===a.NJ.NONE){this.logger.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),t.addSid(s);try{var u=(0,p.j)(e.account.homeAccountId);t.addCcsOid(u)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}}else if(e.loginHint)this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint);else if(e.account.username){this.logger.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),t.addLoginHint(e.account.username);try{u=(0,p.j)(e.account.homeAccountId),t.addCcsOid(u)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}}}else e.loginHint&&(this.logger.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),t.addLoginHint(e.loginHint),t.addCcsUpn(e.loginHint));else this.logger.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");return e.nonce&&t.addNonce(e.nonce),e.state&&t.addState(e.state),(!c.x.isEmpty(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.createLogoutUrlQueryString=function(e){var t=new i.H;return e.postLogoutRedirectUri&&t.addPostLogoutRedirectUri(e.postLogoutRedirectUri),e.correlationId&&t.addCorrelationId(e.correlationId),e.idTokenHint&&t.addIdTokenHint(e.idTokenHint),e.state&&t.addState(e.state),e.logoutHint&&t.addLogoutHint(e.logoutHint),e.extraQueryParameters&&t.addExtraQueryParameters(e.extraQueryParameters),t.createQueryString()},t.prototype.extractAccountSid=function(e){return e.idTokenClaims&&e.idTokenClaims.sid||null},t}(o.W)},13761:(e,t,r)=>{"use strict";r.d(t,{W:()=>h});var n=r(5096),o=r(14854),i=r(97482),a=r(21362),s=r(77891),c=r(26246),u=r(60742),l=r(34726),d=r(11520),h=function(){function e(e){this.config=(0,o.j)(e),this.logger=new a.Y(this.config.loggerOptions,c.u,c.i),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.networkManager=new i.r(this.networkClient,this.cacheManager),this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority}return e.prototype.createTokenRequestHeaders=function(e){var t={};if(t[s.SZ.CONTENT_TYPE]=s.gT.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case l.G.HOME_ACCOUNT_ID:try{var r=(0,d.j)(e.credential);t[s.SZ.CCS_HEADER]="Oid:"+r.uid+"@"+r.utid}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case l.G.UPN:t[s.SZ.CCS_HEADER]="UPN: "+e.credential}return t},e.prototype.executePostToTokenEndpoint=function(e,t,r,o){return(0,n.mG)(this,void 0,void 0,(function(){var i;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.networkManager.sendPostRequest(o,e,{body:t,headers:r,proxyUrl:this.config.systemOptions.proxyUrl})];case 1:return i=n.sent(),this.config.serverTelemetryManager&&i.status<500&&429!==i.status&&this.config.serverTelemetryManager.clearTelemetryCache(),[2,i]}}))}))},e.prototype.updateAuthority=function(e){if(!e.discoveryComplete())throw u.e.createEndpointDiscoveryIncompleteError("Updated authority has not completed endpoint discovery.");this.authority=e},e}()},28508:(e,t,r)=>{"use strict";r.d(t,{Y:()=>y});var n=r(5096),o=r(13761),i=r(87479),a=r(77891),s=r(32105),c=r(17650),u=r(61653),l=r(47181),d=r(60742),h=r(91359),p=r(33848),f=r(99860),g=r(34726),m=r(11520),v=r(83927),y=function(e){function t(t){return e.call(this,t)||this}return(0,n.ZT)(t,e),t.prototype.acquireToken=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r,o;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return t=p.I.nowSeconds(),[4,this.executeTokenRequest(e,this.authority)];case 1:return r=n.sent(),(o=new s.s(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin)).validateTokenResponse(r.body),[2,o.handleServerTokenResponse(r.body,this.authority,t,e,void 0,void 0,!0)]}}))}))},t.prototype.acquireTokenByRefreshToken=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r;return(0,n.Jh)(this,(function(n){if(!e)throw l.r.createEmptyTokenRequestError();if(!e.account)throw d.e.createNoAccountInSilentRequestError();if(this.cacheManager.isAppMetadataFOCI(e.account.environment,this.config.authOptions.clientId))try{return[2,this.acquireTokenWithCachedRefreshToken(e,!0)]}catch(n){if(t=n instanceof v.Yo&&n.errorCode===v.Zy.noTokensFoundError.code,r=n instanceof h.n&&n.errorCode===a.D1.INVALID_GRANT_ERROR&&n.subError===a.D1.CLIENT_MISMATCH_ERROR,t||r)return[2,this.acquireTokenWithCachedRefreshToken(e,!1)];throw n}return[2,this.acquireTokenWithCachedRefreshToken(e,!1)]}))}))},t.prototype.acquireTokenWithCachedRefreshToken=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r,o;return(0,n.Jh)(this,(function(i){if(!(r=this.cacheManager.readRefreshTokenFromCache(this.config.authOptions.clientId,e.account,t)))throw v.Yo.createNoTokensFoundError();return o=(0,n.pi)((0,n.pi)({},e),{refreshToken:r.secret,authenticationScheme:e.authenticationScheme||a.hO.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:g.G.HOME_ACCOUNT_ID}}),[2,this.acquireToken(o)]}))}))},t.prototype.executeTokenRequest=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r,o,i,a,s;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.createTokenRequestBody(e)];case 1:return r=n.sent(),o=this.createTokenQueryParameters(e),i=this.createTokenRequestHeaders(e.ccsCredential),a={clientId:this.config.authOptions.clientId,authority:t.canonicalAuthority,scopes:e.scopes,claims:e.claims,authenticationScheme:e.authenticationScheme,resourceRequestMethod:e.resourceRequestMethod,resourceRequestUri:e.resourceRequestUri,shrClaims:e.shrClaims,sshKid:e.sshKid},s=f.G.appendQueryString(t.tokenEndpoint,o),[2,this.executePostToTokenEndpoint(s,r,i,a)]}}))}))},t.prototype.createTokenQueryParameters=function(e){var t=new i.H;return e.tokenQueryParameters&&t.addExtraQueryParameters(e.tokenQueryParameters),t.createQueryString()},t.prototype.createTokenRequestBody=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t,r,o,s,d;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return(t=new i.H).addClientId(this.config.authOptions.clientId),t.addScopes(e.scopes),t.addGrantType(a.qJ.REFRESH_TOKEN_GRANT),t.addClientInfo(),t.addLibraryInfo(this.config.libraryInfo),t.addThrottling(),this.serverTelemetryManager&&t.addServerTelemetry(this.serverTelemetryManager),r=e.correlationId||this.config.cryptoInterface.createNewGuid(),t.addCorrelationId(r),t.addRefreshToken(e.refreshToken),this.config.clientCredentials.clientSecret&&t.addClientSecret(this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion&&(o=this.config.clientCredentials.clientAssertion,t.addClientAssertion(o.assertion),t.addClientAssertionType(o.assertionType)),e.authenticationScheme!==a.hO.POP?[3,2]:[4,new c.$(this.cryptoUtils).generateCnf(e)];case 1:return s=n.sent(),t.addPopToken(s),[3,3];case 2:if(e.authenticationScheme===a.hO.SSH){if(!e.sshJwk)throw l.r.createMissingSshJwkError();t.addSshJwk(e.sshJwk)}n.label=3;case 3:if((!u.x.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&t.addClaims(e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case g.G.HOME_ACCOUNT_ID:try{d=(0,m.j)(e.ccsCredential.credential),t.addCcsOid(d)}catch(e){this.logger.verbose("Could not parse home account ID for CCS Header: "+e)}break;case g.G.UPN:t.addCcsUpn(e.ccsCredential.credential)}return[2,t.createQueryString()]}}))}))},t}(o.W)},43387:(e,t,r)=>{"use strict";r.d(t,{g:()=>h});var n=r(5096),o=r(13761),i=r(70591),a=r(33848),s=r(28508),c=r(60742),u=r(47181),l=r(32105),d=r(77891),h=function(e){function t(t){return e.call(this,t)||this}return(0,n.ZT)(t,e),t.prototype.acquireToken=function(e){return(0,n.mG)(this,void 0,void 0,(function(){var t;return(0,n.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this.acquireCachedToken(e)];case 1:return[2,r.sent()];case 2:if((t=r.sent())instanceof c.e&&t.errorCode===c.A.tokenRefreshRequired.code)return[2,new s.Y(this.config).acquireTokenByRefreshToken(e)];throw t;case 3:return[2]}}))}))},t.prototype.acquireCachedToken=function(e){var t,r,o,i;return(0,n.mG)(this,void 0,void 0,(function(){var s,l;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(!e)throw u.r.createEmptyTokenRequestError();if(e.forceRefresh)throw null===(t=this.serverTelemetryManager)||void 0===t||t.setCacheOutcome(d.To.FORCE_REFRESH),this.logger.info("SilentFlowClient:acquireCachedToken - Skipping cache because forceRefresh is true."),c.e.createRefreshRequiredError();if(!e.account)throw c.e.createNoAccountInSilentRequestError();if(s=e.authority||this.authority.getPreferredCache(),!(l=this.cacheManager.readCacheRecord(e.account,this.config.authOptions.clientId,e,s)).accessToken)throw null===(r=this.serverTelemetryManager)||void 0===r||r.setCacheOutcome(d.To.NO_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - No access token found in cache for the given properties."),c.e.createRefreshRequiredError();if(a.I.wasClockTurnedBack(l.accessToken.cachedAt)||a.I.isTokenExpired(l.accessToken.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw null===(o=this.serverTelemetryManager)||void 0===o||o.setCacheOutcome(d.To.CACHED_ACCESS_TOKEN_EXPIRED),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token is expired or will expire within "+this.config.systemOptions.tokenRenewalOffsetSeconds+" seconds."),c.e.createRefreshRequiredError();if(l.accessToken.refreshOn&&a.I.isTokenExpired(l.accessToken.refreshOn,0))throw null===(i=this.serverTelemetryManager)||void 0===i||i.setCacheOutcome(d.To.REFRESH_CACHED_ACCESS_TOKEN),this.logger.info("SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'."),c.e.createRefreshRequiredError();return this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[4,this.generateResultFromCacheRecord(l,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.generateResultFromCacheRecord=function(e,t){return(0,n.mG)(this,void 0,void 0,(function(){var r;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return e.idToken&&(r=new i.H(e.idToken.secret,this.config.cryptoInterface)),[4,l.s.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,r)];case 1:return[2,n.sent()]}}))}))},t}(o.W)},14854:(e,t,r)=>{"use strict";r.d(t,{z:()=>d,j:()=>v});var n=r(5096),o=r(66561),i=r(87342),a=r(21362),s=r(77891),c=r(26246),u=r(58440),l=r(67656),d={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1,proxyUrl:""},h={loggerCallback:function(){},piiLoggingEnabled:!1,logLevel:a.i.Info,correlationId:""},p={sendGetRequestAsync:function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw i.l.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented")}))}))},sendPostRequestAsync:function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw i.l.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented")}))}))}},f={sku:s.gT.SKU,version:c.i,cpu:"",os:""},g={clientSecret:"",clientAssertion:void 0},m={azureCloudInstance:u.z.None,tenant:""+s.gT.DEFAULT_COMMON_TENANT};function v(e){var t,r=e.authOptions,i=e.systemOptions,a=e.loggerOptions,s=e.storageInterface,c=e.networkInterface,u=e.cryptoInterface,v=e.clientCredentials,y=e.libraryInfo,C=e.serverTelemetryManager,E=e.persistencePlugin,T=e.serializableCache,w=(0,n.pi)((0,n.pi)({},h),a);return{authOptions:(t=r,(0,n.pi)({clientCapabilities:[],azureCloudOptions:m},t)),systemOptions:(0,n.pi)((0,n.pi)({},d),i),loggerOptions:w,storageInterface:s||new l.w(r.clientId,o.d),networkInterface:c||p,cryptoInterface:u||o.d,clientCredentials:v||g,libraryInfo:(0,n.pi)((0,n.pi)({},f),y),serverTelemetryManager:C||null,persistencePlugin:E||null,serializableCache:T||null}}},66561:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var n=r(5096),o=r(87342),i={createNewGuid:function(){throw o.l.createUnexpectedError("Crypto interface - createNewGuid() has not been implemented")},base64Decode:function(){throw o.l.createUnexpectedError("Crypto interface - base64Decode() has not been implemented")},base64Encode:function(){throw o.l.createUnexpectedError("Crypto interface - base64Encode() has not been implemented")},generatePkceCodes:function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw o.l.createUnexpectedError("Crypto interface - generatePkceCodes() has not been implemented")}))}))},getPublicKeyThumbprint:function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw o.l.createUnexpectedError("Crypto interface - getPublicKeyThumbprint() has not been implemented")}))}))},removeTokenBindingKey:function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw o.l.createUnexpectedError("Crypto interface - removeTokenBindingKey() has not been implemented")}))}))},clearKeystore:function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw o.l.createUnexpectedError("Crypto interface - clearKeystore() has not been implemented")}))}))},signJwt:function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw o.l.createUnexpectedError("Crypto interface - signJwt() has not been implemented")}))}))},hashString:function(){return(0,n.mG)(this,void 0,void 0,(function(){return(0,n.Jh)(this,(function(e){throw o.l.createUnexpectedError("Crypto interface - hashString() has not been implemented")}))}))}}},17650:(e,t,r)=>{"use strict";r.d(t,{$:()=>u});var n,o=r(5096),i=r(70591),a=r(33848),s=r(99860),c=r(60742);!function(e){e.SW="sw",e.UHW="uhw"}(n||(n={}));var u=function(){function e(e){this.cryptoUtils=e}return e.prototype.generateCnf=function(e){return(0,o.mG)(this,void 0,void 0,(function(){var t;return(0,o.Jh)(this,(function(r){switch(r.label){case 0:return[4,this.generateKid(e)];case 1:return t=r.sent(),[2,this.cryptoUtils.base64Encode(JSON.stringify(t))]}}))}))},e.prototype.generateKid=function(e){return(0,o.mG)(this,void 0,void 0,(function(){return(0,o.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.cryptoUtils.getPublicKeyThumbprint(e)];case 1:return[2,{kid:t.sent(),xms_ksl:n.SW}]}}))}))},e.prototype.signPopToken=function(e,t){var r;return(0,o.mG)(this,void 0,void 0,(function(){var n;return(0,o.Jh)(this,(function(o){if(n=i.H.extractTokenClaims(e,this.cryptoUtils),!(null===(r=null==n?void 0:n.cnf)||void 0===r?void 0:r.kid))throw c.e.createTokenClaimsRequiredError();return[2,this.signPayload(e,n.cnf.kid,t)]}))}))},e.prototype.signPayload=function(e,t,r,n){return(0,o.mG)(this,void 0,void 0,(function(){var i,c,u,l,d,h;return(0,o.Jh)(this,(function(p){switch(p.label){case 0:return i=r.resourceRequestMethod,c=r.resourceRequestUri,u=r.shrClaims,l=r.shrNonce,d=c?new s.G(c):void 0,h=null==d?void 0:d.getUrlComponents(),[4,this.cryptoUtils.signJwt((0,o.pi)({at:e,ts:a.I.nowSeconds(),m:null==i?void 0:i.toUpperCase(),u:null==h?void 0:h.HostNameAndPort,nonce:l||this.cryptoUtils.createNewGuid(),p:null==h?void 0:h.AbsolutePath,q:(null==h?void 0:h.QueryString)?[[],h.QueryString]:void 0,client_claims:u||void 0},n),t)];case 1:return[2,p.sent()]}}))}))},e}()},87342:(e,t,r)=>{"use strict";r.d(t,{l:()=>a,Y:()=>i});var n=r(5096),o=r(77891),i={unexpectedError:{code:"unexpected_error",desc:"Unexpected error in authentication."}},a=function(e){function t(r,n,i){var a=this,s=n?r+": "+n:r;return a=e.call(this,s)||this,Object.setPrototypeOf(a,t.prototype),a.errorCode=r||o.gT.EMPTY_STRING,a.errorMessage=n||"",a.subError=i||"",a.name="AuthError",a}return(0,n.ZT)(t,e),t.prototype.setCorrelationId=function(e){this.correlationId=e},t.createUnexpectedError=function(e){return new t(i.unexpectedError.code,i.unexpectedError.desc+": "+e)},t}(Error)},60742:(e,t,r)=>{"use strict";r.d(t,{e:()=>a,A:()=>i});var n=r(5096),o=r(87342),i={clientInfoDecodingError:{code:"client_info_decoding_error",desc:"The client info could not be parsed/decoded correctly. Please review the trace to determine the root cause."},clientInfoEmptyError:{code:"client_info_empty_error",desc:"The client info was empty. Please review the trace to determine the root cause."},tokenParsingError:{code:"token_parsing_error",desc:"Token cannot be parsed. Please review stack trace to determine root cause."},nullOrEmptyToken:{code:"null_or_empty_token",desc:"The token is null or empty. Please review the trace to determine the root cause."},endpointResolutionError:{code:"endpoints_resolution_error",desc:"Error: could not resolve endpoints. Please check network and try again."},networkError:{code:"network_error",desc:"Network request failed. Please check network trace to determine root cause."},unableToGetOpenidConfigError:{code:"openid_config_error",desc:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints."},hashNotDeserialized:{code:"hash_not_deserialized",desc:"The hash parameters could not be deserialized. Please review the trace to determine the root cause."},blankGuidGenerated:{code:"blank_guid_generated",desc:"The guid generated was blank. Please review the trace to determine the root cause."},invalidStateError:{code:"invalid_state",desc:"State was not the expected format. Please check the logs to determine whether the request was sent using ProtocolUtils.setRequestState()."},stateMismatchError:{code:"state_mismatch",desc:"State mismatch error. Please check your network. Continued requests may cause cache overflow."},stateNotFoundError:{code:"state_not_found",desc:"State not found"},nonceMismatchError:{code:"nonce_mismatch",desc:"Nonce mismatch error. This may be caused by a race condition in concurrent requests."},nonceNotFoundError:{code:"nonce_not_found",desc:"nonce not found"},noTokensFoundError:{code:"no_tokens_found",desc:"No tokens were found for the given scopes, and no authorization code was passed to acquireToken. You must retrieve an authorization code before making a call to acquireToken()."},multipleMatchingTokens:{code:"multiple_matching_tokens",desc:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account."},multipleMatchingAccounts:{code:"multiple_matching_accounts",desc:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account"},multipleMatchingAppMetadata:{code:"multiple_matching_appMetadata",desc:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata"},tokenRequestCannotBeMade:{code:"request_cannot_be_made",desc:"Token request cannot be made without authorization code or refresh token."},appendEmptyScopeError:{code:"cannot_append_empty_scope",desc:"Cannot append null or empty scope to ScopeSet. Please check the stack trace for more info."},removeEmptyScopeError:{code:"cannot_remove_empty_scope",desc:"Cannot remove null or empty scope from ScopeSet. Please check the stack trace for more info."},appendScopeSetError:{code:"cannot_append_scopeset",desc:"Cannot append ScopeSet due to error."},emptyInputScopeSetError:{code:"empty_input_scopeset",desc:"Empty input ScopeSet cannot be processed."},DeviceCodePollingCancelled:{code:"device_code_polling_cancelled",desc:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true."},DeviceCodeExpired:{code:"device_code_expired",desc:"Device code is expired."},DeviceCodeUnknownError:{code:"device_code_unknown_error",desc:"Device code stopped polling for unknown reasons."},NoAccountInSilentRequest:{code:"no_account_in_silent_request",desc:"Please pass an account object, silent flow is not supported without account information"},invalidCacheRecord:{code:"invalid_cache_record",desc:"Cache record object was null or undefined."},invalidCacheEnvironment:{code:"invalid_cache_environment",desc:"Invalid environment when attempting to create cache entry"},noAccountFound:{code:"no_account_found",desc:"No account found in cache for given key."},CachePluginError:{code:"no cache plugin set on CacheManager",desc:"ICachePlugin needs to be set before using readFromStorage or writeFromStorage"},noCryptoObj:{code:"no_crypto_object",desc:"No crypto object detected. This is required for the following operation: "},invalidCacheType:{code:"invalid_cache_type",desc:"Invalid cache type"},unexpectedAccountType:{code:"unexpected_account_type",desc:"Unexpected account type."},unexpectedCredentialType:{code:"unexpected_credential_type",desc:"Unexpected credential type."},invalidAssertion:{code:"invalid_assertion",desc:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515"},invalidClientCredential:{code:"invalid_client_credential",desc:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential"},tokenRefreshRequired:{code:"token_refresh_required",desc:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired."},userTimeoutReached:{code:"user_timeout_reached",desc:"User defined timeout for device code polling reached"},tokenClaimsRequired:{code:"token_claims_cnf_required_for_signedjwt",desc:"Cannot generate a POP jwt if the token_claims are not populated"},noAuthorizationCodeFromServer:{code:"authorization_code_missing_from_server_response",desc:"Server response does not contain an authorization code to proceed"},noAzureRegionDetected:{code:"no_azure_region_detected",desc:"No azure region was detected and no fallback was made available"},accessTokenEntityNullError:{code:"access_token_entity_null",desc:"Access token entity is null, please check logs and cache to ensure a valid access token is present."},bindingKeyNotRemovedError:{code:"binding_key_not_removed",desc:"Could not remove the credential's binding key from storage."},logoutNotSupported:{code:"end_session_endpoint_not_supported",desc:"Provided authority does not support logout."}},a=function(e){function t(r,n){var o=e.call(this,r,n)||this;return o.name="ClientAuthError",Object.setPrototypeOf(o,t.prototype),o}return(0,n.ZT)(t,e),t.createClientInfoDecodingError=function(e){return new t(i.clientInfoDecodingError.code,i.clientInfoDecodingError.desc+" Failed with error: "+e)},t.createClientInfoEmptyError=function(){return new t(i.clientInfoEmptyError.code,""+i.clientInfoEmptyError.desc)},t.createTokenParsingError=function(e){return new t(i.tokenParsingError.code,i.tokenParsingError.desc+" Failed with error: "+e)},t.createTokenNullOrEmptyError=function(e){return new t(i.nullOrEmptyToken.code,i.nullOrEmptyToken.desc+" Raw Token Value: "+e)},t.createEndpointDiscoveryIncompleteError=function(e){return new t(i.endpointResolutionError.code,i.endpointResolutionError.desc+" Detail: "+e)},t.createNetworkError=function(e,r){return new t(i.networkError.code,i.networkError.desc+" | Fetch client threw: "+r+" | Attempted to reach: "+e.split("?")[0])},t.createUnableToGetOpenidConfigError=function(e){return new t(i.unableToGetOpenidConfigError.code,i.unableToGetOpenidConfigError.desc+" Attempted to retrieve endpoints from: "+e)},t.createHashNotDeserializedError=function(e){return new t(i.hashNotDeserialized.code,i.hashNotDeserialized.desc+" Given Object: "+e)},t.createInvalidStateError=function(e,r){return new t(i.invalidStateError.code,i.invalidStateError.desc+" Invalid State: "+e+", Root Err: "+r)},t.createStateMismatchError=function(){return new t(i.stateMismatchError.code,i.stateMismatchError.desc)},t.createStateNotFoundError=function(e){return new t(i.stateNotFoundError.code,i.stateNotFoundError.desc+":  "+e)},t.createNonceMismatchError=function(){return new t(i.nonceMismatchError.code,i.nonceMismatchError.desc)},t.createNonceNotFoundError=function(e){return new t(i.nonceNotFoundError.code,i.nonceNotFoundError.desc+":  "+e)},t.createMultipleMatchingTokensInCacheError=function(){return new t(i.multipleMatchingTokens.code,i.multipleMatchingTokens.desc+".")},t.createMultipleMatchingAccountsInCacheError=function(){return new t(i.multipleMatchingAccounts.code,i.multipleMatchingAccounts.desc)},t.createMultipleMatchingAppMetadataInCacheError=function(){return new t(i.multipleMatchingAppMetadata.code,i.multipleMatchingAppMetadata.desc)},t.createTokenRequestCannotBeMadeError=function(){return new t(i.tokenRequestCannotBeMade.code,i.tokenRequestCannotBeMade.desc)},t.createAppendEmptyScopeToSetError=function(e){return new t(i.appendEmptyScopeError.code,i.appendEmptyScopeError.desc+" Given Scope: "+e)},t.createRemoveEmptyScopeFromSetError=function(e){return new t(i.removeEmptyScopeError.code,i.removeEmptyScopeError.desc+" Given Scope: "+e)},t.createAppendScopeSetError=function(e){return new t(i.appendScopeSetError.code,i.appendScopeSetError.desc+" Detail Error: "+e)},t.createEmptyInputScopeSetError=function(){return new t(i.emptyInputScopeSetError.code,""+i.emptyInputScopeSetError.desc)},t.createDeviceCodeCancelledError=function(){return new t(i.DeviceCodePollingCancelled.code,""+i.DeviceCodePollingCancelled.desc)},t.createDeviceCodeExpiredError=function(){return new t(i.DeviceCodeExpired.code,""+i.DeviceCodeExpired.desc)},t.createDeviceCodeUnknownError=function(){return new t(i.DeviceCodeUnknownError.code,""+i.DeviceCodeUnknownError.desc)},t.createNoAccountInSilentRequestError=function(){return new t(i.NoAccountInSilentRequest.code,""+i.NoAccountInSilentRequest.desc)},t.createNullOrUndefinedCacheRecord=function(){return new t(i.invalidCacheRecord.code,i.invalidCacheRecord.desc)},t.createInvalidCacheEnvironmentError=function(){return new t(i.invalidCacheEnvironment.code,i.invalidCacheEnvironment.desc)},t.createNoAccountFoundError=function(){return new t(i.noAccountFound.code,i.noAccountFound.desc)},t.createCachePluginError=function(){return new t(i.CachePluginError.code,""+i.CachePluginError.desc)},t.createNoCryptoObjectError=function(e){return new t(i.noCryptoObj.code,""+i.noCryptoObj.desc+e)},t.createInvalidCacheTypeError=function(){return new t(i.invalidCacheType.code,""+i.invalidCacheType.desc)},t.createUnexpectedAccountTypeError=function(){return new t(i.unexpectedAccountType.code,""+i.unexpectedAccountType.desc)},t.createUnexpectedCredentialTypeError=function(){return new t(i.unexpectedCredentialType.code,""+i.unexpectedCredentialType.desc)},t.createInvalidAssertionError=function(){return new t(i.invalidAssertion.code,""+i.invalidAssertion.desc)},t.createInvalidCredentialError=function(){return new t(i.invalidClientCredential.code,""+i.invalidClientCredential.desc)},t.createRefreshRequiredError=function(){return new t(i.tokenRefreshRequired.code,i.tokenRefreshRequired.desc)},t.createUserTimeoutReachedError=function(){return new t(i.userTimeoutReached.code,i.userTimeoutReached.desc)},t.createTokenClaimsRequiredError=function(){return new t(i.tokenClaimsRequired.code,i.tokenClaimsRequired.desc)},t.createNoAuthCodeInServerResponseError=function(){return new t(i.noAuthorizationCodeFromServer.code,i.noAuthorizationCodeFromServer.desc)},t.createBindingKeyNotRemovedError=function(){return new t(i.bindingKeyNotRemovedError.code,i.bindingKeyNotRemovedError.desc)},t.createLogoutNotSupportedError=function(){return new t(i.logoutNotSupported.code,i.logoutNotSupported.desc)},t}(o.l)},47181:(e,t,r)=>{"use strict";r.d(t,{r:()=>a,L:()=>i});var n=r(5096),o=r(60742),i={redirectUriNotSet:{code:"redirect_uri_empty",desc:"A redirect URI is required for all calls, and none has been set."},postLogoutUriNotSet:{code:"post_logout_uri_empty",desc:"A post logout redirect has not been set."},claimsRequestParsingError:{code:"claims_request_parsing_error",desc:"Could not parse the given claims request object."},authorityUriInsecure:{code:"authority_uri_insecure",desc:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options"},urlParseError:{code:"url_parse_error",desc:"URL could not be parsed into appropriate segments."},urlEmptyError:{code:"empty_url_error",desc:"URL was empty or null."},emptyScopesError:{code:"empty_input_scopes_error",desc:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token."},nonArrayScopesError:{code:"nonarray_input_scopes_error",desc:"Scopes cannot be passed as non-array."},clientIdSingleScopeError:{code:"clientid_input_scopes_error",desc:"Client ID can only be provided as a single scope."},invalidPrompt:{code:"invalid_prompt_value",desc:"Supported prompt values are 'login', 'select_account', 'consent', 'create' and 'none'.  Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest"},invalidClaimsRequest:{code:"invalid_claims",desc:"Given claims parameter must be a stringified JSON object."},tokenRequestEmptyError:{code:"token_request_empty",desc:"Token request was empty and not found in cache."},logoutRequestEmptyError:{code:"logout_request_empty",desc:"The logout request was null or undefined."},invalidCodeChallengeMethod:{code:"invalid_code_challenge_method",desc:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".'},invalidCodeChallengeParams:{code:"pkce_params_missing",desc:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request"},invalidCloudDiscoveryMetadata:{code:"invalid_cloud_discovery_metadata",desc:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields"},invalidAuthorityMetadata:{code:"invalid_authority_metadata",desc:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields."},untrustedAuthority:{code:"untrusted_authority",desc:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter."},invalidAzureCloudInstance:{code:"invalid_azure_cloud_instance",desc:"Invalid AzureCloudInstance provided. Please refer MSAL JS docs: aks.ms/msaljs/azure_cloud_instance for valid values"},missingSshJwk:{code:"missing_ssh_jwk",desc:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme."},missingSshKid:{code:"missing_ssh_kid",desc:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme."},missingNonceAuthenticationHeader:{code:"missing_nonce_authentication_header",desc:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce."},invalidAuthenticationHeader:{code:"invalid_authentication_header",desc:"Invalid authentication header provided"}},a=function(e){function t(r,n){var o=e.call(this,r,n)||this;return o.name="ClientConfigurationError",Object.setPrototypeOf(o,t.prototype),o}return(0,n.ZT)(t,e),t.createRedirectUriEmptyError=function(){return new t(i.redirectUriNotSet.code,i.redirectUriNotSet.desc)},t.createPostLogoutRedirectUriEmptyError=function(){return new t(i.postLogoutUriNotSet.code,i.postLogoutUriNotSet.desc)},t.createClaimsRequestParsingError=function(e){return new t(i.claimsRequestParsingError.code,i.claimsRequestParsingError.desc+" Given value: "+e)},t.createInsecureAuthorityUriError=function(e){return new t(i.authorityUriInsecure.code,i.authorityUriInsecure.desc+" Given URI: "+e)},t.createUrlParseError=function(e){return new t(i.urlParseError.code,i.urlParseError.desc+" Given Error: "+e)},t.createUrlEmptyError=function(){return new t(i.urlEmptyError.code,i.urlEmptyError.desc)},t.createEmptyScopesArrayError=function(){return new t(i.emptyScopesError.code,""+i.emptyScopesError.desc)},t.createClientIdSingleScopeError=function(e){return new t(i.clientIdSingleScopeError.code,i.clientIdSingleScopeError.desc+" Given Scopes: "+e)},t.createInvalidPromptError=function(e){return new t(i.invalidPrompt.code,i.invalidPrompt.desc+" Given value: "+e)},t.createInvalidClaimsRequestError=function(){return new t(i.invalidClaimsRequest.code,i.invalidClaimsRequest.desc)},t.createEmptyLogoutRequestError=function(){return new t(i.logoutRequestEmptyError.code,i.logoutRequestEmptyError.desc)},t.createEmptyTokenRequestError=function(){return new t(i.tokenRequestEmptyError.code,i.tokenRequestEmptyError.desc)},t.createInvalidCodeChallengeMethodError=function(){return new t(i.invalidCodeChallengeMethod.code,i.invalidCodeChallengeMethod.desc)},t.createInvalidCodeChallengeParamsError=function(){return new t(i.invalidCodeChallengeParams.code,i.invalidCodeChallengeParams.desc)},t.createInvalidCloudDiscoveryMetadataError=function(){return new t(i.invalidCloudDiscoveryMetadata.code,i.invalidCloudDiscoveryMetadata.desc)},t.createInvalidAuthorityMetadataError=function(){return new t(i.invalidAuthorityMetadata.code,i.invalidAuthorityMetadata.desc)},t.createUntrustedAuthorityError=function(){return new t(i.untrustedAuthority.code,i.untrustedAuthority.desc)},t.createInvalidAzureCloudInstanceError=function(){return new t(i.invalidAzureCloudInstance.code,i.invalidAzureCloudInstance.desc)},t.createMissingSshJwkError=function(){return new t(i.missingSshJwk.code,i.missingSshJwk.desc)},t.createMissingSshKidError=function(){return new t(i.missingSshKid.code,i.missingSshKid.desc)},t.createMissingNonceAuthenticationHeadersError=function(){return new t(i.missingNonceAuthenticationHeader.code,i.missingNonceAuthenticationHeader.desc)},t.createInvalidAuthenticationHeaderError=function(e,r){return new t(i.invalidAuthenticationHeader.code,i.invalidAuthenticationHeader.desc+". Invalid header: "+e+". Details: "+r)},t}(o.e)},83927:(e,t,r)=>{"use strict";r.d(t,{Yo:()=>c,Zy:()=>s});var n=r(5096),o=r(87342),i=["interaction_required","consent_required","login_required"],a=["message_only","additional_action","basic_action","user_password_expired","consent_required"],s={noTokensFoundError:{code:"no_tokens_found",desc:"No refresh token found in the cache. Please sign-in."}},c=function(e){function t(r,n,o){var i=e.call(this,r,n,o)||this;return i.name="InteractionRequiredAuthError",Object.setPrototypeOf(i,t.prototype),i}return(0,n.ZT)(t,e),t.isInteractionRequiredError=function(e,t,r){var n=!!e&&i.indexOf(e)>-1,o=!!r&&a.indexOf(r)>-1,s=!!t&&i.some((function(e){return t.indexOf(e)>-1}));return n||s||o},t.createNoTokensFoundError=function(){return new t(s.noTokensFoundError.code,s.noTokensFoundError.desc)},t}(o.l)},91359:(e,t,r)=>{"use strict";r.d(t,{n:()=>o});var n=r(5096),o=function(e){function t(r,n,o){var i=e.call(this,r,n,o)||this;return i.name="ServerError",Object.setPrototypeOf(i,t.prototype),i}return(0,n.ZT)(t,e),t}(r(87342).l)},21362:(e,t,r)=>{"use strict";r.d(t,{i:()=>n,Y:()=>a});var n,o=r(61653),i=r(77891);!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(n||(n={}));var a=function(){function e(e,t,r){this.level=n.Info,this.localCallback=e.loggerCallback||function(){},this.piiLoggingEnabled=e.piiLoggingEnabled||!1,this.level="number"==typeof e.logLevel?e.logLevel:n.Info,this.correlationId=e.correlationId||"",this.packageName=t||i.gT.EMPTY_STRING,this.packageVersion=r||i.gT.EMPTY_STRING}return e.prototype.clone=function(t,r,n){return new e({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},t,r)},e.prototype.logMessage=function(e,t){if(!(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)){var r=(new Date).toUTCString(),i=(o.x.isEmpty(t.correlationId)?o.x.isEmpty(this.correlationId)?"["+r+"]":"["+r+"] : ["+this.correlationId+"]":"["+r+"] : ["+t.correlationId+"]")+" : "+this.packageName+"@"+this.packageVersion+" : "+n[t.logLevel]+" - "+e;this.executeCallback(t.logLevel,i,t.containsPii||!1)}},e.prototype.executeCallback=function(e,t,r){this.localCallback&&this.localCallback(e,t,r)},e.prototype.error=function(e,t){this.logMessage(e,{logLevel:n.Error,containsPii:!1,correlationId:t||""})},e.prototype.errorPii=function(e,t){this.logMessage(e,{logLevel:n.Error,containsPii:!0,correlationId:t||""})},e.prototype.warning=function(e,t){this.logMessage(e,{logLevel:n.Warning,containsPii:!1,correlationId:t||""})},e.prototype.warningPii=function(e,t){this.logMessage(e,{logLevel:n.Warning,containsPii:!0,correlationId:t||""})},e.prototype.info=function(e,t){this.logMessage(e,{logLevel:n.Info,containsPii:!1,correlationId:t||""})},e.prototype.infoPii=function(e,t){this.logMessage(e,{logLevel:n.Info,containsPii:!0,correlationId:t||""})},e.prototype.verbose=function(e,t){this.logMessage(e,{logLevel:n.Verbose,containsPii:!1,correlationId:t||""})},e.prototype.verbosePii=function(e,t){this.logMessage(e,{logLevel:n.Verbose,containsPii:!0,correlationId:t||""})},e.prototype.trace=function(e,t){this.logMessage(e,{logLevel:n.Trace,containsPii:!1,correlationId:t||""})},e.prototype.tracePii=function(e,t){this.logMessage(e,{logLevel:n.Trace,containsPii:!0,correlationId:t||""})},e.prototype.isPiiLoggingEnabled=function(){return this.piiLoggingEnabled||!1},e}()},30658:(e,t,r)=>{"use strict";r.d(t,{y:()=>o});var n=r(87342),o={sendGetRequestAsync:function(){return Promise.reject(n.l.createUnexpectedError("Network interface - sendGetRequestAsync() has not been implemented for the Network interface."))},sendPostRequestAsync:function(){return Promise.reject(n.l.createUnexpectedError("Network interface - sendPostRequestAsync() has not been implemented for the Network interface."))}}},97482:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var n=r(5096),o=r(47282),i=r(60742),a=r(87342),s=function(){function e(e,t){this.networkClient=e,this.cacheManager=t}return e.prototype.sendPostRequest=function(e,t,r){return(0,n.mG)(this,void 0,void 0,(function(){var s,c;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:o.v.preProcess(this.cacheManager,e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.networkClient.sendPostRequestAsync(t,r)];case 2:return s=n.sent(),[3,4];case 3:throw(c=n.sent())instanceof a.l?c:i.e.createNetworkError(t,c);case 4:return o.v.postProcess(this.cacheManager,e,s),[2,s]}}))}))},e}()},47282:(e,t,r)=>{"use strict";r.d(t,{v:()=>i});var n=r(77891),o=r(91359),i=function(){function e(){}return e.generateThrottlingStorageKey=function(e){return n.bb.THROTTLING_PREFIX+"."+JSON.stringify(e)},e.preProcess=function(t,r){var i,a=e.generateThrottlingStorageKey(r),s=t.getThrottlingCache(a);if(s){if(s.throttleTime<Date.now())return void t.removeItem(a,n.Xj.THROTTLING);throw new o.n((null===(i=s.errorCodes)||void 0===i?void 0:i.join(" "))||n.gT.EMPTY_STRING,s.errorMessage,s.subError)}},e.postProcess=function(t,r,o){if(e.checkResponseStatus(o)||e.checkResponseForRetryAfter(o)){var i={throttleTime:e.calculateThrottleTime(parseInt(o.headers[n.SZ.RETRY_AFTER])),error:o.body.error,errorCodes:o.body.error_codes,errorMessage:o.body.error_description,subError:o.body.suberror};t.setThrottlingCache(e.generateThrottlingStorageKey(r),i)}},e.checkResponseStatus=function(e){return 429===e.status||e.status>=500&&e.status<600},e.checkResponseForRetryAfter=function(e){return!!e.headers&&e.headers.hasOwnProperty(n.SZ.RETRY_AFTER)&&(e.status<200||e.status>=300)},e.calculateThrottleTime=function(e){var t=e<=0?0:e,r=Date.now()/1e3;return Math.floor(1e3*Math.min(r+(t||n.bb.DEFAULT_THROTTLE_TIME_SECONDS),r+n.bb.DEFAULT_MAX_THROTTLE_TIME_SECONDS))},e.removeThrottle=function(e,t,r,o){var i={clientId:t,authority:r.authority,scopes:r.scopes,homeAccountIdentifier:o,claims:r.claims,authenticationScheme:r.authenticationScheme,resourceRequestMethod:r.resourceRequestMethod,resourceRequestUri:r.resourceRequestUri,shrClaims:r.shrClaims,sshKid:r.sshKid},a=this.generateThrottlingStorageKey(i);return e.removeItem(a,n.Xj.THROTTLING)},e}()},26246:(e,t,r)=>{"use strict";r.d(t,{u:()=>n,i:()=>o});var n="@azure/msal-common",o="6.1.0"},32030:(e,t,r)=>{"use strict";r.d(t,{d:()=>i});var n=r(47181),o=r(77891),i=function(){function e(e){this.headers=e}return e.prototype.getShrNonce=function(){var e=this.headers[o.SZ.AuthenticationInfo];if(e){var t=this.parseChallenges(e);if(t.nextnonce)return t.nextnonce;throw n.r.createInvalidAuthenticationHeaderError(o.SZ.AuthenticationInfo,"nextnonce challenge is missing.")}var r=this.headers[o.SZ.WWWAuthenticate];if(r){var i=this.parseChallenges(r);if(i.nonce)return i.nonce;throw n.r.createInvalidAuthenticationHeaderError(o.SZ.WWWAuthenticate,"nonce challenge is missing.")}throw n.r.createMissingNonceAuthenticationHeadersError()},e.prototype.parseChallenges=function(e){var t=e.indexOf(" "),r=e.substr(t+1).split(","),n={};return r.forEach((function(e){var t=e.split("="),r=t[0],o=t[1];n[r]=unescape(o.replace(/['"]+/g,""))})),n},e}()},87479:(e,t,r)=>{"use strict";r.d(t,{H:()=>u});var n=r(5096),o=r(77891),i=r(92613),a=r(47181),s=r(5035),c=r(61653),u=function(){function e(){this.parameters=new Map}return e.prototype.addResponseTypeCode=function(){this.parameters.set(o.Fo.RESPONSE_TYPE,encodeURIComponent(o.gT.CODE_RESPONSE_TYPE))},e.prototype.addResponseMode=function(e){this.parameters.set(o.Fo.RESPONSE_MODE,encodeURIComponent(e||o.vw.QUERY))},e.prototype.addScopes=function(e,t){void 0===t&&(t=!0);var r=t?(0,n.pr)(e||[],o.f_):e||[],a=new i.i(r);this.parameters.set(o.Fo.SCOPE,encodeURIComponent(a.printScopes()))},e.prototype.addClientId=function(e){this.parameters.set(o.Fo.CLIENT_ID,encodeURIComponent(e))},e.prototype.addRedirectUri=function(e){s.D.validateRedirectUri(e),this.parameters.set(o.Fo.REDIRECT_URI,encodeURIComponent(e))},e.prototype.addPostLogoutRedirectUri=function(e){s.D.validateRedirectUri(e),this.parameters.set(o.Fo.POST_LOGOUT_URI,encodeURIComponent(e))},e.prototype.addIdTokenHint=function(e){this.parameters.set(o.Fo.ID_TOKEN_HINT,encodeURIComponent(e))},e.prototype.addDomainHint=function(e){this.parameters.set(o.VO.DOMAIN_HINT,encodeURIComponent(e))},e.prototype.addLoginHint=function(e){this.parameters.set(o.VO.LOGIN_HINT,encodeURIComponent(e))},e.prototype.addCcsUpn=function(e){this.parameters.set(o.SZ.CCS_HEADER,encodeURIComponent("UPN:"+e))},e.prototype.addCcsOid=function(e){this.parameters.set(o.SZ.CCS_HEADER,encodeURIComponent("Oid:"+e.uid+"@"+e.utid))},e.prototype.addSid=function(e){this.parameters.set(o.VO.SID,encodeURIComponent(e))},e.prototype.addClaims=function(e,t){var r=this.addClientCapabilitiesToClaims(e,t);s.D.validateClaims(r),this.parameters.set(o.Fo.CLAIMS,encodeURIComponent(r))},e.prototype.addCorrelationId=function(e){this.parameters.set(o.Fo.CLIENT_REQUEST_ID,encodeURIComponent(e))},e.prototype.addLibraryInfo=function(e){this.parameters.set(o.Fo.X_CLIENT_SKU,e.sku),this.parameters.set(o.Fo.X_CLIENT_VER,e.version),this.parameters.set(o.Fo.X_CLIENT_OS,e.os),this.parameters.set(o.Fo.X_CLIENT_CPU,e.cpu)},e.prototype.addPrompt=function(e){s.D.validatePrompt(e),this.parameters.set(""+o.Fo.PROMPT,encodeURIComponent(e))},e.prototype.addState=function(e){c.x.isEmpty(e)||this.parameters.set(o.Fo.STATE,encodeURIComponent(e))},e.prototype.addNonce=function(e){this.parameters.set(o.Fo.NONCE,encodeURIComponent(e))},e.prototype.addCodeChallengeParams=function(e,t){if(s.D.validateCodeChallengeParams(e,t),!e||!t)throw a.r.createInvalidCodeChallengeParamsError();this.parameters.set(o.Fo.CODE_CHALLENGE,encodeURIComponent(e)),this.parameters.set(o.Fo.CODE_CHALLENGE_METHOD,encodeURIComponent(t))},e.prototype.addAuthorizationCode=function(e){this.parameters.set(o.Fo.CODE,encodeURIComponent(e))},e.prototype.addDeviceCode=function(e){this.parameters.set(o.Fo.DEVICE_CODE,encodeURIComponent(e))},e.prototype.addRefreshToken=function(e){this.parameters.set(o.Fo.REFRESH_TOKEN,encodeURIComponent(e))},e.prototype.addCodeVerifier=function(e){this.parameters.set(o.Fo.CODE_VERIFIER,encodeURIComponent(e))},e.prototype.addClientSecret=function(e){this.parameters.set(o.Fo.CLIENT_SECRET,encodeURIComponent(e))},e.prototype.addClientAssertion=function(e){this.parameters.set(o.Fo.CLIENT_ASSERTION,encodeURIComponent(e))},e.prototype.addClientAssertionType=function(e){this.parameters.set(o.Fo.CLIENT_ASSERTION_TYPE,encodeURIComponent(e))},e.prototype.addOboAssertion=function(e){this.parameters.set(o.Fo.OBO_ASSERTION,encodeURIComponent(e))},e.prototype.addRequestTokenUse=function(e){this.parameters.set(o.Fo.REQUESTED_TOKEN_USE,encodeURIComponent(e))},e.prototype.addGrantType=function(e){this.parameters.set(o.Fo.GRANT_TYPE,encodeURIComponent(e))},e.prototype.addClientInfo=function(){this.parameters.set(o.sR,"1")},e.prototype.addExtraQueryParameters=function(e){var t=this;s.D.sanitizeEQParams(e,this.parameters),Object.keys(e).forEach((function(r){t.parameters.set(r,e[r])}))},e.prototype.addClientCapabilitiesToClaims=function(e,t){var r;if(e)try{r=JSON.parse(e)}catch(e){throw a.r.createInvalidClaimsRequestError()}else r={};return t&&t.length>0&&(r.hasOwnProperty(o.As.ACCESS_TOKEN)||(r[o.As.ACCESS_TOKEN]={}),r[o.As.ACCESS_TOKEN][o.As.XMS_CC]={values:t}),JSON.stringify(r)},e.prototype.addUsername=function(e){this.parameters.set(o.Ge.username,e)},e.prototype.addPassword=function(e){this.parameters.set(o.Ge.password,e)},e.prototype.addPopToken=function(e){c.x.isEmpty(e)||(this.parameters.set(o.Fo.TOKEN_TYPE,o.hO.POP),this.parameters.set(o.Fo.REQ_CNF,encodeURIComponent(e)))},e.prototype.addSshJwk=function(e){c.x.isEmpty(e)||(this.parameters.set(o.Fo.TOKEN_TYPE,o.hO.SSH),this.parameters.set(o.Fo.REQ_CNF,encodeURIComponent(e)))},e.prototype.addServerTelemetry=function(e){this.parameters.set(o.Fo.X_CLIENT_CURR_TELEM,e.generateCurrentRequestHeaderValue()),this.parameters.set(o.Fo.X_CLIENT_LAST_TELEM,e.generateLastRequestHeaderValue())},e.prototype.addThrottling=function(){this.parameters.set(o.Fo.X_MS_LIB_CAPABILITY,o.bb.X_MS_LIB_CAPABILITY_VALUE)},e.prototype.addLogoutHint=function(e){this.parameters.set(o.Fo.LOGOUT_HINT,encodeURIComponent(e))},e.prototype.createQueryString=function(){var e=new Array;return this.parameters.forEach((function(t,r){e.push(r+"="+t)})),e.join("&")},e}()},5035:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});var n=r(61653),o=r(47181),i=r(77891),a=function(){function e(){}return e.validateRedirectUri=function(e){if(n.x.isEmpty(e))throw o.r.createRedirectUriEmptyError()},e.validatePrompt=function(e){var t=[];for(var r in i.NJ)t.push(i.NJ[r]);if(t.indexOf(e)<0)throw o.r.createInvalidPromptError(e)},e.validateClaims=function(e){try{JSON.parse(e)}catch(e){throw o.r.createInvalidClaimsRequestError()}},e.validateCodeChallengeParams=function(e,t){if(n.x.isEmpty(e)||n.x.isEmpty(t))throw o.r.createInvalidCodeChallengeParamsError();this.validateCodeChallengeMethod(t)},e.validateCodeChallengeMethod=function(e){if([i.VX.PLAIN,i.VX.S256].indexOf(e)<0)throw o.r.createInvalidCodeChallengeMethodError()},e.sanitizeEQParams=function(e,t){return e?(t.forEach((function(t,r){e[r]&&delete e[r]})),e):{}},e}()},92613:(e,t,r)=>{"use strict";r.d(t,{i:()=>c});var n=r(5096),o=r(47181),i=r(61653),a=r(60742),s=r(77891),c=function(){function e(e){var t=this,r=e?i.x.trimArrayEntries((0,n.pr)(e)):[],o=r?i.x.removeEmptyStringsFromArray(r):[];this.validateInputScopes(o),this.scopes=new Set,o.forEach((function(e){return t.scopes.add(e)}))}return e.fromString=function(t){return new e((t||"").split(" "))},e.prototype.validateInputScopes=function(e){if(!e||e.length<1)throw o.r.createEmptyScopesArrayError()},e.prototype.containsScope=function(t){var r=new e(this.printScopesLowerCase().split(" "));return!i.x.isEmpty(t)&&r.scopes.has(t.toLowerCase())},e.prototype.containsScopeSet=function(e){var t=this;return!(!e||e.scopes.size<=0)&&this.scopes.size>=e.scopes.size&&e.asArray().every((function(e){return t.containsScope(e)}))},e.prototype.containsOnlyOIDCScopes=function(){var e=this,t=0;return s.$f.forEach((function(r){e.containsScope(r)&&(t+=1)})),this.scopes.size===t},e.prototype.appendScope=function(e){i.x.isEmpty(e)||this.scopes.add(e.trim())},e.prototype.appendScopes=function(e){var t=this;try{e.forEach((function(e){return t.appendScope(e)}))}catch(e){throw a.e.createAppendScopeSetError(e)}},e.prototype.removeScope=function(e){if(i.x.isEmpty(e))throw a.e.createRemoveEmptyScopeFromSetError(e);this.scopes.delete(e.trim())},e.prototype.removeOIDCScopes=function(){var e=this;s.$f.forEach((function(t){e.scopes.delete(t)}))},e.prototype.unionScopeSets=function(e){if(!e)throw a.e.createEmptyInputScopeSetError();var t=new Set;return e.scopes.forEach((function(e){return t.add(e.toLowerCase())})),this.scopes.forEach((function(e){return t.add(e.toLowerCase())})),t},e.prototype.intersectingScopeSets=function(e){if(!e)throw a.e.createEmptyInputScopeSetError();e.containsOnlyOIDCScopes()||e.removeOIDCScopes();var t=this.unionScopeSets(e),r=e.getScopeCount(),n=this.getScopeCount();return t.size<n+r},e.prototype.getScopeCount=function(){return this.scopes.size},e.prototype.asArray=function(){var e=[];return this.scopes.forEach((function(t){return e.push(t)})),e},e.prototype.printScopes=function(){return this.scopes?this.asArray().join(" "):""},e.prototype.printScopesLowerCase=function(){return this.printScopes().toLowerCase()},e}()},32105:(e,t,r)=>{"use strict";r.d(t,{s:()=>w});var n=r(5096),o=r(11520),i=r(60742),a=r(61653),s=r(91359),c=r(70591),u=r(92613),l=r(43640),d=r(52944),h=r(70979),p=r(85907),f=r(11429),g=r(83927),m=function(e,t,r,n,o){this.account=e||null,this.idToken=t||null,this.accessToken=r||null,this.refreshToken=n||null,this.appMetadata=o||null},v=r(3516),y=r(77891),C=r(17650),E=r(59993),T=r(59665),w=function(){function e(e,t,r,n,o,i){this.clientId=e,this.cacheStorage=t,this.cryptoObj=r,this.logger=n,this.serializableCache=o,this.persistencePlugin=i}return e.prototype.validateServerAuthorizationCodeResponse=function(e,t,r){if(!e.state||!t)throw e.state?i.e.createStateNotFoundError("Cached State"):i.e.createStateNotFoundError("Server State");if(decodeURIComponent(e.state)!==decodeURIComponent(t))throw i.e.createStateMismatchError();if(e.error||e.error_description||e.suberror){if(g.Yo.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new g.Yo(e.error||y.gT.EMPTY_STRING,e.error_description,e.suberror);throw new s.n(e.error||y.gT.EMPTY_STRING,e.error_description,e.suberror)}e.client_info&&(0,o.B)(e.client_info,r)},e.prototype.validateTokenResponse=function(e){if(e.error||e.error_description||e.suberror){if(g.Yo.isInteractionRequiredError(e.error,e.error_description,e.suberror))throw new g.Yo(e.error,e.error_description,e.suberror);var t=e.error_codes+" - ["+e.timestamp+"]: "+e.error_description+" - Correlation ID: "+e.correlation_id+" - Trace ID: "+e.trace_id;throw new s.n(e.error,t,e.suberror)}},e.prototype.handleServerTokenResponse=function(t,r,o,s,u,d,h){return(0,n.mG)(this,void 0,void 0,(function(){var p,f,g,m,C;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:if(t.id_token&&(p=new c.H(t.id_token||y.gT.EMPTY_STRING,this.cryptoObj),u&&!a.x.isEmpty(u.nonce)&&p.claims.nonce!==u.nonce))throw i.e.createNonceMismatchError();this.homeAccountIdentifier=l.r.generateHomeAccountId(t.client_info||y.gT.EMPTY_STRING,r.authorityType,this.logger,this.cryptoObj,p),u&&u.state&&(f=v.C.parseRequestState(this.cryptoObj,u.state)),t.key_id=t.key_id||s.sshKid||void 0,g=this.generateCacheRecord(t,r,o,s,p,d,u),n.label=1;case 1:return n.trys.push([1,,5,8]),this.persistencePlugin&&this.serializableCache?(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),m=new T.C(this.serializableCache,!0),[4,this.persistencePlugin.beforeCacheAccess(m)]):[3,3];case 2:n.sent(),n.label=3;case 3:return h&&g.account&&(C=g.account.generateAccountKey(),!this.cacheStorage.getAccount(C))?(this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),[2,e.generateAuthenticationResult(this.cryptoObj,r,g,!1,s,p,f)]):[4,this.cacheStorage.saveCacheRecord(g)];case 4:return n.sent(),[3,8];case 5:return this.persistencePlugin&&this.serializableCache&&m?(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),[4,this.persistencePlugin.afterCacheAccess(m)]):[3,7];case 6:n.sent(),n.label=7;case 7:return[7];case 8:return[2,e.generateAuthenticationResult(this.cryptoObj,r,g,!1,s,p,f,t.spa_code)]}}))}))},e.prototype.generateCacheRecord=function(e,t,r,n,o,s,c){var l,d,g=t.getPreferredCache();if(a.x.isEmpty(g))throw i.e.createInvalidCacheEnvironmentError();!a.x.isEmpty(e.id_token)&&o&&(l=h.w.createIdTokenEntity(this.homeAccountIdentifier,g,e.id_token||y.gT.EMPTY_STRING,this.clientId,o.claims.tid||y.gT.EMPTY_STRING,s),d=this.generateAccountEntity(e,o,t,s,c));var v=null;if(!a.x.isEmpty(e.access_token)){var C=e.scope?u.i.fromString(e.scope):new u.i(n.scopes||[]),T=("string"==typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,w=("string"==typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,S=("string"==typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,I=r+T,b=I+w,A=S&&S>0?r+S:void 0;v=p._.createAccessTokenEntity(this.homeAccountIdentifier,g,e.access_token||y.gT.EMPTY_STRING,this.clientId,o?o.claims.tid||y.gT.EMPTY_STRING:t.tenant,C.printScopes(),I,b,this.cryptoObj,A,e.token_type,s,e.key_id,n.claims,n.requestedClaimsHash)}var _=null;a.x.isEmpty(e.refresh_token)||(_=f.e.createRefreshTokenEntity(this.homeAccountIdentifier,g,e.refresh_token||y.gT.EMPTY_STRING,this.clientId,e.foci,s));var R=null;return a.x.isEmpty(e.foci)||(R=E.T.createAppMetadataEntity(this.clientId,g,e.foci)),new m(d,l,v,_,R)},e.prototype.generateAccountEntity=function(e,t,r,n,o){var s=r.authorityType,c=o?o.cloud_graph_host_name:"",u=o?o.msgraph_host:"";if(s===d.a.Adfs)return this.logger.verbose("Authority type is ADFS, creating ADFS account"),l.r.createGenericAccount(this.homeAccountIdentifier,t,r,n,c,u);if(a.x.isEmpty(e.client_info)&&"AAD"===r.protocolMode)throw i.e.createClientInfoEmptyError();return e.client_info?l.r.createAccount(e.client_info,this.homeAccountIdentifier,t,r,n,c,u):l.r.createGenericAccount(this.homeAccountIdentifier,t,r,n,c,u)},e.generateAuthenticationResult=function(e,t,r,o,i,a,s,c){var l,d,h;return(0,n.mG)(this,void 0,void 0,(function(){var p,f,g,m,v,E,T;return(0,n.Jh)(this,(function(n){switch(n.label){case 0:return p="",f=[],g=null,v=y.gT.EMPTY_STRING,r.accessToken?r.accessToken.tokenType!==y.hO.POP?[3,2]:[4,new C.$(e).signPopToken(r.accessToken.secret,i)]:[3,4];case 1:return p=n.sent(),[3,3];case 2:p=r.accessToken.secret,n.label=3;case 3:f=u.i.fromString(r.accessToken.target).asArray(),g=new Date(1e3*Number(r.accessToken.expiresOn)),m=new Date(1e3*Number(r.accessToken.extendedExpiresOn)),n.label=4;case 4:return r.appMetadata&&(v=r.appMetadata.familyId===y.ch?y.ch:y.gT.EMPTY_STRING),E=(null==a?void 0:a.claims.oid)||(null==a?void 0:a.claims.sub)||y.gT.EMPTY_STRING,T=(null==a?void 0:a.claims.tid)||y.gT.EMPTY_STRING,[2,{authority:t.canonicalAuthority,uniqueId:E,tenantId:T,scopes:f,account:r.account?r.account.getAccountInfo():null,idToken:a?a.rawToken:y.gT.EMPTY_STRING,idTokenClaims:a?a.claims:{},accessToken:p,fromCache:o,expiresOn:g,correlationId:i.correlationId,extExpiresOn:m,familyId:v,tokenType:(null===(l=r.accessToken)||void 0===l?void 0:l.tokenType)||y.gT.EMPTY_STRING,state:s?s.userRequestState:y.gT.EMPTY_STRING,cloudGraphHostName:(null===(d=r.account)||void 0===d?void 0:d.cloudGraphHostName)||y.gT.EMPTY_STRING,msGraphHost:(null===(h=r.account)||void 0===h?void 0:h.msGraphHost)||y.gT.EMPTY_STRING,code:c}]}}))}))},e}()},31093:(e,t,r)=>{"use strict";r.d(t,{d:()=>a});var n=r(77891),o=r(44612),i=r(61653),a=function(){function e(e,t){this.cacheOutcome=n.To.NO_CACHE_HIT,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||n.gT.EMPTY_STRING,this.wrapperVer=e.wrapperVer||n.gT.EMPTY_STRING,this.telemetryCacheKey=n.HN.CACHE_KEY+n.Bv.CACHE_KEY_SEPARATOR+e.clientId}return e.prototype.generateCurrentRequestHeaderValue=function(){var e=""+this.apiId+n.HN.VALUE_SEPARATOR+this.cacheOutcome,t=[this.wrapperSKU,this.wrapperVer].join(n.HN.VALUE_SEPARATOR),r=[e,this.getRegionDiscoveryFields()].join(n.HN.VALUE_SEPARATOR);return[n.HN.SCHEMA_VERSION,r,t].join(n.HN.CATEGORY_SEPARATOR)},e.prototype.generateLastRequestHeaderValue=function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t),o=t.failedRequests.slice(0,2*r).join(n.HN.VALUE_SEPARATOR),i=t.errors.slice(0,r).join(n.HN.VALUE_SEPARATOR),a=t.errors.length,s=[a,r<a?n.HN.OVERFLOW_TRUE:n.HN.OVERFLOW_FALSE].join(n.HN.VALUE_SEPARATOR);return[n.HN.SCHEMA_VERSION,t.cacheHits,o,i,s].join(n.HN.CATEGORY_SEPARATOR)},e.prototype.cacheFailedRequest=function(e){var t=this.getLastRequests();t.errors.length>=n.HN.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),i.x.isEmpty(e.subError)?i.x.isEmpty(e.errorCode)?e&&e.toString()?t.errors.push(e.toString()):t.errors.push(n.HN.UNKNOWN_ERROR):t.errors.push(e.errorCode):t.errors.push(e.subError),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)},e.prototype.incrementCacheHits=function(){var e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits},e.prototype.getLastRequests=function(){var e=new o.d;return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||e},e.prototype.clearTelemetryCache=function(){var t=this.getLastRequests(),r=e.maxErrorsToSend(t);if(r===t.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{var n=new o.d;n.failedRequests=t.failedRequests.slice(2*r),n.errors=t.errors.slice(r),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}},e.maxErrorsToSend=function(e){var t,r=0,o=0,i=e.errors.length;for(t=0;t<i;t++){var a=e.failedRequests[2*t]||n.gT.EMPTY_STRING,s=e.failedRequests[2*t+1]||n.gT.EMPTY_STRING,c=e.errors[t]||n.gT.EMPTY_STRING;if(!((o+=a.toString().length+s.toString().length+c.length+3)<n.HN.MAX_LAST_HEADER_BYTES))break;r+=1}return r},e.prototype.getRegionDiscoveryFields=function(){var e=[];return e.push(this.regionUsed||""),e.push(this.regionSource||""),e.push(this.regionOutcome||""),e.join(",")},e.prototype.updateRegionDiscoveryMetadata=function(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome},e.prototype.setCacheOutcome=function(e){this.cacheOutcome=e},e}()},99860:(e,t,r)=>{"use strict";r.d(t,{G:()=>s});var n=r(47181),o=r(60742),i=r(61653),a=r(77891),s=function(){function e(t){if(this._urlString=t,i.x.isEmpty(this._urlString))throw n.r.createUrlEmptyError();i.x.isEmpty(this.getHash())&&(this._urlString=e.canonicalizeUri(t))}return Object.defineProperty(e.prototype,"urlString",{get:function(){return this._urlString},enumerable:!1,configurable:!0}),e.canonicalizeUri=function(e){if(e){var t=e.toLowerCase();return i.x.endsWith(t,"?")?t=t.slice(0,-1):i.x.endsWith(t,"?/")&&(t=t.slice(0,-2)),i.x.endsWith(t,"/")||(t+="/"),t}return e},e.prototype.validateAsUri=function(){var e;try{e=this.getUrlComponents()}catch(e){throw n.r.createUrlParseError(e)}if(!e.HostNameAndPort||!e.PathSegments)throw n.r.createUrlParseError("Given url string: "+this.urlString);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw n.r.createInsecureAuthorityUriError(this.urlString)},e.appendQueryString=function(e,t){return i.x.isEmpty(t)?e:e.indexOf("?")<0?e+"?"+t:e+"&"+t},e.removeHashFromUrl=function(t){return e.canonicalizeUri(t.split("#")[0])},e.prototype.replaceTenantPath=function(t){var r=this.getUrlComponents(),n=r.PathSegments;return!t||0===n.length||n[0]!==a.Nb.COMMON&&n[0]!==a.Nb.ORGANIZATIONS||(n[0]=t),e.constructAuthorityUriFromObject(r)},e.prototype.getHash=function(){return e.parseHash(this.urlString)},e.prototype.getUrlComponents=function(){var e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw n.r.createUrlParseError("Given url string: "+this.urlString);var r={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]},o=r.AbsolutePath.split("/");return o=o.filter((function(e){return e&&e.length>0})),r.PathSegments=o,!i.x.isEmpty(r.QueryString)&&r.QueryString.endsWith("/")&&(r.QueryString=r.QueryString.substring(0,r.QueryString.length-1)),r},e.getDomainFromUrl=function(e){var t=RegExp("^([^:/?#]+://)?([^/?#]*)"),r=e.match(t);if(!r)throw n.r.createUrlParseError("Given url string: "+e);return r[2]},e.getAbsoluteUrl=function(t,r){if(t[0]===a.gT.FORWARD_SLASH){var n=new e(r).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+t}return t},e.parseHash=function(e){var t=e.indexOf("#"),r=e.indexOf("#/");return r>-1?e.substring(r+2):t>-1?e.substring(t+1):""},e.constructAuthorityUriFromObject=function(t){return new e(t.Protocol+"//"+t.HostNameAndPort+"/"+t.PathSegments.join("/"))},e.getDeserializedHash=function(t){if(i.x.isEmpty(t))return{};var r=e.parseHash(t),n=i.x.queryStringToObject(i.x.isEmpty(r)?t:r);if(!n)throw o.e.createHashNotDeserializedError(JSON.stringify(n));return n},e.hashContainsKnownProperties=function(t){if(i.x.isEmpty(t)||t.indexOf("=")<0)return!1;var r=e.getDeserializedHash(t);return!!(r.code||r.error_description||r.error||r.state)},e}()},77891:(e,t,r)=>{"use strict";r.d(t,{Nb:()=>i,Fo:()=>a,dg:()=>S,QU:()=>A,hO:()=>_,pQ:()=>w,sR:()=>I,iR:()=>m,To:()=>x,Xj:()=>C,LL:()=>E,As:()=>s,VX:()=>T,gT:()=>u,d3:()=>y,D1:()=>L,qJ:()=>g,SZ:()=>n,f_:()=>l,$f:()=>d,Ge:()=>k,Vi:()=>o,NJ:()=>p,ki:()=>O,W:()=>P,YY:()=>N,vw:()=>f,HN:()=>R,VO:()=>h,Bv:()=>v,ch:()=>b,bb:()=>M});var n,o,i,a,s,c=r(5096),u={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_RESPONSE_TYPE:"code",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",FRAGMENT_RESPONSE_MODE:"fragment",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},l=[u.OPENID_SCOPE,u.PROFILE_SCOPE,u.OFFLINE_ACCESS_SCOPE],d=(0,c.pr)(l,[u.EMAIL_SCOPE]);!function(e){e.CONTENT_TYPE="Content-Type",e.RETRY_AFTER="Retry-After",e.CCS_HEADER="X-AnchorMailbox",e.WWWAuthenticate="WWW-Authenticate",e.AuthenticationInfo="Authentication-Info"}(n||(n={})),function(e){e.ID_TOKEN="idtoken",e.CLIENT_INFO="client.info",e.ADAL_ID_TOKEN="adal.idtoken",e.ERROR="error",e.ERROR_DESC="error.description",e.ACTIVE_ACCOUNT="active-account"}(o||(o={})),function(e){e.COMMON="common",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers"}(i||(i={})),function(e){e.CLIENT_ID="client_id",e.REDIRECT_URI="redirect_uri",e.RESPONSE_TYPE="response_type",e.RESPONSE_MODE="response_mode",e.GRANT_TYPE="grant_type",e.CLAIMS="claims",e.SCOPE="scope",e.ERROR="error",e.ERROR_DESCRIPTION="error_description",e.ACCESS_TOKEN="access_token",e.ID_TOKEN="id_token",e.REFRESH_TOKEN="refresh_token",e.EXPIRES_IN="expires_in",e.STATE="state",e.NONCE="nonce",e.PROMPT="prompt",e.SESSION_STATE="session_state",e.CLIENT_INFO="client_info",e.CODE="code",e.CODE_CHALLENGE="code_challenge",e.CODE_CHALLENGE_METHOD="code_challenge_method",e.CODE_VERIFIER="code_verifier",e.CLIENT_REQUEST_ID="client-request-id",e.X_CLIENT_SKU="x-client-SKU",e.X_CLIENT_VER="x-client-VER",e.X_CLIENT_OS="x-client-OS",e.X_CLIENT_CPU="x-client-CPU",e.X_CLIENT_CURR_TELEM="x-client-current-telemetry",e.X_CLIENT_LAST_TELEM="x-client-last-telemetry",e.X_MS_LIB_CAPABILITY="x-ms-lib-capability",e.POST_LOGOUT_URI="post_logout_redirect_uri",e.ID_TOKEN_HINT="id_token_hint",e.DEVICE_CODE="device_code",e.CLIENT_SECRET="client_secret",e.CLIENT_ASSERTION="client_assertion",e.CLIENT_ASSERTION_TYPE="client_assertion_type",e.TOKEN_TYPE="token_type",e.REQ_CNF="req_cnf",e.OBO_ASSERTION="assertion",e.REQUESTED_TOKEN_USE="requested_token_use",e.ON_BEHALF_OF="on_behalf_of",e.FOCI="foci",e.CCS_HEADER="X-AnchorMailbox",e.RETURN_SPA_CODE="return_spa_code",e.LOGOUT_HINT="logout_hint"}(a||(a={})),function(e){e.ACCESS_TOKEN="access_token",e.XMS_CC="xms_cc"}(s||(s={}));var h,p={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create"};!function(e){e.ACCOUNT="account",e.SID="sid",e.LOGIN_HINT="login_hint",e.ID_TOKEN="id_token",e.DOMAIN_HINT="domain_hint",e.ORGANIZATIONS="organizations",e.CONSUMERS="consumers",e.ACCOUNT_ID="accountIdentifier",e.HOMEACCOUNT_ID="homeAccountIdentifier"}(h||(h={}));var f,g,m,v,y,C,E,T={PLAIN:"plain",S256:"S256"};!function(e){e.QUERY="query",e.FRAGMENT="fragment",e.FORM_POST="form_post"}(f||(f={})),function(e){e.IMPLICIT_GRANT="implicit",e.AUTHORIZATION_CODE_GRANT="authorization_code",e.CLIENT_CREDENTIALS_GRANT="client_credentials",e.RESOURCE_OWNER_PASSWORD_GRANT="password",e.REFRESH_TOKEN_GRANT="refresh_token",e.DEVICE_CODE_GRANT="device_code",e.JWT_BEARER="urn:ietf:params:oauth:grant-type:jwt-bearer"}(g||(g={})),function(e){e.MSSTS_ACCOUNT_TYPE="MSSTS",e.ADFS_ACCOUNT_TYPE="ADFS",e.MSAV1_ACCOUNT_TYPE="MSA",e.GENERIC_ACCOUNT_TYPE="Generic"}(m||(m={})),function(e){e.CACHE_KEY_SEPARATOR="-",e.CLIENT_INFO_SEPARATOR="."}(v||(v={})),function(e){e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.ACCESS_TOKEN_WITH_AUTH_SCHEME="AccessToken_With_AuthScheme",e.REFRESH_TOKEN="RefreshToken"}(y||(y={})),function(e){e.ACCOUNT="Account",e.CREDENTIAL="Credential",e.ID_TOKEN="IdToken",e.ACCESS_TOKEN="AccessToken",e.REFRESH_TOKEN="RefreshToken",e.APP_METADATA="AppMetadata",e.TEMPORARY="TempCache",e.TELEMETRY="Telemetry",e.UNDEFINED="Undefined",e.THROTTLING="Throttling"}(C||(C={})),function(e){e[e.ADFS=1001]="ADFS",e[e.MSA=1002]="MSA",e[e.MSSTS=1003]="MSSTS",e[e.GENERIC=1004]="GENERIC",e[e.ACCESS_TOKEN=2001]="ACCESS_TOKEN",e[e.REFRESH_TOKEN=2002]="REFRESH_TOKEN",e[e.ID_TOKEN=2003]="ID_TOKEN",e[e.APP_METADATA=3001]="APP_METADATA",e[e.UNDEFINED=9999]="UNDEFINED"}(E||(E={}));var w,S="appmetadata",I="client_info",b="1",A={CACHE_KEY:"authority-metadata",REFRESH_TIME_SECONDS:86400};!function(e){e.CONFIG="config",e.CACHE="cache",e.NETWORK="network"}(w||(w={}));var _,R={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"};!function(e){e.BEARER="Bearer",e.POP="pop",e.SSH="ssh-cert"}(_||(_={}));var k,N,P,O,x,M={DEFAULT_THROTTLE_TIME_SECONDS:60,DEFAULT_MAX_THROTTLE_TIME_SECONDS:3600,THROTTLING_PREFIX:"throttling",X_MS_LIB_CAPABILITY_VALUE:"retry-after, h429"},L={INVALID_GRANT_ERROR:"invalid_grant",CLIENT_MISMATCH_ERROR:"client_mismatch"};!function(e){e.username="username",e.password="password"}(k||(k={})),function(e){e[e.httpSuccess=200]="httpSuccess",e[e.httpBadRequest=400]="httpBadRequest"}(N||(N={})),function(e){e.FAILED_AUTO_DETECTION="1",e.INTERNAL_CACHE="2",e.ENVIRONMENT_VARIABLE="3",e.IMDS="4"}(P||(P={})),function(e){e.CONFIGURED_MATCHES_DETECTED="1",e.CONFIGURED_NO_AUTO_DETECTION="2",e.CONFIGURED_NOT_DETECTED="3",e.AUTO_DETECTION_REQUESTED_SUCCESSFUL="4",e.AUTO_DETECTION_REQUESTED_FAILED="5"}(O||(O={})),function(e){e.NO_CACHE_HIT="0",e.FORCE_REFRESH="1",e.NO_CACHED_ACCESS_TOKEN="2",e.CACHED_ACCESS_TOKEN_EXPIRED="3",e.REFRESH_CACHED_ACCESS_TOKEN="4"}(x||(x={}))},3516:(e,t,r)=>{"use strict";r.d(t,{C:()=>a});var n=r(61653),o=r(77891),i=r(60742),a=function(){function e(){}return e.setRequestState=function(t,r,i){var a=e.generateLibraryState(t,i);return n.x.isEmpty(r)?a:""+a+o.gT.RESOURCE_DELIM+r},e.generateLibraryState=function(e,t){if(!e)throw i.e.createNoCryptoObjectError("generateLibraryState");var r={id:e.createNewGuid()};t&&(r.meta=t);var n=JSON.stringify(r);return e.base64Encode(n)},e.parseRequestState=function(e,t){if(!e)throw i.e.createNoCryptoObjectError("parseRequestState");if(n.x.isEmpty(t))throw i.e.createInvalidStateError(t,"Null, undefined or empty state");try{var r=t.split(o.gT.RESOURCE_DELIM),a=r[0],s=r.length>1?r.slice(1).join(o.gT.RESOURCE_DELIM):"",c=e.base64Decode(a),u=JSON.parse(c);return{userRequestState:n.x.isEmpty(s)?"":s,libraryState:u}}catch(e){throw i.e.createInvalidStateError(t,e)}},e}()},61653:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var n=r(60742),o=function(){function e(){}return e.decodeAuthToken=function(t){if(e.isEmpty(t))throw n.e.createTokenNullOrEmptyError(t);var r=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(t);if(!r||r.length<4)throw n.e.createTokenParsingError("Given token is malformed: "+JSON.stringify(t));return{header:r[1],JWSPayload:r[2],JWSSig:r[3]}},e.isEmpty=function(e){return void 0===e||!e||0===e.length},e.isEmptyObj=function(t){if(t&&!e.isEmpty(t))try{var r=JSON.parse(t);return 0===Object.keys(r).length}catch(e){}return!0},e.startsWith=function(e,t){return 0===e.indexOf(t)},e.endsWith=function(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length},e.queryStringToObject=function(e){var t={},r=e.split("&"),n=function(e){return decodeURIComponent(e.replace(/\+/g," "))};return r.forEach((function(e){if(e.trim()){var r=e.split(/=(.+)/g,2),o=r[0],i=r[1];o&&i&&(t[n(o)]=n(i))}})),t},e.trimArrayEntries=function(e){return e.map((function(e){return e.trim()}))},e.removeEmptyStringsFromArray=function(t){return t.filter((function(t){return!e.isEmpty(t)}))},e.jsonParseHelper=function(e){try{return JSON.parse(e)}catch(e){return null}},e.matchPattern=function(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)},e}()},33848:(e,t,r)=>{"use strict";r.d(t,{I:()=>n});var n=function(){function e(){}return e.nowSeconds=function(){return Math.round((new Date).getTime()/1e3)},e.isTokenExpired=function(t,r){var n=Number(t)||0;return e.nowSeconds()+r>n},e.wasClockTurnedBack=function(t){return Number(t)>e.nowSeconds()},e.delay=function(e,t){return new Promise((function(r){return setTimeout((function(){return r(t)}),e)}))},e}()},96674:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AppInsightsCore:()=>Kt,ApplicationAnalytics:()=>jn,ApplicationInsights:()=>yi,ApplicationInsightsContainer:()=>Ti,BaseCore:()=>Ht,BaseTelemetryPlugin:()=>gt,CoreUtils:()=>ur,DependenciesPlugin:()=>di,DistributedTracingModes:()=>tn,Event:()=>Lr,Exception:()=>rn,LoggingSeverity:()=>H,Metric:()=>Fr,NotificationManager:()=>Bt,PageView:()=>jr,PageViewPerformance:()=>zr,PerfEvent:()=>st,PerfManager:()=>ct,PropertiesPlugin:()=>jo,RemoteDependencyData:()=>Fn,Sender:()=>No,SeverityLevel:()=>$r,Telemetry:()=>vi,Trace:()=>Ur,Util:()=>On,_InternalMessageId:()=>B,doPerf:()=>lt});var n="function",o="object",i="undefined",a=Object,s=a.prototype,c=a.assign,u=a.create,l=a.defineProperty,d=s.hasOwnProperty,h=null;function p(e){return void 0===e&&(e=!0),h&&e||(typeof globalThis!==i&&globalThis&&(h=globalThis),typeof self!==i&&self&&(h=self),typeof window!==i&&window&&(h=window),typeof r.g!==i&&r.g&&(h=r.g)),h}function f(e){throw new TypeError(e)}function g(e){if(u)return u(e);if(null==e)return{};var t=typeof e;function r(){}return t!==o&&t!==n&&f("Object prototype may only be an Object:"+e),r.prototype=e,new r}(p()||{}).Symbol,(p()||{}).Reflect;var m=c||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])s.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},v=function(e,t){return v=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},v(e,t)};function y(e,t){function r(){this.constructor=e}typeof t!==n&&null!==t&&f("Class extends value "+String(t)+" is not a constructor or null"),v(e,t),e.prototype=null===t?g(t):(r.prototype=t.prototype,new r)}function C(e,t){for(var r=0,n=t.length,o=e.length;r<n;r++,o++)e[o]=t[r];return e}var E="prototype",T="function",w="_dynClass",S="_unknown_",I=Object,b=I.getPrototypeOf,A=0;function _(e,t){return e&&I.prototype.hasOwnProperty.call(e,t)}function R(e){return e&&(e===I.prototype||e===Array.prototype)}function k(e){return R(e)||e===Function.prototype}function N(e){if(e){if(b)return b(e);var t=e.__proto__||e.prototype||(e.constructor?e.constructor.prototype:null);if(t)return t}return null}function P(e,t){var r=[],n=I.getOwnPropertyNames;if(n)r=n(e);else for(var o in e)"string"==typeof o&&_(e,o)&&r.push(o);if(r&&r.length>0)for(var i=0;i<r.length;i++)t(r[i])}function O(e,t,r){return"constructor"!==t&&typeof e[t]===T&&(r||_(e,t))}function x(e){throw new TypeError("DynamicProto: "+e)}function M(e,t){for(var r=e.length-1;r>=0;r--)if(e[r]===t)return!0;return!1}function L(e,t,r,n){var o=null;if(e&&_(r,w)){var i=e._dynInstFuncs||{};if((o=(i[r._dynClass]||{})[t])||x("Missing ["+t+"] "+T),!o._dynInstChk&&!1!==i._dynInstChk){for(var a=!_(e,t),s=N(e),c=[];a&&s&&!k(s)&&!M(c,s);){var u=s[t];if(u){a=u===n;break}c.push(s),s=N(s)}try{a&&(e[t]=o),o._dynInstChk=1}catch(e){i._dynInstChk=!1}}}return o}function U(e,t,r){var n=t[e];return n===r&&(n=N(t)[e]),typeof n!==T&&x("["+e+"] is not a "+T),n}function D(e,t){return _(e,E)?e.name||t||S:((e||{}).constructor||{}).name||t||S}function F(e,t,r,n){_(e,E)||x("theClass is an invalid class definition.");var o=e.prototype;(function(e,t){if(b)for(var r=[],n=N(t);n&&!k(n)&&!M(r,n);){if(n===e)return!0;r.push(n),n=N(n)}return!1})(o,t)||x("["+D(e)+"] is not in class hierarchy of ["+D(t)+"]");var i=null;_(o,w)?i=o._dynClass:(i="_dynCls$"+D(e,"_")+"$"+A,A++,o._dynClass=i);var a=F._dfOpts,s=!!a.useBaseInst;s&&n&&void 0!==n.useBaseInst&&(s=!!n.useBaseInst);var c=function(e){var t={};return P(e,(function(r){!t[r]&&O(e,r,!1)&&(t[r]=e[r])})),t}(t),u=function(e,t,r,n){function o(e,t,r){var o=t[r];if(o._isDynProxy&&n){var i=e._dynInstFuncs||{};!1!==i._dynInstChk&&(o=(i[t._dynClass]||{})[r]||o)}return function(){return o.apply(e,arguments)}}var i={};P(r,(function(e){i[e]=o(t,r,e)}));for(var a=N(e),s=[];a&&!k(a)&&!M(s,a);)P(a,(function(e){!i[e]&&O(a,e,!b)&&(i[e]=o(t,a,e))})),s.push(a),a=N(a);return i}(o,t,c,s);r(t,u);var l=!!b&&!!a.setInstFuncs;l&&n&&(l=!!n.setInstFuncs),function(e,t,r,n,o){if(!R(e)){var i=r._dynInstFuncs=r._dynInstFuncs||{},a=i[t]=i[t]||{};!1!==i._dynInstChk&&(i._dynInstChk=!!o),P(r,(function(t){O(r,t,!1)&&r[t]!==n[t]&&(a[t]=r[t],delete r[t],(!_(e,t)||e[t]&&!e[t]._isDynProxy)&&(e[t]=function(e,t){var r=function(){return(L(this,t,e,r)||U(t,e,r)).apply(this,arguments)};return r._isDynProxy=1,r}(e,t)))}))}}(o,i,t,c,!1!==l)}F._dfOpts={setInstFuncs:!0,useBaseInst:!0};const q=F;var H;!function(e){e[e.CRITICAL=1]="CRITICAL",e[e.WARNING=2]="WARNING"}(H||(H={}));var B={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},K=l;function G(e){return s.toString.call(e)}function j(e){return void 0===e||typeof e===i}function z(e){return null===e||j(e)}function V(e){return!z(e)}function W(e,t){return e&&d.call(e,t)}function J(e){return typeof e===o}function Y(e){return typeof e===n}function Q(e,t,r,n){void 0===n&&(n=!1);var o=!1;if(!z(e))try{z(e.addEventListener)?z(e.attachEvent)||(e.attachEvent("on"+t,r),o=!0):(e.addEventListener(t,r,n),o=!0)}catch(e){}return o}function X(e,t){if(e)for(var r in e)d.call(e,r)&&t.call(e,r,e[r])}function Z(e,t){return!(!e||!t)&&-1!==e.indexOf(t)}function $(e){return"[object Date]"===G(e)}function ee(e){return"[object Array]"===G(e)}function te(e){return"[object Error]"===G(e)}function re(e){return"string"==typeof e}function ne(e){return"number"==typeof e}function oe(e){return"boolean"==typeof e}function ie(e){if(e){if(e.toISOString)return e.toISOString();if($(e)){var t=function(e){var t=String(e);return 1===t.length&&(t="0"+t),t};return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}}function ae(e,t,r){var n=e.length;try{for(var o=0;o<n&&(!(o in e)||-1!==t.call(r||e,e[o],o,e));o++);}catch(e){}}function se(e,t,r){var n=e.length,o=r||0;try{for(var i=Math.max(o>=0?o:n-Math.abs(o),0);i<n;i++)if(i in e&&e[i]===t)return i}catch(e){}return-1}function ce(e,t,r){var n=e.length,o=r||e,i=new Array(n);try{for(var a=0;a<n;a++)a in e&&(i[a]=t.call(o,e[a],e))}catch(e){}return i}function ue(e,t,r){var n,o=e.length,i=0;if(arguments.length>=3)n=arguments[2];else{for(;i<o&&!(i in e);)i++;n=e[i++]}for(;i<o;)i in e&&(n=t(n,e[i],i,e)),i++;return n}function le(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}a.freeze,a.seal;var de=!{toString:null}.propertyIsEnumerable("toString"),he=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function pe(e){var t=typeof e;t===n||t===o&&null!==e||f("objKeys called on non-object");var r=[];for(var i in e)e&&d.call(e,i)&&r.push(i);if(de)for(var a=he.length,s=0;s<a;s++)e&&d.call(e,he[s])&&r.push(he[s]);return r}function fe(e,t,r,n){if(K)try{var o={enumerable:!0,configurable:!0};return r&&(o.get=r),n&&(o.set=n),K(e,t,o),!0}catch(e){}return!1}function ge(){var e=Date;return e.now?e.now():(new e).getTime()}function me(e){return te(e)?e.name:""}function ve(e,t,r,n,o){var i=r;return e&&((i=e[t])===r||o&&!o(i)||n&&!n(r)||(i=r,e[t]=i)),i}function ye(e,t,r){var n;return e?!(n=e[t])&&z(n)&&(n=j(r)?{}:r,e[t]=n):n=j(r)?{}:r,n}function Ce(e){return!e}function Ee(e){return!!e}function Te(e){throw new Error(e)}function we(e,t,r){if(e&&t&&e!==t&&J(e)&&J(t)){var n=function(n){if(re(n)){var o=t[n];Y(o)?r&&!r(n,!0,t,e)||(e[n]=(i=n,function(){var e=arguments;return t[i].apply(t,e)})):r&&!r(n,!1,t,e)||(W(e,n)&&delete e[n],fe(e,n,(function(){return t[n]}),(function(e){t[n]=e}))||(e[n]=o))}var i};for(var o in t)n(o)}return e}function Se(e){return e&&(e=a(c?c({},e):e)),e}var Ie="window",be="JSON",Ae="msie",_e="trident/",Re=null,ke=null,Ne=null,Pe=null;function Oe(e,t){var r=!1;if(e){try{if(!(r=t in e)){var n=e.prototype;n&&(r=t in n)}}catch(e){}if(!r)try{r=!j((new e)[t])}catch(e){}}return r}function xe(e){var t=p();return t&&t[e]?t[e]:e===Ie&&Me()?window:null}function Me(){return Boolean(typeof window===o&&window)}function Le(){return Me()?window:xe(Ie)}function Ue(){return Boolean(typeof document===o&&document)}function De(){return Ue()?document:xe("document")}function Fe(){return Boolean(typeof navigator===o&&navigator)}function qe(){return Fe()?navigator:xe("navigator")}function He(e){return typeof location===o&&location?location:xe("location")}function Be(){return xe("performance")}function Ke(){return Boolean(typeof JSON===o&&JSON||null!==xe(be))}function Ge(){return Ke()?JSON||xe(be):null}function je(){var e=qe();if(e&&(e.userAgent!==ke||null===Re)){var t=((ke=e.userAgent)||"").toLowerCase();Re=Z(t,Ae)||Z(t,_e)}return Re}function ze(e){if(void 0===e&&(e=null),!e){var t=qe()||{};e=t?(t.userAgent||"").toLowerCase():""}var r=(e||"").toLowerCase();if(Z(r,Ae)){var n=De()||{};return Math.max(parseInt(r.split(Ae)[1]),n.documentMode||0)}if(Z(r,_e)){var o=parseInt(r.split(_e)[1]);if(o)return o+4}return null}function Ve(e){var t=Object.prototype.toString.call(e),r="";return"[object Error]"===t?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":Ke()&&(r=Ge().stringify(e)),t+r}function We(){return null===Pe&&(Pe=Fe()&&Boolean(qe().sendBeacon)),Pe}function Je(e){var t=!1;try{t=!!xe("fetch");var r=xe("Request");t&&e&&r&&(t=Oe(r,"keepalive"))}catch(e){}return t}function Ye(){return null===Ne&&(Ne="undefined"!=typeof XDomainRequest)&&Qe()&&(Ne=Ne&&!Oe(xe("XMLHttpRequest"),"withCredentials")),Ne}function Qe(){var e=!1;try{e=!!xe("XMLHttpRequest")}catch(e){}return e}var Xe,Ze=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],$e=null;function et(e,t){return function(){var r=arguments,n=tt(t);if(n){var o=n.listener;o&&o[e]&&o[e].apply(o,r)}}}function tt(e){var t,r=$e;return r||!0===e.disableDbgExt||(r=$e||((t=xe("Microsoft"))&&($e=t.ApplicationInsights),$e)),r?r.ChromeDbgExt:null}function rt(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function nt(e,t){var r=typeof console!==i?console:xe("console");if(r){var n="log";r[e]&&(n=e),Y(r[n])&&r[n](t)}}var ot=function(){function e(e,t,r,n){void 0===r&&(r=!1);var o=this;o.messageId=e,o.message=(r?"AI: ":"AI (Internal): ")+e;var i="";Ke()&&(i=Ge().stringify(n));var a=(t?" message:"+rt(t):"")+(n?" props:"+rt(i):"");o.message+=a}return e.dataType="MessageData",e}();function it(e,t){return(e||{}).logger||new at(t)}var at=function e(t){this.identifier="DiagnosticLogger",this.queue=[];var r=0,n={};q(e,this,(function(e){function o(e,r){var n=t[e];return z(n)?r:n}function i(e,r){var n=tt(t);n&&n.diagLog&&n.diagLog(e,r)}z(t)&&(t={}),e.consoleLoggingLevel=function(){return o("loggingLevelConsole",0)},e.telemetryLoggingLevel=function(){return o("loggingLevelTelemetry",1)},e.maxInternalMessageLimit=function(){return o("maxMessageLimit",25)},e.enableDebugExceptions=function(){return o("enableDebugExceptions",!1)},e.throwInternal=function(t,r,o,a,s){void 0===s&&(s=!1);var c=new ot(r,o,s,a);if(e.enableDebugExceptions())throw c;var u=t===H.CRITICAL?"errorToConsole":"warnToConsole";if(j(c.message))i("throw"+(t===H.CRITICAL?"Critical":"Warning"),c);else{var l=e.consoleLoggingLevel();if(s){var d=+c.messageId;!n[d]&&l>=t&&(e[u](c.message),n[d]=!0)}else l>=t&&e[u](c.message);e.logInternalMessage(t,c)}},e.warnToConsole=function(e){nt("warn",e),i("warning",e)},e.errorToConsole=function(e){nt("error",e),i("error",e)},e.resetInternalMessageCount=function(){r=0,n={}},e.logInternalMessage=function(t,o){if(!(r>=e.maxInternalMessageLimit())){var a=!0,s="AITR_"+o.messageId;if(n[s]?a=!1:n[s]=!0,a&&(t<=e.telemetryLoggingLevel()&&(e.queue.push(o),r++,i(t===H.CRITICAL?"error":"warn",o)),r===e.maxInternalMessageLimit())){var c="Internal events throttle limit per PageView reached for this app.",u=new ot(B.MessageLimitPerPVExceeded,c,!1);e.queue.push(u),t===H.CRITICAL?e.errorToConsole(c):e.warnToConsole(c)}}}}))},st=function(){function e(t,r,n){var o,i=this,a=!1;i.start=ge(),i.name=t,i.isAsync=n,i.isChildEvt=function(){return!1},Y(r)&&(a=fe(i,"payload",(function(){return!o&&Y(r)&&(o=r(),r=null),o}))),i.getCtx=function(t){return t?t===e.ParentContextKey||t===e.ChildrenContextKey?i[t]:(i.ctx||{})[t]:null},i.setCtx=function(t,r){t&&(t===e.ParentContextKey?(i[t]||(i.isChildEvt=function(){return!0}),i[t]=r):t===e.ChildrenContextKey?i[t]=r:(i.ctx=i.ctx||{})[t]=r)},i.complete=function(){var t=0,n=i.getCtx(e.ChildrenContextKey);if(ee(n))for(var o=0;o<n.length;o++){var s=n[o];s&&(t+=s.time)}i.time=ge()-i.start,i.exTime=i.time-t,i.complete=function(){},!a&&Y(r)&&(i.payload=r())}}return e.ParentContextKey="parent",e.ChildrenContextKey="childEvts",e}(),ct=function e(t){this.ctx={},q(e,this,(function(e){e.create=function(e,t,r){return new st(e,t,r)},e.fire=function(e){e&&(e.complete(),t&&Y(t.perfEvent)&&t.perfEvent(e))},e.setCtx=function(t,r){t&&((e.ctx=e.ctx||{})[t]=r)},e.getCtx=function(t){return(e.ctx||{})[t]}}))},ut="CoreUtils.doPerf";function lt(e,t,r,n,o){if(e){var i=e;if(Y(i.getPerfMgr)&&(i=i.getPerfMgr()),i){var a=void 0,s=i.getCtx(ut);try{if(a=i.create(t(),n,o)){if(s&&a.setCtx&&(a.setCtx(st.ParentContextKey,s),s.getCtx&&s.setCtx)){var c=s.getCtx(st.ChildrenContextKey);c||(c=[],s.setCtx(st.ChildrenContextKey,c)),c.push(a)}return i.setCtx(ut,a),r(a)}}catch(e){a&&a.setCtx&&a.setCtx("exception",e)}finally{a&&i.fire(a),i.setCtx(ut,s)}}}return r()}var dt=function(e,t){var r=this,n=null,o=Y(e.processTelemetry),i=Y(e.setNextPlugin);r._hasRun=!1,r.getPlugin=function(){return e},r.getNext=function(){return n},r.setNext=function(e){n=e},r.processTelemetry=function(a,s){s||(s=t);var c=e?e.identifier:"TelemetryPluginChain";lt(s?s.core():null,(function(){return c+":processTelemetry"}),(function(){if(e&&o){r._hasRun=!0;try{s.setNext(n),i&&e.setNextPlugin(n),n&&(n._hasRun=!1),e.processTelemetry(a,s)}catch(r){var t=n&&n._hasRun;n&&t||s.diagLog().throwInternal(H.CRITICAL,B.PluginException,"Plugin ["+e.identifier+"] failed during processTelemetry - "+Ve(r)),n&&!t&&n.processTelemetry(a,s)}}else n&&(r._hasRun=!0,n.processTelemetry(a,s))}),(function(){return{item:a}}),!a.sync)}};function ht(e,t){var r=[];if(e&&e.length>0)for(var n=null,o=0;o<e.length;o++){var i=e[o];if(i&&Y(i.processTelemetry)){var a=new dt(i,t);r.push(a),n&&n.setNext(a),n=a}}return r.length>0?r[0]:null}var pt=function e(t,r,n,o){var i=this,a=null;null!==o&&(t&&Y(t.getPlugin)?a=function(e,t,r){var n=[],o=!r;if(e)for(;e;){var i=e.getPlugin();(o||i===r)&&(o=!0,n.push(i)),e=e.getNext()}return o||n.push(r),ht(n,t)}(t,i,o||t.getPlugin()):o?a=function(e,t,r){var n=e,o=!1;return r&&e&&(n=[],ae(e,(function(e){(o||e===r)&&(o=!0,n.push(e))}))),r&&!o&&(n||(n=[]),n.push(r)),ht(n,t)}(t,i,o):j(o)&&(a=ht(t,i))),i.core=function(){return n},i.diagLog=function(){return it(n,r)},i.getCfg=function(){return r},i.getExtCfg=function(e,t){var n;if(void 0===t&&(t={}),r){var o=r.extensionConfig;o&&e&&(n=o[e])}return n||t},i.getConfig=function(e,t,n){var o;void 0===n&&(n=!1);var a=i.getExtCfg(e,null);return a&&!z(a[t])?o=a[t]:r&&!z(r[t])&&(o=r[t]),z(o)?n:o},i.hasNext=function(){return null!=a},i.getNext=function(){return a},i.setNext=function(e){a=e},i.processNext=function(e){var t=a;t&&(a=t.getNext(),t.processTelemetry(e,i))},i.createNew=function(t,o){return void 0===t&&(t=null),new e(t||a,r,n,o)}},ft="extensionConfig",gt=function(){function e(){var e=this,t=!1,r=null,n=null;e.core=null,e.diagLog=function(t){return e._getTelCtx(t).diagLog()},e.isInitialized=function(){return t},e.setInitialized=function(e){t=e},e.setNextPlugin=function(e){n=e},e.processNext=function(e,t){t?t.processNext(e):n&&Y(n.processTelemetry)&&n.processTelemetry(e,null)},e._getTelCtx=function(t){void 0===t&&(t=null);var o=t;if(!o){var i=r||new pt(null,{},e.core);o=n&&n.getPlugin?i.createNew(null,n.getPlugin):i.createNew(null,n)}return o},e._baseTelInit=function(o,i,a,s){o&&ve(o,ft,[],null,z),!s&&i&&(s=i.getProcessTelContext().getNext());var c=n;n&&n.getPlugin&&(c=n.getPlugin()),e.core=i,r=new pt(s,o,i,c),t=!0}}return e.prototype.initialize=function(e,t,r,n){this._baseTelInit(e,t,r,n)},e}();function mt(e,t){for(var r=[],n=null,o=e.getNext();o;){var i=o.getPlugin();i&&(n&&Y(n.setNextPlugin)&&Y(i.processTelemetry)&&n.setNextPlugin(i),Y(i.isInitialized)&&i.isInitialized()||r.push(i),n=i,o=o.getNext())}ae(r,(function(r){r.initialize(e.getCfg(),e.core(),t,e.getNext())}))}function vt(e){return e.sort((function(e,t){var r=0,n=Y(t.processTelemetry);return Y(e.processTelemetry)?r=n?e.priority-t.priority:1:n&&(r=-1),r}))}var yt=function(e){function t(){var r,n=e.call(this)||this;function o(e){e&&e.length>0&&(function(e){ae(e,(function(e){e.priority<500&&Te("Channel has invalid priority"+e.identifier)}))}(e=e.sort((function(e,t){return e.priority-t.priority}))),r.push(e))}return n.identifier="ChannelControllerPlugin",n.priority=500,q(t,n,(function(e,t){e.setNextPlugin=function(e){},e.processTelemetry=function(e,t){r&&ae(r,(function(r){r.length>0&&n._getTelCtx(t).createNew(r).processNext(e)}))},e.getChannelControls=function(){return r},e.initialize=function(n,i,a){e.isInitialized()||(t.initialize(n,i,a),function(e,t){if(r=[],e&&ae(e,(function(e){return o(e)})),t){var n=[];ae(t,(function(e){e.priority>500&&n.push(e)})),o(n)}}((n||{}).channels,a),ae(r,(function(e){return mt(new pt(e,n,i),a)})))}})),n}var r;return y(t,e),t._staticInit=(fe(r=t.prototype,"ChannelControls",r.getChannelControls),void fe(r,"channelQueue",r.getChannelControls)),t}(gt),Ct="toGMTString",Et="toUTCString",Tt="",wt=null,St=null,It=null,bt=De(),At={},_t={};function Rt(e,t){var r=Pt._ckMgr||_t._ckMgr;return r||(r=Pt._ckMgr=Pt(e,t),_t._ckMgr=r),r}function kt(e){return!e||e.isEnabled()}function Nt(e,t){var r;if(e)r=e.getCookieMgr();else if(t){var n=t.cookieCfg;r=n._ckMgr?n._ckMgr:Pt(t)}return r||(r=Rt(t,(e||{}).logger)),r}function Pt(e,t){var r=function(e){var t=e.cookieCfg=e.cookieCfg||{};if(ve(t,"domain",e.cookieDomain,V,z),ve(t,"path",e.cookiePath||"/",null,z),z(t.enabled)){var r=void 0;j(e.isCookieUseDisabled)||(r=!e.isCookieUseDisabled),j(e.disableCookiesUsage)||(r=!e.disableCookiesUsage),t.enabled=r}return t}(e||_t),n=r.path||"/",o=r.domain,i=!1!==r.enabled,a={isEnabled:function(){var e=i&&Ot(t),r=_t._ckMgr;return e&&r&&a!==r&&(e=kt(r)),e},setEnabled:function(e){i=!1!==e},set:function(e,t,i,s,c){var u=!1;if(kt(a)){var l={},d=le(t||Tt),h=d.indexOf(";");if(-1!==h&&(d=le(t.substring(0,h)),l=xt(t.substring(h+1))),ve(l,"domain",s||o,Ee,j),!z(i)){var p=je();if(j(l.expires)){var f=ge()+1e3*i;if(f>0){var g=new Date;g.setTime(f),ve(l,"expires",Mt(g,p?Ct:Et)||Mt(g,p?Ct:Et)||Tt,Ee)}}p||ve(l,"max-age",Tt+i,null,j)}var m=He();m&&"https:"===m.protocol&&(ve(l,"secure",null,null,j),null===St&&(St=!Ft((qe()||{}).userAgent)),St&&ve(l,"SameSite","None",null,j)),ve(l,"path",c||n,null,j),(r.setCookie||Dt)(e,Lt(d,l)),u=!0}return u},get:function(e){var t=Tt;return kt(a)&&(t=(r.getCookie||Ut)(e)),t},del:function(e,t){var r=!1;return kt(a)&&(r=a.purge(e,t)),r},purge:function(e,n){var o,i=!1;if(Ot(t)){var a=((o={}).path=n||"/",o.expires="Thu, 01 Jan 1970 00:00:01 GMT",o);je()||(a["max-age"]="0"),(r.delCookie||Dt)(e,Lt(Tt,a)),i=!0}return i}};return a._ckMgr=a,a}function Ot(e){if(null===wt){wt=!1;try{wt=void 0!==(bt||{}).cookie}catch(t){e&&e.throwInternal(H.WARNING,B.CannotAccessCookie,"Cannot access document.cookie - "+me(t),{exception:Ve(t)})}}return wt}function xt(e){var t={};return e&&e.length&&ae(le(e).split(";"),(function(e){if(e=le(e||Tt)){var r=e.indexOf("=");-1===r?t[e]=null:t[le(e.substring(0,r))]=le(e.substring(r+1))}})),t}function Mt(e,t){return Y(e[t])?e[t]():null}function Lt(e,t){var r=e||Tt;return X(t,(function(e,t){r+="; "+e+(z(t)?Tt:"="+t)})),r}function Ut(e){var t=Tt;if(bt){var r=bt.cookie||Tt;It!==r&&(At=xt(r),It=r),t=le(At[e]||Tt)}return t}function Dt(e,t){bt&&(bt.cookie=e+"="+t)}function Ft(e){return!(!re(e)||!Z(e,"CPU iPhone OS 12")&&!Z(e,"iPad; CPU OS 12")&&!(Z(e,"Macintosh; Intel Mac OS X 10_14")&&Z(e,"Version/")&&Z(e,"Safari"))&&(!Z(e,"Macintosh; Intel Mac OS X 10_14")||!function(e,t){if(e){var r=t.length,n=e.length;if(e===t)return!0;if(n>=r){for(var o=n-1,i=r-1;i>=0;i--){if(e[o]!=t[i])return!1;o--}return!0}}return!1}(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!Z(e,"Chrome/5")&&!Z(e,"Chrome/6")&&(!Z(e,"UnrealEngine")||Z(e,"Chrome"))&&!Z(e,"UCBrowser/12")&&!Z(e,"UCBrowser/11"))}function qt(e,t){return new ct(t)}var Ht=function e(){var t,r,n,o,i,a=!1;q(e,this,(function(e){e._extensions=new Array,r=new yt,e.logger=new at({loggingLevelConsole:H.CRITICAL}),t=[],e.isInitialized=function(){return a},e.initialize=function(t,o,i,s){e.isInitialized()&&Te("Core should not be initialized more than once"),t&&!z(t.instrumentationKey)||Te("Please provide instrumentation key"),n=s,e._notificationManager=s,e.config=t||{},s&&!0!==e.config.disableDbgExt&&s.addNotificationListener(function(e){if(!Xe){Xe={};for(var t=0;t<Ze.length;t++)Xe[Ze[t]]=et(Ze[t],e)}return Xe}(t)),e.config.enablePerfMgr&&ve(e.config,"createPerfMgr",qt),t.extensions=z(t.extensions)?[]:t.extensions,ye(t,ft).NotificationManager=s,i&&(e.logger=i);var c=[];c.push.apply(c,C(C([],o),t.extensions)),c=vt(c);var u=[],l=[],d={};ae(c,(function(e){(z(e)||z(e.initialize))&&Te("Extensions must provide callback to initialize");var t=e.priority,n=e.identifier;e&&t&&(z(d[t])?d[t]=n:i.warnToConsole("Two extensions have same priority #"+t+" - "+d[t]+", "+n)),!t||t<r.priority?u.push(e):l.push(e)})),c.push(r),u.push(r),c=vt(c),e._extensions=c,mt(new pt([r],t,e),c),mt(new pt(u,t,e),c),e._extensions=u,0===e.getTransmissionControls().length&&Te("No channels available"),a=!0,e.releaseQueue()},e.getTransmissionControls=function(){return r.getChannelControls()},e.track=function(r){ve(r,"iKey",e.config.instrumentationKey,null,Ce),ve(r,"time",ie(new Date),null,Ce),ve(r,"ver","4.0",null,z),e.isInitialized()?e.getProcessTelContext().processNext(r):t.push(r)},e.getProcessTelContext=function(){var t=e._extensions,n=t;return t&&0!==t.length||(n=[r]),new pt(n,e.config,e)},e.getNotifyMgr=function(){return n||(n=g({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,t){},eventsSendRequest:function(e,t){}}),e._notificationManager=n),n},e.getCookieMgr=function(){return i||(i=Pt(e.config,e.logger)),i},e.setCookieMgr=function(e){i=e},e.getPerfMgr=function(){return o||e.config&&e.config.enablePerfMgr&&Y(e.config.createPerfMgr)&&(o=e.config.createPerfMgr(e,e.getNotifyMgr())),o||null},e.setPerfMgr=function(e){o=e},e.eventCnt=function(){return t.length},e.releaseQueue=function(){t.length>0&&(ae(t,(function(t){e.getProcessTelContext().processNext(t)})),t=[])}}))},Bt=function e(t){this.listeners=[];var r=!!(t||{}).perfEvtsSendAll;q(e,this,(function(e){e.addNotificationListener=function(t){e.listeners.push(t)},e.removeNotificationListener=function(t){for(var r=se(e.listeners,t);r>-1;)e.listeners.splice(r,1),r=se(e.listeners,t)},e.eventsSent=function(t){ae(e.listeners,(function(e){e&&e.eventsSent&&setTimeout((function(){return e.eventsSent(t)}),0)}))},e.eventsDiscarded=function(t,r){ae(e.listeners,(function(e){e&&e.eventsDiscarded&&setTimeout((function(){return e.eventsDiscarded(t,r)}),0)}))},e.eventsSendRequest=function(t,r){ae(e.listeners,(function(e){if(e&&e.eventsSendRequest)if(r)setTimeout((function(){return e.eventsSendRequest(t,r)}),0);else try{e.eventsSendRequest(t,r)}catch(e){}}))},e.perfEvent=function(t){t&&(!r&&t.isChildEvt()||ae(e.listeners,(function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout((function(){return e.perfEvent(t)}),0);else try{e.perfEvent(t)}catch(e){}})))}}))},Kt=function(e){function t(){var r=e.call(this)||this,n=0;return q(t,r,(function(e,t){function r(t){var r=e.getNotifyMgr();r&&r.eventsDiscarded([t],2)}e.initialize=function(e,r,n,o){t.initialize(e,r,n||new at(e),o||new Bt(e))},e.track=function(n){lt(e.getPerfMgr(),(function(){return"AppInsightsCore:track"}),(function(){null===n&&(r(n),Te("Invalid telemetry item")),function(e){if(z(e.name))throw r(e),Error("telemetry name required")}(n),t.track(n)}),(function(){return{item:n}}),!n.sync)},e.addNotificationListener=function(t){var r=e.getNotifyMgr();r&&r.addNotificationListener(t)},e.removeNotificationListener=function(t){var r=e.getNotifyMgr();r&&r.removeNotificationListener(t)},e.pollInternalLogs=function(t){var r=e.config.diagnosticLogInterval;return r&&r>0||(r=1e4),n&&e.stopPollingInternalLogs(),n=setInterval((function(){var r=e.logger?e.logger.queue:[];ae(r,(function(r){var n={name:t||"InternalMessageId: "+r.messageId,iKey:e.config.instrumentationKey,time:ie(new Date),baseType:ot.dataType,baseData:{message:r.message}};e.track(n)})),r.length=0}),r)},e.stopPollingInternalLogs=function(){n&&(clearInterval(n),n=0)}})),r}return y(t,e),t}(Ht),Gt=4294967296,jt=4294967295,zt=!1,Vt=123456789,Wt=987654321;function Jt(e){e<0&&(e>>>=0),Vt=123456789+e&jt,Wt=987654321-e&jt,zt=!0}function Yt(){try{var e=2147483647&ge();Jt((Math.random()*Gt^e)+e)}catch(e){}}function Qt(e){return e>0?Math.floor(Xt()/jt*(e+1))>>>0:0}function Xt(e){var t,r=xe("crypto")||xe("msCrypto");return r&&r.getRandomValues?t=r.getRandomValues(new Uint32Array(1))[0]&jt:je()?(zt||Yt(),t=Zt()&jt):t=Math.floor(Gt*Math.random()|0),e||(t>>>=0),t}function Zt(e){var t=((Wt=36969*(65535&Wt)+(Wt>>16)&jt)<<16)+(65535&(Vt=18e3*(65535&Vt)+(Vt>>16)&jt))>>>0&jt|0;return e||(t>>>=0),t}var $t,er="visibilitychange",tr="pagehide",rr=null;function nr(e,t){var r=!1,n=Le();n&&(r=Q(n,e,t),r=Q(n.body,e,t)||r);var o=De();return o&&(r=Q(o,e,t)||r),r}function or(e,t,r){var n=!1;if(t&&e&&ee(e)){var o=[];ae(e,(function(e){re(e)&&(r&&-1!==se(r,e)?o.push(e):n=nr(e,t)||n)})),!n&&o.length>0&&(n=or(o,t))}return n}function ir(e,t){return or(["beforeunload","unload","pagehide"],e,t)}function ar(e,t){var r=!1;return t&&-1!==se(t,tr)||(r=nr(tr,e)),t&&-1!==se(t,er)||(r=nr(er,(function(t){var r=De();e&&r&&"hidden"===r.visibilityState&&e(t)}))||r),!r&&t&&(r=ar(e)),r}function sr(e){void 0===e&&(e=22);for(var t=Xt()>>>0,r=0,n="";n.length<e;)r++,n+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&t),t>>>=6,5===r&&(t=(Xt()<<2&4294967295|3&t)>>>0,r=0);return n}function cr(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",n=0;n<4;n++)r+=t[15&(e=Xt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var o=t[8+(3&Xt())|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)}var ur={_canUseCookies:void 0,isTypeof:function(e,t){return typeof e===t},isUndefined:j,isNullOrUndefined:z,hasOwnProperty:W,isFunction:Y,isObject:J,isDate:$,isArray:ee,isError:te,isString:re,isNumber:ne,isBoolean:oe,toISOString:ie,arrForEach:ae,arrIndexOf:se,arrMap:ce,arrReduce:ue,strTrim:le,objCreate:g,objKeys:pe,objDefineAccessors:fe,addEventHandler:nr,dateNow:ge,isIE:je,disableCookies:hr,newGuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(lr,(function(e){var t=0|Qt(15);return("x"===e?t:3&t|8).toString(16)}))},perfNow:function(){var e=Be();return e&&e.now?e.now():ge()},newId:sr,randomValue:Qt,random32:Xt,mwcRandomSeed:function(e){e?Jt(e):Yt()},mwcRandom32:Zt,generateW3CId:cr},lr=/[xy]/g;function dr(e,t){var r=Rt(e,t),n=ur._canUseCookies;return null===rr&&(rr=[],$t=n,fe(ur,"_canUseCookies",(function(){return $t}),(function(e){$t=e,ae(rr,(function(t){t.setEnabled(e)}))}))),-1===se(rr,r)&&rr.push(r),oe(n)&&r.setEnabled(n),oe($t)&&r.setEnabled($t),r}function hr(){dr().setEnabled(!1)}var pr="AppInsightsPropertiesPlugin",fr="AppInsightsChannelPlugin",gr="ApplicationInsightsAnalytics";function mr(e,t,r){var n=t.length,o=vr(e,t);if(o.length!==n){for(var i=0,a=o;void 0!==r[a];)i++,a=o.substring(0,147)+Ar(i);o=a}return o}function vr(e,t){var r;return t&&(t=le(t.toString())).length>150&&(r=t.substring(0,150),e&&e.throwInternal(H.WARNING,B.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),r||t}function yr(e,t,r){var n;return void 0===r&&(r=1024),t&&(r=r||1024,(t=le(t)).toString().length>r&&(n=t.toString().substring(0,r),e&&e.throwInternal(H.WARNING,B.StringValueTooLong,"string value is too long. It has been truncated to "+r+" characters.",{value:t},!0))),n||t}function Cr(e,t){return br(e,t,2048,B.UrlTooLong)}function Er(e,t){var r;return t&&t.length>32768&&(r=t.substring(0,32768),e&&e.throwInternal(H.WARNING,B.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),r||t}function Tr(e,t){var r;if(t){var n=""+t;n.length>32768&&(r=n.substring(0,32768),e&&e.throwInternal(H.WARNING,B.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:t},!0))}return r||t}function wr(e,t){if(t){var r={};X(t,(function(t,n){if(J(n)&&Ke())try{n=Ge().stringify(n)}catch(t){e&&e.throwInternal(H.WARNING,B.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:t},!0)}n=yr(e,n,8192),t=mr(e,t,r),r[t]=n})),t=r}return t}function Sr(e,t){if(t){var r={};X(t,(function(t,n){t=mr(e,t,r),r[t]=n})),t=r}return t}function Ir(e,t){return t?br(e,t,128,B.IdTooLong).toString():t}function br(e,t,r,n){var o;return t&&(t=le(t)).length>r&&(o=t.substring(0,r),e&&e.throwInternal(H.WARNING,n,"input is too long, it has been truncated to "+r+" characters.",{data:t},!0)),o||t}function Ar(e){var t="00"+e;return t.substr(t.length-3)}var _r,Rr={MAX_NAME_LENGTH:150,MAX_ID_LENGTH:128,MAX_PROPERTY_LENGTH:8192,MAX_STRING_LENGTH:1024,MAX_URL_LENGTH:2048,MAX_MESSAGE_LENGTH:32768,MAX_EXCEPTION_LENGTH:32768,sanitizeKeyAndAddUniqueness:mr,sanitizeKey:vr,sanitizeString:yr,sanitizeUrl:Cr,sanitizeMessage:Er,sanitizeException:Tr,sanitizeProperties:wr,sanitizeMeasurements:Sr,sanitizeId:Ir,sanitizeInput:br,padNumber:Ar,trim:le},kr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Nr="http.method",Pr="https://dc.services.visualstudio.com",Or="not_specified",xr=function(){function e(){}return e.create=function(e,t,r,n,o,i){if(r=yr(n,r)||Or,z(e)||z(t)||z(r))throw Error("Input doesn't contain all required fields");var a="";e.iKey&&(a=e.iKey,delete e.iKey);var s={name:r,time:ie(new Date),iKey:a,ext:i||{},tags:[],data:{},baseType:t,baseData:e};return z(o)||X(o,(function(e,t){s.data[e]=t})),s},e}(),Mr=function(){this.ver=2,this.properties={},this.measurements={}},Lr=function(e){function t(t,r,n,o){var i=e.call(this)||this;return i.aiDataContract={ver:1,name:1,properties:0,measurements:0},i.name=yr(t,r)||Or,i.properties=wr(t,n),i.measurements=Sr(t,o),i}return y(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Event",t.dataType="EventData",t}(Mr),Ur=function(e){function t(t,r,n,o,i){var a=e.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},r=r||Or,a.message=Er(t,r),a.properties=wr(t,o),a.measurements=Sr(t,i),n&&(a.severityLevel=n),a}return y(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Message",t.dataType="MessageData",t}((function(){this.ver=2,this.properties={},this.measurements={}}));!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(_r||(_r={}));var Dr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},t}return y(t,e),t}((function(){this.kind=_r.Measurement})),Fr=function(e){function t(t,r,n,o,i,a,s,c,u){var l=e.call(this)||this;l.aiDataContract={ver:1,metrics:1,properties:0};var d=new Dr;return d.count=o>0?o:void 0,d.max=isNaN(a)||null===a?void 0:a,d.min=isNaN(i)||null===i?void 0:i,d.name=yr(t,r)||Or,d.value=n,d.stdDev=isNaN(s)||null===s?void 0:s,l.metrics=[d],l.properties=wr(t,c),l.measurements=Sr(t,u),l}return y(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",t.dataType="MetricData",t}((function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}})),qr=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return y(t,e),t}(Mr);function Hr(e,t){return void 0===t&&(t=!1),null==e?t:"true"===e.toString().toLowerCase()}function Br(e){(isNaN(e)||e<0)&&(e=0);var t=""+(e=Math.round(e))%1e3,r=""+Math.floor(e/1e3)%60,n=""+Math.floor(e/6e4)%60,o=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=1===t.length?"00"+t:2===t.length?"0"+t:t,r=r.length<2?"0"+r:r,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(o=o.length<2?"0"+o:o)+":"+n+":"+r+"."+t}function Kr(e,t){var r=null;return ae(e,(function(e){if(e.identifier===t)return r=e,-1})),r}function Gr(e,t,r,n,o){return!o&&re(e)&&("Script error."===e||"Script error"===e)}var jr=function(e){function t(t,r,n,o,i,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},c.id=Ir(t,s),c.url=Cr(t,n),c.name=yr(t,r)||Or,isNaN(o)||(c.duration=Br(o)),c.properties=wr(t,i),c.measurements=Sr(t,a),c}return y(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",t.dataType="PageviewData",t}(qr),zr=function(e){function t(t,r,n,o,i,a,s){var c=e.call(this)||this;return c.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},c.url=Cr(t,n),c.name=yr(t,r)||Or,c.properties=wr(t,i),c.measurements=Sr(t,a),s&&(c.domProcessing=s.domProcessing,c.duration=s.duration,c.networkConnect=s.networkConnect,c.perfTotal=s.perfTotal,c.receivedResponse=s.receivedResponse,c.sentRequest=s.sentRequest),c}return y(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",t.dataType="PageviewPerformanceData",t}(function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return y(t,e),t}(qr));function Vr(e,t){var r=e;return r&&!re(r)&&(JSON&&JSON.stringify?(r=JSON.stringify(e),!t||r&&"{}"!==r||(r=Y(e.toString)?e.toString():""+e)):r=e+" - (Missing JSON.stringify)"),r||""}function Wr(e,t){var r=e;return e&&(r&&!re(r)&&(r=e.message||e.description||r),r&&!re(r)&&(r=Vr(r,!0)),e.filename&&(r=r+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),t&&"String"!==t&&"Object"!==t&&"Error"!==t&&-1===(r||"").indexOf(t)&&(r=t+": "+r),r||""}function Jr(e){return e&&e.src&&re(e.src)&&e.obj&&ee(e.obj)}function Yr(e){var t=e||"";re(t)||(t=re(t.stack)?t.stack:""+t);var r=t.split("\n");return{src:t,obj:r}}function Qr(e){var t=null;if(e)try{if(e.stack)t=Yr(e.stack);else if(e.error&&e.error.stack)t=Yr(e.error.stack);else if(e.exception&&e.exception.stack)t=Yr(e.exception.stack);else if(Jr(e))t=e;else if(Jr(e.stackDetails))t=e.stackDetails;else if(window&&window.opera&&e.message)t=function(e){for(var t=[],r=e.split("\n"),n=0;n<r.length;n++){var o=r[n];r[n+1]&&(o+="@"+r[n+1],n++),t.push(o)}return{src:e,obj:t}}(e.message);else if(re(e))t=Yr(e);else{var r=e.message||e.description||"";re(e.errorSrc)&&(r&&(r+="\n"),r+=" from "+e.errorSrc),r&&(t=Yr(r))}}catch(e){t=Yr(e)}return t||{src:"",obj:null}}function Xr(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var r=/function (.{1,200})\(/.exec(e.constructor.toString());t=r&&r.length>1?r[1]:""}catch(e){}return t}function Zr(e){if(e)try{if(!re(e)){var t=Xr(e),r=Vr(e,!1);return r&&"{}"!==r||(e.error&&(t=Xr(e=e.error)),r=Vr(e,!0)),0!==r.indexOf(t)&&"String"!==t?t+":"+r:r}}catch(e){}return""+(e||"")}var $r,en,tn,rn=function(e){function t(t,r,n,o,i,a){var s=e.call(this)||this;return s.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){try{if(J(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(e){}return!1}(r)?(s.exceptions=r.exceptions,s.properties=r.properties,s.measurements=r.measurements,r.severityLevel&&(s.severityLevel=r.severityLevel),r.id&&(s.id=r.id),r.problemGroup&&(s.problemGroup=r.problemGroup),s.ver=2,z(r.isManual)||(s.isManual=r.isManual)):(n||(n={}),s.exceptions=[new nn(t,r,n)],s.properties=wr(t,n),s.measurements=Sr(t,o),i&&(s.severityLevel=i),a&&(s.id=a)),s}return y(t,e),t.CreateAutoException=function(e,t,r,n,o,i,a,s){var c=Xr(o||i||e);return{message:Wr(e,c),url:t,lineNumber:r,columnNumber:n,error:Zr(o||i||e),evt:Zr(i||e),typeName:c,stackDetails:Qr(a||o||i),errorSrc:s}},t.CreateFromInterface=function(e,r,n,o){var i=r.exceptions&&ce(r.exceptions,(function(t){return nn.CreateFromInterface(e,t)}));return new t(e,m(m({},r),{exceptions:i}),n,o)},t.prototype.toInterface=function(){var e=this,t=e.exceptions,r=e.properties,n=e.measurements,o=e.severityLevel,i=e.problemGroup,a=e.id,s=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&ce(t,(function(e){return e.toInterface()}))||void 0,severityLevel:o,properties:r,measurements:n,problemGroup:i,id:a,isManual:s}},t.CreateSimpleException=function(e,t,r,n,o,i){return{exceptions:[{hasFullStack:!0,message:e,stack:o,typeName:t}]}},t.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",t.dataType="ExceptionData",t.formatError=Zr,t}((function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}})),nn=function(e){function t(t,r,n){var o=e.call(this)||this;if(o.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if(J(e))return"hasFullStack"in e&&"typeName"in e}catch(e){}return!1}(r))o.typeName=r.typeName,o.message=r.message,o.stack=r.stack,o.parsedStack=r.parsedStack,o.hasFullStack=r.hasFullStack;else{var i=r,a=i&&i.evt;te(i)||(i=i.error||a||i),o.typeName=yr(t,Xr(i))||Or,o.message=Er(t,Wr(r||i,o.typeName))||Or;var s=r.stackDetails||Qr(r);o.parsedStack=function(e){var t,r=e.obj;if(r&&r.length>0){t=[];var n=0,o=0;if(ae(r,(function(e){var r=e.toString();if(on.regex.test(r)){var i=new on(r,n++);o+=i.sizeInBytes,t.push(i)}})),o>32768)for(var i=0,a=t.length-1,s=0,c=i,u=a;i<a;){if((s+=t[i].sizeInBytes+t[a].sizeInBytes)>32768){var l=u-c+1;t.splice(c,l);break}c=i,u=a,i++,a--}}return t}(s),o.stack=Tr(t,function(e){var t="";return e&&(e.obj?ae(e.obj,(function(e){t+=e+"\n"})):t=e.src||""),t}(s)),o.hasFullStack=ee(o.parsedStack)&&o.parsedStack.length>0,n&&(n.typeName=n.typeName||o.typeName)}return o}return y(t,e),t.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&ce(this.parsedStack,(function(e){return e.toInterface()}));return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this.stack,parsedStack:e||void 0}},t.CreateFromInterface=function(e,r){var n=r.parsedStack instanceof Array&&ce(r.parsedStack,(function(e){return on.CreateFromInterface(e)}))||r.parsedStack;return new t(e,m(m({},r),{parsedStack:n}))},t}((function(){this.hasFullStack=!0,this.parsedStack=[]})),on=function(e){function t(r,n){var o=e.call(this)||this;if(o.sizeInBytes=0,o.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof r){var i=r;o.level=n,o.method="<no_method>",o.assembly=le(i),o.fileName="",o.line=0;var a=i.match(t.regex);a&&a.length>=5&&(o.method=le(a[2])||o.method,o.fileName=le(a[4]),o.line=parseInt(a[5])||0)}else o.level=r.level,o.method=r.method,o.assembly=r.assembly,o.fileName=r.fileName,o.line=r.line,o.sizeInBytes=0;return o.sizeInBytes+=o.method.length,o.sizeInBytes+=o.fileName.length,o.sizeInBytes+=o.assembly.length,o.sizeInBytes+=t.baseSize,o.sizeInBytes+=o.level.toString().length,o.sizeInBytes+=o.line.toString().length,o}return y(t,e),t.CreateFromInterface=function(e){return new t(e,null)},t.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},t.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,t.baseSize=58,t}((function(){}));!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}($r||($r={})),function(e){e[e.LocalStorage=0]="LocalStorage",e[e.SessionStorage=1]="SessionStorage"}(en||(en={})),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C",e[e.W3C=2]="W3C"}(tn||(tn={}));var an=void 0,sn=void 0;function cn(){return hn()?un(en.LocalStorage):null}function un(e){try{if(z(p()))return null;var t=new Date,r=xe(e===en.LocalStorage?"localStorage":"sessionStorage");r.setItem(t.toString(),t.toString());var n=r.getItem(t.toString())!==t.toString();if(r.removeItem(t.toString()),!n)return r}catch(e){}return null}function ln(){return mn()?un(en.SessionStorage):null}function dn(){an=!1,sn=!1}function hn(){return void 0===an&&(an=!!un(en.LocalStorage)),an}function pn(e,t){var r=cn();if(null!==r)try{return r.getItem(t)}catch(t){an=!1,e.throwInternal(H.WARNING,B.BrowserCannotReadLocalStorage,"Browser failed read of local storage. "+me(t),{exception:Ve(t)})}return null}function fn(e,t,r){var n=cn();if(null!==n)try{return n.setItem(t,r),!0}catch(t){an=!1,e.throwInternal(H.WARNING,B.BrowserCannotWriteLocalStorage,"Browser failed write to local storage. "+me(t),{exception:Ve(t)})}return!1}function gn(e,t){var r=cn();if(null!==r)try{return r.removeItem(t),!0}catch(t){an=!1,e.throwInternal(H.WARNING,B.BrowserFailedRemovalFromLocalStorage,"Browser failed removal of local storage item. "+me(t),{exception:Ve(t)})}return!1}function mn(){return void 0===sn&&(sn=!!un(en.SessionStorage)),sn}function vn(e,t){var r=ln();if(null!==r)try{return r.getItem(t)}catch(t){sn=!1,e.throwInternal(H.WARNING,B.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+me(t),{exception:Ve(t)})}return null}function yn(e,t,r){var n=ln();if(null!==n)try{return n.setItem(t,r),!0}catch(t){sn=!1,e.throwInternal(H.WARNING,B.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+me(t),{exception:Ve(t)})}return!1}function Cn(e,t){var r=ln();if(null!==r)try{return r.removeItem(t),!0}catch(t){sn=!1,e.throwInternal(H.WARNING,B.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+me(t),{exception:Ve(t)})}return!1}function En(e){var t=null;if(Y(Event))t=new Event(e);else{var r=De();r&&r.createEvent&&(t=r.createEvent("Event")).initEvent(e,!0,!0)}return t}var Tn={requestContextHeader:"Request-Context",requestContextTargetKey:"appId",requestContextAppIdFormat:"appId=cid-v1:",requestIdHeader:"Request-Id",traceParentHeader:"traceparent",traceStateHeader:"tracestate",sdkContextHeader:"Sdk-Context",sdkContextHeaderAppIdRequest:"appId",requestContextHeaderLowerCase:"request-context"},wn=De()||{},Sn=0,In=[null,null,null,null,null];function bn(e){var t=Sn,r=In,n=r[t];return wn.createElement?r[t]||(n=r[t]=wn.createElement("a")):n={host:Rn(e,!0)},n.href=e,++t>=r.length&&(t=0),Sn=t,n}function An(e){var t,r=bn(e);return r&&(t=r.href),t}function _n(e,t){return e?e.toUpperCase()+" "+t:t}function Rn(e,t){var r=kn(e,t)||"";if(r){var n=r.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=n&&n.length>3&&re(n[2])&&n[2].length>0)return n[2]+(n[3]||"")}return r}function kn(e,t){var r=null;if(e){var n=e.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i);if(null!=n&&n.length>2&&re(n[2])&&n[2].length>0&&(r=n[2]||"",t&&n.length>2)){var o=(n[1]||"").toLowerCase(),i=n[3]||"";("http"===o&&":80"===i||"https"===o&&":443"===i)&&(i=""),r+=i}}return r}var Nn=["https://dc.services.visualstudio.com/v2/track","https://breeze.aimon.applicationinsights.io/v2/track","https://dc-int.services.visualstudio.com/v2/track"];function Pn(e){return-1!==Nn.indexOf(e.toLowerCase())}var On={NotSpecified:Or,createDomEvent:En,disableStorage:dn,isInternalApplicationInsightsEndpoint:Pn,canUseLocalStorage:hn,getStorage:pn,setStorage:fn,removeStorage:gn,canUseSessionStorage:mn,getSessionStorageKeys:function(){var e=[];return mn()&&X(xe("sessionStorage"),(function(t){e.push(t)})),e},getSessionStorage:vn,setSessionStorage:yn,removeSessionStorage:Cn,disableCookies:hr,canUseCookies:function(e){return dr(null,e).isEnabled()},disallowsSameSiteNone:Ft,setCookie:function(e,t,r,n){dr(null,e).set(t,r,null,n)},stringToBoolOrDefault:Hr,getCookie:function(e,t){return dr(null,e).get(t)},deleteCookie:function(e,t){return dr(null,e).del(t)},trim:le,newId:sr,random32:function(){return Xt(!0)},generateW3CId:cr,isArray:ee,isError:te,isDate:$,toISOStringForIE8:ie,getIEVersion:ze,msToTimeSpan:Br,isCrossOriginError:Gr,dump:Ve,getExceptionName:me,addEventHandler:Q,IsBeaconApiSupported:We,getExtension:Kr},xn={parseUrl:bn,getAbsoluteUrl:An,getPathName:function(e){var t,r=bn(e);return r&&(t=r.pathname),t},getCompleteUrl:_n,parseHost:Rn,parseFullHost:kn},Mn={correlationIdPrefix:"cid-v1:",canIncludeCorrelationHeader:function(e,t,r){if(!t||e&&e.disableCorrelationHeaders)return!1;if(e&&e.correlationHeaderExcludePatterns)for(var n=0;n<e.correlationHeaderExcludePatterns.length;n++)if(e.correlationHeaderExcludePatterns[n].test(t))return!1;var o=bn(t).host.toLowerCase();if(!o||-1===o.indexOf(":443")&&-1===o.indexOf(":80")||(o=(kn(t,!0)||"").toLowerCase()),(!e||!e.enableCorsCorrelation)&&o&&o!==r)return!1;var i,a=e&&e.correlationHeaderDomains;if(a&&(ae(a,(function(e){var t=new RegExp(e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));i=i||t.test(o)})),!i))return!1;var s=e&&e.correlationHeaderExcludedDomains;if(!s||0===s.length)return!0;for(n=0;n<s.length;n++)if(new RegExp(s[n].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*")).test(o))return!1;return o&&o.length>0},getCorrelationContext:function(e){if(e){var t=Mn.getCorrelationContextValue(e,Tn.requestContextTargetKey);if(t&&t!==Mn.correlationIdPrefix)return t}},getCorrelationContextValue:function(e,t){if(e)for(var r=e.split(","),n=0;n<r.length;++n){var o=r[n].split("=");if(2===o.length&&o[0]===t)return o[1]}}};function Ln(){var e=Be();if(e&&e.now&&e.timing){var t=e.now()+e.timing.navigationStart;if(t>0)return t}return ge()}function Un(e,t){var r=null;return 0===e||0===t||z(e)||z(t)||(r=t-e),r}var Dn={Now:Ln,GetDuration:Un},Fn=function(e){function t(t,r,n,o,i,a,s,c,u,l,d,h){void 0===u&&(u="Ajax");var p=e.call(this)||this;p.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},p.id=r,p.duration=Br(i),p.success=a,p.resultCode=s+"",p.type=yr(t,u);var f=function(e,t,r,n){var o,i=n,a=n;if(t&&t.length>0){var s=bn(t);if(o=s.host,!i)if(null!=s.pathname){var c=0===s.pathname.length?"/":s.pathname;"/"!==c.charAt(0)&&(c="/"+c),a=s.pathname,i=yr(e,r?r+" "+c:c)}else i=yr(e,t)}else o=n,i=n;return{target:o,name:i,data:a}}(t,n,c,o);return p.data=Cr(t,o)||f.data,p.target=yr(t,f.target),l&&(p.target="".concat(p.target," | ").concat(l)),p.name=yr(t,f.name),p.properties=wr(t,d),p.measurements=Sr(t,h),p}return y(t,e),t.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",t.dataType="RemoteDependencyData",t}((function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}})),qn=function e(t,r,n,o){q(e,this,(function(e){var i,a=null,s=[],c=!1;function u(){n&&ae(n.getTransmissionControls(),(function(e){ae(e,(function(e){return e.flush(!0)}))}))}n&&(i=n.logger),e.trackPageView=function(e,n){var l=e.name;if(z(l)||"string"!=typeof l){var d=De();l=e.name=d&&d.title||""}var h=e.uri;if(z(h)||"string"!=typeof h){var p=He();h=e.uri=p&&p.href||""}if(!o.isPerformanceTimingSupported())return t.sendPageViewInternal(e,n),u(),void i.throwInternal(H.WARNING,B.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var f,g,m,v=!1,y=o.getPerformanceTiming().navigationStart;y>0&&(f=Un(y,+new Date),o.shouldCollectDuration(f)||(f=void 0)),z(n)||z(n.duration)||(g=n.duration),!r&&isNaN(g)||(isNaN(g)&&(n||(n={}),n.duration=f),t.sendPageViewInternal(e,n),u(),v=!0),n||(n={}),m=function(){var r=!1;try{if(o.isPerformanceTimingDataReady()){r=!0;var a={name:l,uri:h};o.populatePageViewPerformanceEvent(a),a.isValid||v?(v||(n.duration=a.durationMs,t.sendPageViewInternal(e,n)),c||(t.sendPageViewPerformanceInternal(a,n),c=!0)):(n.duration=f,t.sendPageViewInternal(e,n))}else y>0&&Un(y,+new Date)>6e4&&(r=!0,v||(n.duration=6e4,t.sendPageViewInternal(e,n)))}catch(e){i.throwInternal(H.CRITICAL,B.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+me(e),{exception:Ve(e)})}return r},s.push(m),a||(a=setInterval((function(){var e=s.slice(0),t=!1;s=[],ae(e,(function(e){e()?t=!0:s.push(e)})),0===s.length&&(clearInterval(a),a=null),t&&u()}),100))}}))},Hn=function(){function e(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}return e.prototype.trackPreviousPageVisit=function(e,t){try{var r=this.restartPageVisitTimer(e,t);r&&this.pageVisitTimeTrackingHandler(r.pageName,r.pageUrl,r.pageVisitTime)}catch(e){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Ve(e))}},e.prototype.restartPageVisitTimer=function(e,t){try{var r=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),r}catch(e){return this._logger.warnToConsole("Call to restart failed: "+Ve(e)),null}},e.prototype.startPageVisitTimer=function(e,t){try{if(mn()){null!=vn(this._logger,this.prevPageVisitDataKeyName)&&Te("Cannot call startPageVisit consecutively without first calling stopPageVisit");var r=new Bn(e,t),n=Ge().stringify(r);yn(this._logger,this.prevPageVisitDataKeyName,n)}}catch(e){this._logger.warnToConsole("Call to start failed: "+Ve(e))}},e.prototype.stopPageVisitTimer=function(){try{if(mn()){var e=ge(),t=vn(this._logger,this.prevPageVisitDataKeyName);if(t&&Ke()){var r=Ge().parse(t);return r.pageVisitTime=e-r.pageVisitStartTime,Cn(this._logger,this.prevPageVisitDataKeyName),r}return null}return null}catch(e){return this._logger.warnToConsole("Stop page visit timer failed: "+Ve(e)),null}},e}(),Bn=function(e,t){this.pageVisitStartTime=ge(),this.pageName=e,this.pageUrl=t},Kn=function(){function e(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}return e.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),r=this.getPerformanceTiming(),n=0,o=0,i=0,a=0,s=0;(t||r)&&(t?(n=t.duration,o=0===t.startTime?t.connectEnd:Un(t.startTime,t.connectEnd),i=Un(t.requestStart,t.responseStart),a=Un(t.responseStart,t.responseEnd),s=Un(t.responseEnd,t.loadEventEnd)):(n=Un(r.navigationStart,r.loadEventEnd),o=Un(r.navigationStart,r.connectEnd),i=Un(r.requestStart,r.responseStart),a=Un(r.responseStart,r.responseEnd),s=Un(r.responseEnd,r.loadEventEnd)),0===n?this._logger.throwInternal(H.WARNING,B.ErrorPVCalc,"error calculating page view performance.",{total:n,network:o,request:i,response:a,dom:s}):this.shouldCollectDuration(n,o,i,a,s)?n<Math.floor(o)+Math.floor(i)+Math.floor(a)+Math.floor(s)?this._logger.throwInternal(H.WARNING,B.ClientPerformanceMathError,"client performance math error.",{total:n,network:o,request:i,response:a,dom:s}):(e.durationMs=n,e.perfTotal=e.duration=Br(n),e.networkConnect=Br(o),e.sentRequest=Br(i),e.receivedResponse=Br(a),e.domProcessing=Br(s),e.isValid=!0):this._logger.throwInternal(H.WARNING,B.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:n,network:o,request:i,response:a,dom:s}))},e.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Be().timing:null},e.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Be().getEntriesByType("navigation")[0]:null},e.prototype.isPerformanceNavigationTimingSupported=function(){var e=Be();return e&&e.getEntriesByType&&e.getEntriesByType("navigation").length>0},e.prototype.isPerformanceTimingSupported=function(){var e=Be();return e&&e.timing},e.prototype.isPerformanceTimingDataReady=function(){var e=Be(),t=e?e.timing:0;return t&&t.domainLookupStart>0&&t.navigationStart>0&&t.responseStart>0&&t.requestStart>0&&t.loadEventEnd>0&&t.responseEnd>0&&t.connectEnd>0&&t.domLoading>0},e.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=qe()||{},n=["googlebot","adsbot-google","apis-google","mediapartners-google"],o=r.userAgent,i=!1;if(o)for(var a=0;a<n.length;a++)i=i||-1!==o.toLowerCase().indexOf(n[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},e}();function Gn(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var jn=function(e){function t(){var r,n,i,a,s,c=e.call(this)||this;return c.identifier=gr,c.priority=180,c.autoRoutePVDelay=500,q(t,c,(function(e,u){var l=He();a=l&&l.href||"",e.getCookieMgr=function(){return Nt(e.core)},e.processTelemetry=function(t,r){lt(e.core,(function(){return e.identifier+":processTelemetry"}),(function(){var n=!1,o=e._telemetryInitializers.length;r=e._getTelCtx(r);for(var i=0;i<o;++i){var a=e._telemetryInitializers[i];if(a)try{if(!1===a.apply(null,[t])){n=!0;break}}catch(e){r.diagLog().throwInternal(H.CRITICAL,B.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+me(e),{exception:Ve(e)},!0)}}n||e.processNext(t,r)}),(function(){return{item:t}}),!t.sync)},e.trackEvent=function(t,r){try{var n=xr.create(t,Lr.dataType,Lr.envelopeType,e.diagLog(),r);e.core.track(n)}catch(t){e.diagLog().throwInternal(H.WARNING,B.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+me(t),{exception:Ve(t)})}},e.startTrackEvent=function(t){try{r.start(t)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+me(t),{exception:Ve(t)})}},e.stopTrackEvent=function(t,n,o){try{r.stop(t,void 0,n)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+me(t),{exception:Ve(t)})}},e.trackTrace=function(t,r){try{var n=xr.create(t,Ur.dataType,Ur.envelopeType,e.diagLog(),r);e.core.track(n)}catch(t){e.diagLog().throwInternal(H.WARNING,B.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+me(t),{exception:Ve(t)})}},e.trackMetric=function(t,r){try{var n=xr.create(t,Fr.dataType,Fr.envelopeType,e.diagLog(),r);e.core.track(n)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+me(t),{exception:Ve(t)})}},e.trackPageView=function(t,r){try{var n=t||{};e._pageViewManager.trackPageView(n,m(m(m({},n.properties),n.measurements),r)),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.TrackPVFailed,"trackPageView failed, page view will not be collected: "+me(t),{exception:Ve(t)})}},e.sendPageViewInternal=function(t,r,n){var o=De();o&&(t.refUri=void 0===t.refUri?o.referrer:t.refUri);var i=xr.create(t,jr.dataType,jr.envelopeType,e.diagLog(),r,n);e.core.track(i)},e.sendPageViewPerformanceInternal=function(t,r,n){var o=xr.create(t,zr.dataType,zr.envelopeType,e.diagLog(),r,n);e.core.track(o)},e.trackPageViewPerformance=function(t,r){try{e._pageViewPerformanceManager.populatePageViewPerformanceEvent(t),e.sendPageViewPerformanceInternal(t,r)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+me(t),{exception:Ve(t)})}},e.startTrackPage=function(t){try{if("string"!=typeof t){var r=De();t=r&&r.title||""}n.start(t)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+me(t),{exception:Ve(t)})}},e.stopTrackPage=function(t,r,o,i){try{if("string"!=typeof t){var a=De();t=a&&a.title||""}if("string"!=typeof r){var s=He();r=s&&s.href||""}n.stop(t,r,o,i),e.config.autoTrackPageVisitTime&&e._pageVisitTimeManager.trackPreviousPageVisit(t,r)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+me(t),{exception:Ve(t)})}},e.sendExceptionInternal=function(t,r,n){var o=t.exception||t.error||new Error(Or),i=new rn(e.diagLog(),o,t.properties||r,t.measurements,t.severityLevel,t.id).toInterface(),a=xr.create(i,rn.dataType,rn.envelopeType,e.diagLog(),r,n);e.core.track(a)},e.trackException=function(t,r){try{e.sendExceptionInternal(t,r)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.TrackExceptionFailed,"trackException failed, exception will not be collected: "+me(t),{exception:Ve(t)})}},e._onerror=function(t){var r=t&&t.error,n=t&&t.evt;try{if(!n){var o=Le();o&&(n=o.event)}var i=t&&t.url||(De()||{}).URL,a=t.errorSrc||"window.onerror@"+i+":"+(t.lineNumber||0)+":"+(t.columnNumber||0),s={errorSrc:a,url:i,lineNumber:t.lineNumber||0,columnNumber:t.columnNumber||0,message:t.message};Gr(t.message,t.url,t.lineNumber,t.columnNumber,t.error)?function(t,r){var n=xr.create(t,rn.dataType,rn.envelopeType,e.diagLog(),r);e.core.track(n)}(rn.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",i,t.lineNumber||0,t.columnNumber||0,r,n,null,a),s):(t.errorSrc||(t.errorSrc=a),e.trackException({exception:t,severityLevel:$r.Error},s))}catch(t){var c=r?r.name+", "+r.message:"null";e.diagLog().throwInternal(H.CRITICAL,B.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+me(t),{exception:Ve(t),errorString:c})}},e.addTelemetryInitializer=function(t){e._telemetryInitializers.push(t)},e.initialize=function(l,d,h,p){if(!e.isInitialized()){if(z(d))throw Error("Error initializing");u.initialize(l,d,h,p),e.setInitialized(!1);var f=e._getTelCtx(),g=e.identifier;e.config=f.getExtCfg(g);var m=t.getDefaultConfig(l);void 0!==m&&X(m,(function(t,r){e.config[t]=f.getConfig(g,t,r),void 0===e.config[t]&&(e.config[t]=r)})),e.config.isStorageUseDisabled&&dn();var v={instrumentationKey:function(){return l.instrumentationKey},accountId:function(){return e.config.accountId||l.accountId},sessionRenewalMs:function(){return e.config.sessionRenewalMs||l.sessionRenewalMs},sessionExpirationMs:function(){return e.config.sessionExpirationMs||l.sessionExpirationMs},sampleRate:function(){return e.config.samplingPercentage||l.samplingPercentage},sdkExtension:function(){return e.config.sdkExtension||l.sdkExtension},isBrowserLinkTrackingEnabled:function(){return e.config.isBrowserLinkTrackingEnabled||l.isBrowserLinkTrackingEnabled},appId:function(){return e.config.appId||l.appId}};e._pageViewPerformanceManager=new Kn(e.core),e._pageViewManager=new qn(c,e.config.overridePageViewDuration,e.core,e._pageViewPerformanceManager),e._pageVisitTimeManager=new Hn(e.diagLog(),(function(t,r,n){return function(t,r,n){var o={PageName:t,PageUrl:r};e.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},o)}(t,r,n)})),e._telemetryInitializers=e._telemetryInitializers||[],function(t){if(!t.isBrowserLinkTrackingEnabled()){var r=["/browserLinkSignalR/","/__browserLink/"];n=function(e){if(e.baseType===Fn.dataType){var t=e.baseData;if(t)for(var n=0;n<r.length;n++)if(t.target&&t.target.indexOf(r[n])>=0)return!1}return!0},e._telemetryInitializers.push(n)}var n}(v),(r=new zn(e.diagLog(),"trackEvent")).action=function(t,r,n,o){o||(o={}),o.duration=n.toString(),e.trackEvent({name:t,properties:o})},(n=new zn(e.diagLog(),"trackPageView")).action=function(t,r,n,o,i){z(o)&&(o={}),o.duration=n.toString();var a={name:t,uri:r,properties:o,measurements:i};e.sendPageViewInternal(a,o)};var y,C=Le(),E=Boolean(typeof history===o&&history)?history:xe("history"),T=He(),w=c;if(!1===e.config.disableExceptionTracking&&!e.config.autoExceptionInstrumented&&C){var S=C.onerror;C.onerror=function(e,t,r,n,o){var i=C.event,a=S&&S(e,t,r,n,o);return!0!==a&&w._onerror(rn.CreateAutoException(e,t,r,n,o,i)),a},e.config.autoExceptionInstrumented=!0}if(!1===e.config.disableExceptionTracking&&!0===e.config.enableUnhandledPromiseRejectionTracking&&!e.config.autoUnhandledPromiseInstrumented&&C){var I=C.onunhandledrejection;C.onunhandledrejection=function(e){var t=C.event,r=I&&I.call(C,e);return!0!==r&&w._onerror(rn.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!re(t)&&Y(t.toString)?t.toString():Ve(t)}return e||""}(e),T?T.href:"",0,0,e,t)),r},e.config.autoUnhandledPromiseInstrumented=!0}if(!0===e.config.enableAutoRouteTracking&&E&&Y(E.pushState)&&Y(E.replaceState)&&C&&"undefined"!=typeof Event){var b=c;ae(h,(function(e){e.identifier===pr&&(i=e)})),E.pushState=(y=E.pushState,function(){var e=y.apply(this,arguments);return Gn(C,En(b.config.namePrefix+"pushState")),Gn(C,En(b.config.namePrefix+"locationchange")),e}),E.replaceState=function(e){return function(){var t=e.apply(this,arguments);return Gn(C,En(b.config.namePrefix+"replaceState")),Gn(C,En(b.config.namePrefix+"locationchange")),t}}(E.replaceState),C.addEventListener&&(C.addEventListener(b.config.namePrefix+"popstate",(function(){Gn(C,En(b.config.namePrefix+"locationchange"))})),C.addEventListener(b.config.namePrefix+"locationchange",(function(){if(i&&i.context&&i.context.telemetryTrace){i.context.telemetryTrace.traceID=cr();var e="_unknown_";T&&T.pathname&&(e=T.pathname+(T.hash||"")),i.context.telemetryTrace.name=yr(b.diagLog(),e)}s?(a=s,s=T&&T.href||""):s=T&&T.href||"",setTimeout(function(e){b.trackPageView({refUri:e,properties:{duration:0}})}.bind(c,a),b.autoRoutePVDelay)})))}e.setInitialized(!0)}}})),c}return y(t,e),t.getDefaultConfig=function(e){return e||(e={}),e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=Hr(e.disableExceptionTracking),e.autoTrackPageVisitTime=Hr(e.autoTrackPageVisitTime),e.overridePageViewDuration=Hr(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=Hr(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.isStorageUseDisabled=Hr(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Hr(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=Hr(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=Hr(e.enableDebug),e.disableFlushOnBeforeUnload=Hr(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Hr(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},t.Version="2.7.3",t}(gt),zn=function(e,t){var r=this,n={};r.start=function(t){void 0!==n[t]&&e.throwInternal(H.WARNING,B.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:t,key:t},!0),n[t]=+new Date},r.stop=function(t,o,i,a){var s=n[t];if(isNaN(s))e.throwInternal(H.WARNING,B.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:t,key:t},!0);else{var c=Un(s,+new Date);r.action(t,o,c,i,a)}delete n[t],n[t]=void 0}},Vn=function e(t,r){var n=[],o=!1;this._get=function(){return n},this._set=function(e){return n=e},q(e,this,(function(e){e.enqueue=function(i){e.count()>=r.eventsLimitInMem()?o||(t.throwInternal(H.WARNING,B.InMemoryStorageBufferFull,"Maximum in-memory buffer size reached: "+e.count(),!0),o=!0):n.push(i)},e.count=function(){return n.length},e.size=function(){for(var e=n.length,t=0;t<n.length;t++)e+=n[t].length;return r.emitLineDelimitedJson()||(e+=2),e},e.clear=function(){n=[],o=!1},e.getItems=function(){return n.slice(0)},e.batchPayloads=function(e){return e&&e.length>0?r.emitLineDelimitedJson()?e.join("\n"):"["+e.join(",")+"]":null}}))},Wn=function(e){function t(r,n){var o=e.call(this,r,n)||this;return q(t,o,(function(e,t){e.markAsSent=function(e){t.clear()},e.clearSent=function(e){}})),o}return y(t,e),t}(Vn),Jn=function(e){function t(r,n){var o=e.call(this,r,n)||this,i=!1;return q(t,o,(function(e,o){var a=l(t.BUFFER_KEY),s=l(t.SENT_BUFFER_KEY),c=e._set(a.concat(s));function u(e,t){var r=[];return ae(t,(function(t){Y(t)||-1!==se(e,t)||r.push(t)})),r}function l(e){var t=e;try{t=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+t:t;var o=vn(r,t);if(o){var i=Ge().parse(o);if(re(i)&&(i=Ge().parse(i)),i&&ee(i))return i}}catch(e){r.throwInternal(H.CRITICAL,B.FailedToRestoreStorageBuffer," storage key: "+t+", "+me(e),{exception:Ve(e)})}return[]}function d(e,t){var o=e;try{o=n.namePrefix&&n.namePrefix()?n.namePrefix()+"_"+o:o;var i=JSON.stringify(t);yn(r,o,i)}catch(e){yn(r,o,JSON.stringify([])),r.throwInternal(H.WARNING,B.FailedToSetStorageBuffer," storage key: "+o+", "+me(e)+". Buffer cleared",{exception:Ve(e)})}}c.length>t.MAX_BUFFER_SIZE&&(c.length=t.MAX_BUFFER_SIZE),d(t.SENT_BUFFER_KEY,[]),d(t.BUFFER_KEY,c),e.enqueue=function(n){e.count()>=t.MAX_BUFFER_SIZE?i||(r.throwInternal(H.WARNING,B.SessionStorageBufferFull,"Maximum buffer size reached: "+e.count(),!0),i=!0):(o.enqueue(n),d(t.BUFFER_KEY,e._get()))},e.clear=function(){o.clear(),d(t.BUFFER_KEY,e._get()),d(t.SENT_BUFFER_KEY,[]),i=!1},e.markAsSent=function(n){d(t.BUFFER_KEY,e._set(u(n,e._get())));var o=l(t.SENT_BUFFER_KEY);o instanceof Array&&n instanceof Array&&((o=o.concat(n)).length>t.MAX_BUFFER_SIZE&&(r.throwInternal(H.CRITICAL,B.SessionStorageBufferFull,"Sent buffer reached its maximum size: "+o.length,!0),o.length=t.MAX_BUFFER_SIZE),d(t.SENT_BUFFER_KEY,o))},e.clearSent=function(e){var r=l(t.SENT_BUFFER_KEY);r=u(e,r),d(t.SENT_BUFFER_KEY,r)}})),o}return y(t,e),t.BUFFER_KEY="AI_buffer",t.SENT_BUFFER_KEY="AI_sentBuffer",t.MAX_BUFFER_SIZE=2e3,t}(Vn);function Yn(e){var t="ai."+e+".";return function(e){return t+e}}var Qn,Xn=Yn("application"),Zn=Yn("device"),$n=Yn("location"),eo=Yn("operation"),to=Yn("session"),ro=Yn("user"),no=Yn("cloud"),oo=Yn("internal"),io=function(e){function t(){return e.call(this)||this}return y(t,e),t}((Qn={applicationVersion:Xn("ver"),applicationBuild:Xn("build"),applicationTypeId:Xn("typeId"),applicationId:Xn("applicationId"),applicationLayer:Xn("layer"),deviceId:Zn("id"),deviceIp:Zn("ip"),deviceLanguage:Zn("language"),deviceLocale:Zn("locale"),deviceModel:Zn("model"),deviceFriendlyName:Zn("friendlyName"),deviceNetwork:Zn("network"),deviceNetworkName:Zn("networkName"),deviceOEMName:Zn("oemName"),deviceOS:Zn("os"),deviceOSVersion:Zn("osVersion"),deviceRoleInstance:Zn("roleInstance"),deviceRoleName:Zn("roleName"),deviceScreenResolution:Zn("screenResolution"),deviceType:Zn("type"),deviceMachineName:Zn("machineName"),deviceVMName:Zn("vmName"),deviceBrowser:Zn("browser"),deviceBrowserVersion:Zn("browserVersion"),locationIp:$n("ip"),locationCountry:$n("country"),locationProvince:$n("province"),locationCity:$n("city"),operationId:eo("id"),operationName:eo("name"),operationParentId:eo("parentId"),operationRootId:eo("rootId"),operationSyntheticSource:eo("syntheticSource"),operationCorrelationVector:eo("correlationVector"),sessionId:to("id"),sessionIsFirst:to("isFirst"),sessionIsNew:to("isNew"),userAccountAcquisitionDate:ro("accountAcquisitionDate"),userAccountId:ro("accountId"),userAgent:ro("userAgent"),userId:ro("id"),userStoreRegion:ro("storeRegion"),userAuthUserId:ro("authUserId"),userAnonymousUserAcquisitionDate:ro("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ro("authUserAcquisitionDate"),cloudName:no("name"),cloudRole:no("role"),cloudRoleVer:no("roleVer"),cloudRoleInstance:no("roleInstance"),cloudEnvironment:no("environment"),cloudLocation:no("location"),cloudDeploymentUnit:no("deploymentUnit"),internalNodeName:oo("nodeName"),internalSdkVersion:oo("sdkVersion"),internalAgentVersion:oo("agentVersion"),internalSnippet:oo("snippet"),internalSdkSrc:oo("sdkSrc")},function(){var e=this;Qn&&X(Qn,(function(t,r){e[t]=r}))})),ao={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},so=new io,co=function(e){function t(t,r,n){var o=e.call(this)||this;return o.name=yr(t,n)||Or,o.data=r,o.time=ie(new Date),o.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return 100===o.sampleRate?4:1},tags:1,data:1},o}return y(t,e),t}((function(){this.ver=1,this.sampleRate=100,this.tags={}})),uo=function(){},lo=function(e){function t(){return e.call(this)||this}return y(t,e),t}(uo),ho=function(e){function t(t,r){var n=e.call(this)||this;return n.aiDataContract={baseType:1,baseData:1},n.baseType=t,n.baseData=r,n}return y(t,e),t}(lo),po="true";function fo(e,t,r){return ve(e,t,r,Ee)}function go(e,t,r){z(e)||X(e,(function(e,n){ne(n)?r[e]=n:re(n)?t[e]=n:Ke()&&(t[e]=Ge().stringify(n))}))}function mo(e,t){z(e)||X(e,(function(r,n){e[r]=n||t}))}function vo(e,t,r,n){var o=new co(e,n,t);fo(o,"sampleRate",r.sampleRate),(r.baseData||{}).startTime&&(o.time=ie(r.baseData.startTime)),o.iKey=r.iKey;var i=r.iKey.replace(/-/g,"");return o.name=o.name.replace("{0}",i),function(e,t,r){var n=r.tags=r.tags||{},o=t.ext=t.ext||{},i=t.tags=t.tags||[],a=o.user;a&&(fo(n,so.userAuthUserId,a.authId),fo(n,so.userId,a.id||a.localId));var s=o.app;s&&fo(n,so.sessionId,s.sesId);var c=o.device;c&&(fo(n,so.deviceId,c.id||c.localId),fo(n,so.deviceType,c.deviceClass),fo(n,so.deviceIp,c.ip),fo(n,so.deviceModel,c.model),fo(n,so.deviceType,c.deviceType));var u=t.ext.web;if(u){fo(n,so.deviceLanguage,u.browserLang),fo(n,so.deviceBrowserVersion,u.browserVer),fo(n,so.deviceBrowser,u.browser);var l=r.data=r.data||{},d=l.baseData=l.baseData||{},h=d.properties=d.properties||{};fo(h,"domain",u.domain),fo(h,"isManual",u.isManual?po:null),fo(h,"screenRes",u.screenRes),fo(h,"userConsent",u.userConsent?po:null)}var p=o.os;p&&fo(n,so.deviceOS,p.name);var f=o.trace;f&&(fo(n,so.operationParentId,f.parentID),fo(n,so.operationName,yr(e,f.name)),fo(n,so.operationId,f.traceID));for(var g={},v=i.length-1;v>=0;v--)X(i[v],(function(e,t){g[e]=t})),i.splice(v,1);X(i,(function(e,t){g[e]=t}));var y=m(m({},n),g);y[so.internalSdkVersion]||(y[so.internalSdkVersion]="javascript:".concat(Co.Version)),r.tags=Se(y)}(e,r,o),r.tags=r.tags||[],Se(o)}function yo(e,t){z(t.baseData)&&e.throwInternal(H.CRITICAL,B.TelemetryEnvelopeInvalid,"telemetryItem.baseData cannot be null.")}var Co={Version:"2.7.3"};function Eo(e,t,r){yo(e,t);var n={},o={};t.baseType!==Lr.dataType&&(n.baseTypeSource=t.baseType),t.baseType===Lr.dataType?(n=t.baseData.properties||{},o=t.baseData.measurements||{}):t.baseData&&go(t.baseData,n,o),go(t.data,n,o),z(r)||mo(n,r);var i=t.baseData.name,a=new Lr(e,i,n,o),s=new ho(Lr.dataType,a);return vo(e,Lr.envelopeType,t,s)}var To,wo=function e(t){q(e,this,(function(e){function r(e,i){var a={};if(!e)return t.throwInternal(H.CRITICAL,B.CannotSerializeObject,"cannot serialize object because it is null or undefined",{name:i},!0),a;if(e.__aiCircularRefCheck)return t.throwInternal(H.WARNING,B.CircularReferenceDetected,"Circular reference detected while serializing object",{name:i},!0),a;if(!e.aiDataContract){if("measurements"===i)a=o(e,"number",i);else if("properties"===i)a=o(e,"string",i);else if("tags"===i)a=o(e,"string",i);else if(ee(e))a=n(e,i);else{t.throwInternal(H.WARNING,B.CannotSerializeObjectNonSerializable,"Attempting to serialize an object which does not implement ISerializable",{name:i},!0);try{Ge().stringify(e),a=e}catch(e){t.throwInternal(H.CRITICAL,B.CannotSerializeObject,e&&Y(e.toString)?e.toString():"Error serializing object",null,!0)}}return a}return e.__aiCircularRefCheck=!0,X(e.aiDataContract,(function(o,s){var c=Y(s)?1&s():1&s,u=Y(s)?4&s():4&s,l=2&s,d=void 0!==e[o],h=J(e[o])&&null!==e[o];if(!c||d||l){if(!u){var p;void 0!==(p=h?l?n(e[o],o):r(e[o],o):e[o])&&(a[o]=p)}}else t.throwInternal(H.CRITICAL,B.MissingRequiredFieldSpecification,"Missing required field specification. The field is required but not present on source",{field:o,name:i})})),delete e.__aiCircularRefCheck,a}function n(e,n){var o;if(e)if(ee(e)){o=[];for(var i=0;i<e.length;i++){var a=r(e[i],n+"["+i+"]");o.push(a)}}else t.throwInternal(H.CRITICAL,B.ItemNotInArray,"This field was specified as an array in the contract but the item is not an array.\r\n",{name:n},!0);return o}function o(e,r,n){var o;return e&&(o={},X(e,(function(e,i){if("string"===r)void 0===i?o[e]="undefined":null===i?o[e]="null":i.toString?o[e]=i.toString():o[e]="invalid field: toString() is not defined.";else if("number"===r)if(void 0===i)o[e]="undefined";else if(null===i)o[e]="null";else{var a=parseFloat(i);isNaN(a)?o[e]="NaN":o[e]=a}else o[e]="invalid field: "+n+" is of unknown type.",t.throwInternal(H.CRITICAL,o[e],null,!0)}))),o}e.serialize=function(e){var n=r(e,"root");try{return Ge().stringify(n)}catch(e){t.throwInternal(H.CRITICAL,B.CannotSerializeObject,e&&Y(e.toString)?e.toString():"Error serializing object",null,!0)}}}))},So=function(){function e(){var t=Le(),r=De(),n=!1,o=!0;q(e,this,(function(e){try{if(t&&Q(t,"online",s)&&(Q(t,"offline",c),n=!0),r){var i=r.body||r;j(i.ononline)||(i.ononline=s,i.onoffline=c,n=!0)}if(n){var a=qe();a&&!z(a.onLine)&&(o=a.onLine)}}catch(e){n=!1}function s(){o=!0}function c(){o=!1}e.isListening=n,e.isOnline=function(){var e=!0,t=qe();return n?e=o:t&&!z(t.onLine)&&(e=t.onLine),e},e.isOffline=function(){return!e.isOnline()}}))}return e.Offline=new e,e}(),Io=So.Offline,bo=function(){function e(){}return e.prototype.getHashCodeScore=function(t){return this.getHashCode(t)/e.INT_MAX_VALUE*100},e.prototype.getHashCode=function(e){if(""===e)return 0;for(;e.length<8;)e=e.concat(e);for(var t=5381,r=0;r<e.length;++r)t=(t<<5)+t+e.charCodeAt(r),t&=t;return Math.abs(t)},e.INT_MAX_VALUE=2147483647,e}(),Ao=function(){var e=new bo,t=new io;this.getSamplingScore=function(r){return r.tags&&r.tags[t.userId]?e.getHashCodeScore(r.tags[t.userId]):r.ext&&r.ext.user&&r.ext.user.id?e.getHashCodeScore(r.ext.user.id):r.tags&&r.tags[t.operationId]?e.getHashCodeScore(r.tags[t.operationId]):r.ext&&r.ext.telemetryTrace&&r.ext.telemetryTrace.traceID?e.getHashCodeScore(r.ext.telemetryTrace.traceID):100*Math.random()}},_o=function(){function e(e,t){this.INT_MAX_VALUE=2147483647;var r=t||it(null);(e>100||e<0)&&(r.throwInternal(H.WARNING,B.SampleRateOutOfRange,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:e},!0),e=100),this.sampleRate=e,this.samplingScoreGenerator=new Ao}return e.prototype.isSampledIn=function(e){var t=this.sampleRate;return null==t||t>=100||e.baseType===Fr.dataType||this.samplingScoreGenerator.getSamplingScore(e)<t},e}();function Ro(e){try{return e.responseText}catch(e){}return null}var ko=((To={})[Lr.dataType]=Eo,To[Ur.dataType]=function(e,t,r){yo(e,t);var n=t.baseData.message,o=t.baseData.severityLevel,i=t.baseData.properties||{},a=t.baseData.measurements||{};go(t.data,i,a),z(r)||mo(i,r);var s=new Ur(e,n,o,i,a),c=new ho(Ur.dataType,s);return vo(e,Ur.envelopeType,t,c)},To[jr.dataType]=function(e,t,r){yo(e,t);var n,o=t.baseData;z(o)||z(o.properties)||z(o.properties.duration)?z(t.data)||z(t.data.duration)||(n=t.data.duration,delete t.data.duration):(n=o.properties.duration,delete o.properties.duration);var i,a=t.baseData;((t.ext||{}).trace||{}).traceID&&(i=t.ext.trace.traceID);var s=a.id||i,c=a.name,u=a.uri,l=a.properties||{},d=a.measurements||{};z(a.refUri)||(l.refUri=a.refUri),z(a.pageType)||(l.pageType=a.pageType),z(a.isLoggedIn)||(l.isLoggedIn=a.isLoggedIn.toString()),z(a.properties)||X(a.properties,(function(e,t){l[e]=t})),go(t.data,l,d),z(r)||mo(l,r);var h=new jr(e,c,u,n,l,d,s),p=new ho(jr.dataType,h);return vo(e,jr.envelopeType,t,p)},To[zr.dataType]=function(e,t,r){yo(e,t);var n=t.baseData,o=n.name,i=n.uri||n.url,a=n.properties||{},s=n.measurements||{};go(t.data,a,s),z(r)||mo(a,r);var c=new zr(e,o,i,void 0,a,s,n),u=new ho(zr.dataType,c);return vo(e,zr.envelopeType,t,u)},To[rn.dataType]=function(e,t,r){yo(e,t);var n=t.baseData.measurements||{},o=t.baseData.properties||{};go(t.data,o,n),z(r)||mo(o,r);var i=t.baseData,a=rn.CreateFromInterface(e,i,o,n),s=new ho(rn.dataType,a);return vo(e,rn.envelopeType,t,s)},To[Fr.dataType]=function(e,t,r){yo(e,t);var n=t.baseData,o=n.properties||{},i=n.measurements||{};go(t.data,o,i),z(r)||mo(o,r);var a=new Fr(e,n.name,n.average,n.sampleCount,n.min,n.max,n.stdDev,o,i),s=new ho(Fr.dataType,a);return vo(e,Fr.envelopeType,t,s)},To[Fn.dataType]=function(e,t,r){yo(e,t);var n=t.baseData.measurements||{},o=t.baseData.properties||{};go(t.data,o,n),z(r)||mo(o,r);var i=t.baseData;if(z(i))return e.warnToConsole("Invalid input for dependency data"),null;var a=i.properties&&i.properties[Nr]?i.properties[Nr]:"GET",s=new Fn(e,i.id,i.target,i.name,i.duration,i.success,i.responseCode,a,i.type,i.correlationContext,o,n),c=new ho(Fn.dataType,s);return vo(e,Fn.envelopeType,t,c)},To),No=function(e){function t(){var r,n,o=e.call(this)||this;o.priority=1001,o.identifier=fr;var i,a,s,c,u,l=!1,d={},h=0;return o._senderConfig={endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}},q(t,o,(function(e,p){function f(t,n,o,i,a,s){var c=null;if(e._appId||(c=S(s))&&c.appId&&(e._appId=c.appId),(t<200||t>=300)&&0!==t){if((301===t||307===t||308===t)&&!g(o))return void e._onError(n,a);!e._senderConfig.isRetryDisabled()&&_(t)?(I(n),e.diagLog().throwInternal(H.WARNING,B.TransmissionFailed,". Response code "+t+". Will retry to send "+n.length+" items.")):e._onError(n,a)}else Io.isOffline()?e._senderConfig.isRetryDisabled()||(I(n,10),e.diagLog().throwInternal(H.WARNING,B.TransmissionFailed,". Offline - Response Code: ".concat(t,". Offline status: ").concat(Io.isOffline(),". Will retry to send ").concat(n.length," items."))):(g(o),206===t?(c||(c=S(s)),c&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,c):e._onError(n,a)):(r=0,e._onSuccess(n,i)))}function g(t){return!(s>=10||z(t)||""===t||t===e._senderConfig.endpointUrl()||(e._senderConfig.endpointUrl=function(){return t},++s,0))}function m(e,t){u?u(e,!1):y(e)}function v(t){var r=qe(),n=e._buffer,o=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),a=new Blob([i],{type:"text/plain;charset=UTF-8"}),s=r.sendBeacon(o,a);return s&&(n.markAsSent(t),e._onSuccess(t,t.length)),s}function y(t,r){if(ee(t)&&t.length>0&&!v(t)){for(var n=[],o=0;o<t.length;o++){var i=t[o];v([i])||n.push(i)}n.length>0&&(c(n,!0),e.diagLog().throwInternal(H.WARNING,B.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function C(t,r){var n=new XMLHttpRequest,o=e._senderConfig.endpointUrl();try{n[kr]=!0}catch(e){}n.open("POST",o,r),n.setRequestHeader("Content-type","application/json"),Pn(o)&&n.setRequestHeader(Tn.sdkContextHeader,Tn.sdkContextHeaderAppIdRequest),ae(pe(d),(function(e){n.setRequestHeader(e,d[e])})),n.onreadystatechange=function(){return e._xhrReadyStateChange(n,t,t.length)},n.onerror=function(r){return e._onError(t,R(n),r)};var i=e._buffer.batchPayloads(t);n.send(i),e._buffer.markAsSent(t)}function E(t,r){if(ee(t)){for(var n=t.length,o=0;o<t.length;o++)n+=t[o].length;h+n<=65e3?w(t,!1):We()?y(t):(c&&c(t,!0),e.diagLog().throwInternal(H.WARNING,B.TransmissionFailed,". Failed to send telemetry with Beacon API, retried with xhrSender."))}}function T(e,t){w(e,!0)}function w(t,r){var n,o=e._senderConfig.endpointUrl(),i=e._buffer.batchPayloads(t),a=new Blob([i],{type:"application/json"}),s=new Headers,c=i.length,u=!1,l=!1;Pn(o)&&s.append(Tn.sdkContextHeader,Tn.sdkContextHeaderAppIdRequest),ae(pe(d),(function(e){s.append(e,d[e])}));var p=((n={method:"POST",headers:s,body:a})[kr]=!0,n);r||(p.keepalive=!0,u=!0,h+=c);var g=new Request(o,p);try{g[kr]=!0}catch(e){}e._buffer.markAsSent(t);try{fetch(g).then((function(n){r||(h-=c,c=0),l||(l=!0,n.ok?n.text().then((function(e){f(n.status,t,n.url,t.length,n.statusText,e)})):e._onError(t,n.statusText))})).catch((function(n){r||(h-=c,c=0),l||(l=!0,e._onError(t,n.message))}))}catch(r){l||e._onError(t,Ve(r))}u&&!l&&(l=!0,e._onSuccess(t,t.length))}function S(t){try{if(t&&""!==t){var r=Ge().parse(t);if(r&&r.itemsReceived&&r.itemsReceived>=r.itemsAccepted&&r.itemsReceived-r.itemsAccepted===r.errors.length)return r}}catch(r){e.diagLog().throwInternal(H.CRITICAL,B.InvalidBackendResponse,"Cannot parse the response. "+me(r),{response:t})}return null}function I(t,o){if(void 0===o&&(o=1),t&&0!==t.length){var i=e._buffer;i.clearSent(t),r++;for(var a=0,s=t;a<s.length;a++){var c=s[a];i.enqueue(c)}!function(e){var t;if(r<=1)t=10;else{var o=(Math.pow(2,r)-1)/2,i=Math.floor(Math.random()*o*10)+1;i*=e,t=Math.max(Math.min(i,3600),10)}var a=ge()+1e3*t;n=a}(o),b()}}function b(){if(!i&&!l){var t=n?Math.max(0,n-ge()):0,r=Math.max(e._senderConfig.maxBatchInterval(),t);i=setTimeout((function(){i=null,e.triggerSend(!0,null,1)}),r)}}function A(){clearTimeout(i),i=null,n=null}function _(e){return 408===e||429===e||500===e||503===e}function R(e,t){return e?"XMLHttpRequest,Status:"+e.status+",Response:"+Ro(e)||0:t}function k(t,r){var n=e._buffer,o=Le(),i=new XDomainRequest;i.onload=function(){return e._xdrOnLoad(i,t)},i.onerror=function(r){return e._onError(t,N(i),r)};var a=o&&o.location&&o.location.protocol||"";if(0!==e._senderConfig.endpointUrl().lastIndexOf(a,0))return e.diagLog().throwInternal(H.WARNING,B.TransmissionFailed,". Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol."),void n.clear();var s=e._senderConfig.endpointUrl().replace(/^(https?:)/,"");i.open("POST",s);var c=n.batchPayloads(t);i.send(c),n.markAsSent(t)}function N(e,t){return e?"XDomainRequest,Response:"+Ro(e)||0:t}e.pause=function(){A(),l=!0},e.resume=function(){l&&(l=!1,n=null,e._buffer.size()>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),b())},e.flush=function(){if(!l){A();try{e.triggerSend(!0,null,1)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.FlushFailed,"flush failed, telemetry will not be collected: "+me(t),{exception:Ve(t)})}}},e.onunloadFlush=function(){if(!l)if(!1!==e._senderConfig.onunloadDisableBeacon()&&!1!==e._senderConfig.isBeaconApiDisabled()||!We())e.flush();else try{e.triggerSend(!0,m,2)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.FailedToSendQueuedTelemetry,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+me(t),{exception:Ve(t)})}},e.teardown=function(){Te("Method not implemented.")},e.addHeader=function(e,t){d[e]=t},e.initialize=function(t,i,l,d){p.initialize(t,i,l,d);var h=e._getTelCtx(),f=e.identifier;a=new wo(i.logger),r=0,n=null,e._sender=null,s=0;var g=e.diagLog();X({endpointUrl:function(){return"https://dc.services.visualstudio.com/v2/track"},emitLineDelimitedJson:function(){return!1},maxBatchInterval:function(){return 15e3},maxBatchSizeInBytes:function(){return 102400},disableTelemetry:function(){return!1},enableSessionStorageBuffer:function(){return!0},isRetryDisabled:function(){return!1},isBeaconApiDisabled:function(){return!0},disableXhr:function(){return!1},onunloadDisableFetch:function(){return!1},onunloadDisableBeacon:function(){return!1},instrumentationKey:function(){},namePrefix:function(){},samplingPercentage:function(){return 100},customHeaders:function(){},convertUndefined:function(){},eventsLimitInMem:function(){return 1e4}},(function(t,r){e._senderConfig[t]=function(){return h.getConfig(f,t,r())}})),e._buffer=e._senderConfig.enableSessionStorageBuffer()&&mn()?new Jn(g,e._senderConfig):new Wn(g,e._senderConfig),e._sample=new _o(e._senderConfig.samplingPercentage(),g),function(e){return!(z(e.disableInstrumentationKeyValidation)||!e.disableInstrumentationKeyValidation)||new RegExp("^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$").test(e.instrumentationKey)}(t)||g.throwInternal(H.CRITICAL,B.InvalidInstrumentationKey,"Invalid Instrumentation key "+t.instrumentationKey),!Pn(e._senderConfig.endpointUrl())&&e._senderConfig.customHeaders()&&e._senderConfig.customHeaders().length>0&&ae(e._senderConfig.customHeaders(),(function(e){o.addHeader(e.header,e.value)}));var m=e._senderConfig,v=null;!m.disableXhr()&&Ye()?v=k:!m.disableXhr()&&Qe()&&(v=C),!v&&Je()&&(v=T),c=v||C,!m.isBeaconApiDisabled()&&We()&&(v=y),e._sender=v||C,u=!m.onunloadDisableFetch()&&Je(!0)?E:We()?y:!m.disableXhr()&&Ye()?k:!m.disableXhr()&&Qe()?C:c},e.processTelemetry=function(r,n){n=e._getTelCtx(n);try{if(e._senderConfig.disableTelemetry())return;if(!r)return void n.diagLog().throwInternal(H.CRITICAL,B.CannotSendEmptyTelemetry,"Cannot send empty telemetry");if(r.baseData&&!r.baseType)return void n.diagLog().throwInternal(H.CRITICAL,B.InvalidEvent,"Cannot send telemetry without baseData and baseType");if(r.baseType||(r.baseType="EventData"),!e._sender)return void n.diagLog().throwInternal(H.CRITICAL,B.SenderNotInitialized,"Sender was not initialized");if(d=r,!e._sample.isSampledIn(d))return void n.diagLog().throwInternal(H.WARNING,B.TelemetrySampledAndNotSent,"Telemetry item was sampled out and not sent",{SampleRate:e._sample.sampleRate});r.sampleRate=e._sample.sampleRate;var o=e._senderConfig.convertUndefined()||void 0,i=r.iKey||e._senderConfig.instrumentationKey(),s=t.constructEnvelope(r,i,n.diagLog(),o);if(!s)return void n.diagLog().throwInternal(H.CRITICAL,B.CreateEnvelopeError,"Unable to create an AppInsights envelope");var c=!1;if(r.tags&&r.tags.ProcessLegacy&&(ae(r.tags.ProcessLegacy,(function(e){try{e&&!1===e(s)&&(c=!0,n.diagLog().warnToConsole("Telemetry processor check returns false"))}catch(e){n.diagLog().throwInternal(H.CRITICAL,B.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+me(e),{exception:Ve(e)},!0)}})),delete r.tags.ProcessLegacy),c)return;var u=a.serialize(s),l=e._buffer;l.size()+u.length>e._senderConfig.maxBatchSizeInBytes()&&e.triggerSend(!0,null,10),l.enqueue(u),b()}catch(e){n.diagLog().throwInternal(H.WARNING,B.FailedAddingTelemetryToBuffer,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+me(e),{exception:Ve(e)})}var d;e.processNext(r,n)},e._xhrReadyStateChange=function(e,t,r){4===e.readyState&&f(e.status,t,e.responseURL,r,R(e),Ro(e)||e.response)},e.triggerSend=function(t,r,n){if(void 0===t&&(t=!0),!l)try{var i=e._buffer;if(e._senderConfig.disableTelemetry())i.clear();else{if(i.count()>0){var a=i.getItems();!function(t,r){var n,o=(n="getNotifyMgr",e.core[n]?e.core[n]():e.core._notificationManager);if(o&&o.eventsSendRequest)try{o.eventsSendRequest(t,r)}catch(t){e.diagLog().throwInternal(H.CRITICAL,B.NotificationException,"send request notification failed: "+me(t),{exception:Ve(t)})}}(n||0,t),r?r.call(o,a,t):e._sender(a,t)}new Date}A()}catch(t){var s=ze();(!s||s>9)&&e.diagLog().throwInternal(H.CRITICAL,B.TransmissionFailed,"Telemetry transmission failed, some telemetry will be lost: "+me(t),{exception:Ve(t)})}},e._onError=function(t,r,n){e.diagLog().throwInternal(H.WARNING,B.OnError,"Failed to send telemetry.",{message:r}),e._buffer.clearSent(t)},e._onPartialSuccess=function(t,r){for(var n=[],o=[],i=0,a=r.errors.reverse();i<a.length;i++){var s=a[i],c=t.splice(s.index,1)[0];_(s.statusCode)?o.push(c):n.push(c)}t.length>0&&e._onSuccess(t,r.itemsAccepted),n.length>0&&e._onError(n,R(null,["partial success",r.itemsAccepted,"of",r.itemsReceived].join(" "))),o.length>0&&(I(o),e.diagLog().throwInternal(H.WARNING,B.TransmissionFailed,"Partial success. Delivered: "+t.length+", Failed: "+n.length+". Will retry to send "+o.length+" our of "+r.itemsReceived+" items"))},e._onSuccess=function(t,r){e._buffer.clearSent(t)},e._xdrOnLoad=function(t,n){var o=Ro(t);if(!t||o+""!="200"&&""!==o){var i=S(o);i&&i.itemsReceived&&i.itemsReceived>i.itemsAccepted&&!e._senderConfig.isRetryDisabled()?e._onPartialSuccess(n,i):e._onError(n,N(t))}else r=0,e._onSuccess(n,0)}})),o}return y(t,e),t.constructEnvelope=function(e,t,r,n){var o;return o=t===e.iKey||z(t)?e:m(m({},e),{iKey:t}),(ko[o.baseType]||Eo)(r,o,n)},t}(gt),Po=function(){},Oo=function(){function e(t,r){var n,o,i=it(r),a=Nt(r);q(e,this,(function(r){t||(t={}),Y(t.sessionExpirationMs)||(t.sessionExpirationMs=function(){return e.acquisitionSpan}),Y(t.sessionRenewalMs)||(t.sessionRenewalMs=function(){return e.renewalSpan}),r.config=t;var s=r.config.sessionCookiePostfix&&r.config.sessionCookiePostfix()?r.config.sessionCookiePostfix():r.config.namePrefix&&r.config.namePrefix()?r.config.namePrefix():"";function c(e,t){var r=!1,n=", session will be reset",o=t.split("|");if(o.length>=2)try{var a=+o[1]||0,s=+o[2]||0;isNaN(a)||a<=0?i.throwInternal(H.WARNING,B.SessionRenewalDateIsZero,"AI session acquisition date is 0"+n):isNaN(s)||s<=0?i.throwInternal(H.WARNING,B.SessionRenewalDateIsZero,"AI session renewal date is 0"+n):o[0]&&(e.id=o[0],e.acquisitionDate=a,e.renewalDate=s,r=!0)}catch(e){i.throwInternal(H.CRITICAL,B.ErrorParsingAISessionCookie,"Error parsing ai_session value ["+(t||"")+"]"+n+" - "+me(e),{exception:Ve(e)})}return r}function u(e,t){var i=e.acquisitionDate;e.renewalDate=t;var s,c=r.config,u=c.sessionRenewalMs(),l=i+c.sessionExpirationMs()-t,d=[e.id,i,t];s=l<u?l/1e3:u/1e3;var h=c.cookieDomain?c.cookieDomain():null;a.set(n(),d.join("|"),c.sessionExpirationMs()>0?s:null,h),o=t}n=function(){return"ai_session"+s},r.automaticSession=new Po,r.update=function(){var t=ge(),s=!1,l=r.automaticSession;l.id||(s=!function(e,t){var r=!1,o=a.get(n());if(o&&Y(o.split))r=c(e,o);else{var s=pn(i,n());s&&(r=c(e,s))}return r||!!e.id}(l));var d=r.config.sessionExpirationMs();if(!s&&d>0){var h=r.config.sessionRenewalMs(),p=t-l.acquisitionDate,f=t-l.renewalDate;s=(s=(s=p<0||f<0)||p>d)||f>h}s?function(e){var t=r.config||{},n=(t.getNewId?t.getNewId():null)||sr;r.automaticSession.id=n(t.idLength?t.idLength():22),r.automaticSession.acquisitionDate=e,u(r.automaticSession,e),hn()||i.throwInternal(H.WARNING,B.BrowserDoesNotSupportLocalStorage,"Browser does not support local storage. Session durations will be inaccurate.")}(t):(!o||t-o>e.cookieUpdateInterval)&&u(l,t)},r.backup=function(){var e,t,o,a=r.automaticSession;e=a.id,t=a.acquisitionDate,o=a.renewalDate,fn(i,n(),[e,t,o].join("|"))}}))}return e.acquisitionSpan=864e5,e.renewalSpan=18e5,e.cookieUpdateInterval=6e4,e}(),xo=function(){},Mo=function(){this.id="browser",this.deviceClass="Browser"},Lo=function(e){this.sdkVersion=(e.sdkExtension&&e.sdkExtension()?e.sdkExtension()+"_":"")+"javascript:2.7.3"};function Uo(e){return!("string"!=typeof e||!e||e.match(/,|;|=| |\|/))}var Do=function(){function e(t,r){this.isNewUser=!1,this.isUserCookieSet=!1;var n,o=it(r),i=Nt(r);q(e,this,(function(r){r.config=t;var a=r.config.userCookiePostfix&&r.config.userCookiePostfix()?r.config.userCookiePostfix():"";n=function(){return e.userCookieName+a};var s=i.get(n());if(s){r.isNewUser=!1;var c=s.split(e.cookieSeparator);c.length>0&&(r.id=c[0],r.isUserCookieSet=!!r.id)}function u(){var e=t||{};return((e.getNewId?e.getNewId():null)||sr)(e.idLength?t.idLength():22)}function l(e){var t=ie(new Date);return r.accountAcquisitionDate=t,r.isNewUser=!0,[e,t]}function d(e){r.isUserCookieSet=i.set(n(),e,31536e3)}if(!r.id){r.id=u(),d(l(r.id).join(e.cookieSeparator));var h=t.namePrefix&&t.namePrefix()?t.namePrefix()+"ai_session":"ai_session";gn(o,h)}r.accountId=t.accountId?t.accountId():void 0;var p=i.get(e.authUserCookieName);if(p){var f=(p=decodeURI(p)).split(e.cookieSeparator);f[0]&&(r.authenticatedId=f[0]),f.length>1&&f[1]&&(r.accountId=f[1])}r.setAuthenticatedUserContext=function(t,n,a){if(void 0===a&&(a=!1),!Uo(t)||n&&!Uo(n))o.throwInternal(H.WARNING,B.SetAuthContextFailedAccountName,"Setting auth user context failed. User auth/account id should be of type string, and not contain commas, semi-colons, equal signs, spaces, or vertical-bars.",!0);else{r.authenticatedId=t;var s=r.authenticatedId;n&&(r.accountId=n,s=[r.authenticatedId,r.accountId].join(e.cookieSeparator)),a&&i.set(e.authUserCookieName,encodeURI(s))}},r.clearAuthenticatedUserContext=function(){r.authenticatedId=null,r.accountId=null,i.del(e.authUserCookieName)},r.update=function(t){r.id===t&&r.isUserCookieSet||d(l(t||u()).join(e.cookieSeparator))}}))}return e.cookieSeparator="|",e.userCookieName="ai_user",e.authUserCookieName="ai_authUser",e}(),Fo=function(){},qo=function(e,t,r,n){var o=this;o.traceID=e||cr(),o.parentID=t,o.name=r;var i=He();!r&&i&&i.pathname&&(o.name=i.pathname),o.name=yr(n,o.name)},Ho="ext",Bo="tags";function Ko(e,t){e&&e[t]&&0===pe(e[t]).length&&delete e[t]}var Go=function e(t,r){var n=this,o=t.logger;this.appId=function(){return null},this.getSessionId=function(){return null},q(e,this,(function(e){e.application=new xo,e.internal=new Lo(r),Me()&&(e.sessionManager=new Oo(r,t),e.device=new Mo,e.location=new Fo,e.user=new Do(r,t),e.telemetryTrace=new qo(void 0,void 0,void 0,o),e.session=new Po),e.getSessionId=function(){var t=e.session,r=null;if(t&&re(t.id))r=t.id;else{var n=(e.sessionManager||{}).automaticSession;r=n&&re(n.id)?n.id:null}return r},e.applySessionContext=function(t,r){ve(ye(t.ext,ao.AppExt),"sesId",e.getSessionId(),re)},e.applyOperatingSystemContxt=function(t,r){ve(t.ext,ao.OSExt,e.os)},e.applyApplicationContext=function(t,r){var n=e.application;if(n){var o=ye(t,Bo);ve(o,so.applicationVersion,n.ver,re),ve(o,so.applicationBuild,n.build,re)}},e.applyDeviceContext=function(t,r){var n=e.device;if(n){var o=ye(ye(t,Ho),ao.DeviceExt);ve(o,"localId",n.id,re),ve(o,"ip",n.ip,re),ve(o,"model",n.model,re),ve(o,"deviceClass",n.deviceClass,re)}},e.applyInternalContext=function(t,r){var n=e.internal;if(n){var o=ye(t,Bo);ve(o,so.internalAgentVersion,n.agentVersion,re),ve(o,so.internalSdkVersion,n.sdkVersion,re),t.baseType!==ot.dataType&&t.baseType!==jr.dataType||(ve(o,so.internalSnippet,n.snippetVer,re),ve(o,so.internalSdkSrc,n.sdkSrc,re))}},e.applyLocationContext=function(e,t){var r=n.location;r&&ve(ye(e,Bo,[]),so.locationIp,r.ip,re)},e.applyOperationContext=function(t,r){var n=e.telemetryTrace;if(n){var o=ye(ye(t,Ho),ao.TraceExt,{traceID:void 0,parentID:void 0});ve(o,"traceID",n.traceID,re),ve(o,"name",n.name,re),ve(o,"parentID",n.parentID,re)}},e.applyWebContext=function(e,t){var r=n.web;r&&ve(ye(e,Ho),ao.WebExt,r)},e.applyUserContext=function(t,r){var n=e.user;if(n){ve(ye(t,Bo,[]),so.userAccountId,n.accountId,re);var o=ye(ye(t,Ho),ao.UserExt);ve(o,"id",n.id,re),ve(o,"authId",n.authenticatedId,re)}},e.cleanUp=function(e,t){var r=e.ext;r&&(Ko(r,ao.DeviceExt),Ko(r,ao.UserExt),Ko(r,ao.WebExt),Ko(r,ao.OSExt),Ko(r,ao.AppExt),Ko(r,ao.TraceExt))}}))};const jo=function(e){function t(){var r,n,o=e.call(this)||this;return o.priority=110,o.identifier=pr,q(t,o,(function(e,o){e.initialize=function(i,a,s,c){o.initialize(i,a,s,c);var u=e._getTelCtx(),l=e.identifier,d=t.getDefaultConfig();n=n||{},X(d,(function(e,t){n[e]=function(){return u.getConfig(l,e,t())}})),e.context=new Go(a,n),r=Kr(s,fr),e.context.appId=function(){return r?r._appId:null},e._extConfig=n},e.processTelemetry=function(t,r){if(z(t));else{r=e._getTelCtx(r),t.name===jr.envelopeType&&r.diagLog().resetInternalMessageCount();var n=e.context||{};n.session&&"string"!=typeof e.context.session.id&&n.sessionManager&&n.sessionManager.update();var o=n.user;if(o&&!o.isUserCookieSet&&o.update(n.user.id),function(t,r){ye(t,"tags",[]),ye(t,"ext",{});var n=e.context;n.applySessionContext(t,r),n.applyApplicationContext(t,r),n.applyDeviceContext(t,r),n.applyOperationContext(t,r),n.applyUserContext(t,r),n.applyOperatingSystemContxt(t,r),n.applyWebContext(t,r),n.applyLocationContext(t,r),n.applyInternalContext(t,r),n.cleanUp(t,r)}(t,r),o&&o.isNewUser){o.isNewUser=!1;var i=new ot(B.SendBrowserInfoOnUserInit,(qe()||{}).userAgent||"");r.diagLog().logInternalMessage(H.CRITICAL,i)}e.processNext(t,r)}}})),o}return y(t,e),t.getDefaultConfig=function(){return{instrumentationKey:function(){},accountId:function(){return null},sessionRenewalMs:function(){return 18e5},samplingPercentage:function(){return 100},sessionExpirationMs:function(){return 864e5},cookieDomain:function(){return null},sdkExtension:function(){return null},isBrowserLinkTrackingEnabled:function(){return!1},appId:function(){return null},getSessionId:function(){return null},namePrefix:function(){},sessionCookiePostfix:function(){},userCookiePostfix:function(){},idLength:function(){return 22},getNewId:function(){return null}}},t}(gt);var zo=["req","rsp","hkErr","fnErr"];function Vo(e,t){if(e)for(var r=0;r<e.length&&!t(e[r],r);r++);}function Wo(e,t,r,n,o){o>=0&&o<=2&&Vo(e,(function(e,i){var a=e.cbks,s=a[zo[o]];if(s){t.ctx=function(){return n[i]=n[i]||{}};try{s.apply(t.inst,r)}catch(e){var c=t.err;try{var u=a[zo[2]];u&&(t.err=e,u.apply(t.inst,r))}catch(e){}finally{t.err=c}}}}))}var Jo=Object.getPrototypeOf;function Yo(e,t,r){var n=null;return e&&(W(e,t)?n=e:r&&(n=Yo(function(e){if(e){if(Jo)return Jo(e);var t=e.__proto__||e.prototype||e.constructor;if(t)return t}return null}(e),t,!1))),n}function Qo(e,t,r,o){if(void 0===o&&(o=!0),e&&t&&r){var i=Yo(e,t,o);if(i){var a=i[t];if(typeof a===n){var s=a._aiHooks;if(!s){var c=(l=s={i:0,n:t,f:a,h:[]},function(){var e=this,t=arguments,r=l.h,n={name:l.n,inst:e,ctx:null,set:s},o=[],i=a([n],t);function a(e,t){return Vo(t,(function(t){e.push(t)})),e}function s(e,r){(t=a([],t))[e]=r,i=a([n],t)}Wo(r,n,i,o,0);var c=l.f;try{n.rslt=c.apply(e,t)}catch(e){throw n.err=e,Wo(r,n,i,o,3),e}return Wo(r,n,i,o,1),n.rslt});c._aiHooks=s,i[t]=c}var u={id:s.i,cbks:r,rm:function(){var e=this.id;Vo(s.h,(function(t,r){if(t.id===e)return s.h.splice(r,1),1}))}};return s.i++,s.h.push(u),u}}}var l;return null}function Xo(e,t,r){var n=0,o=e[t],i=e[r];return o&&i&&(n=Un(o,i)),n}function Zo(e,t,r,n,o){var i=0,a=Xo(r,n,o);return a&&(i=$o(e,t,Br(a))),i}function $o(e,t,r){var n=0;return e&&t&&r&&((e.ajaxPerf=e.ajaxPerf||{})[t]=r,n=1),n}var ei=function(){var e=this;e.openDone=!1,e.setRequestHeaderDone=!1,e.sendDone=!1,e.abortDone=!1,e.stateChangeAttached=!1},ti=function e(t,r,n){var o=this,i=n;o.perfMark=null,o.completed=!1,o.requestHeadersSize=null,o.requestHeaders=null,o.responseReceivingDuration=null,o.callbackDuration=null,o.ajaxTotalDuration=null,o.aborted=0,o.pageUrl=null,o.requestUrl=null,o.requestSize=0,o.method=null,o.status=null,o.requestSentTime=null,o.responseStartedTime=null,o.responseFinishedTime=null,o.callbackFinishedTime=null,o.endTime=null,o.xhrMonitoringState=new ei,o.clientFailure=0,o.traceID=t,o.spanID=r,q(e,o,(function(e){e.getAbsoluteUrl=function(){return e.requestUrl?An(e.requestUrl):null},e.getPathName=function(){return e.requestUrl?Cr(i,_n(e.method,e.requestUrl)):null},e.CreateTrackItem=function(t,r,n){var o;if(e.ajaxTotalDuration=Math.round(1e3*Un(e.requestSentTime,e.responseFinishedTime))/1e3,e.ajaxTotalDuration<0)return null;var i=((o={id:"|"+e.traceID+"."+e.spanID,target:e.getAbsoluteUrl(),name:e.getPathName(),type:t,startTime:null,duration:e.ajaxTotalDuration,success:+e.status>=200&&+e.status<400,responseCode:+e.status,method:e.method}).properties={HttpMethod:e.method},o);if(e.requestSentTime&&(i.startTime=new Date,i.startTime.setTime(e.requestSentTime)),function(e,t){var r=e.perfTiming,n=t.properties||{},o=0,i="redirect",a="startTime",s="connectEnd",c="requestStart",u="responseEnd",l=i+"Start",d=i="End";if(r){o|=Zo(n,i,r,l,d),o|=Zo(n,"domainLookup",r,"domainLookupStart","domainLookupEnd"),o|=Zo(n,"connect",r,"connectStart",s),o|=Zo(n,"request",r,c,"requestEnd"),o|=Zo(n,"response",r,"responseStart",u),o|=Zo(n,"networkConnect",r,a,s),o|=Zo(n,"sentRequest",r,c,u);var h=r.duration;h||(h=Xo(r,a,u)||0),o|=$o(n,"duration",h),o|=$o(n,"perfTotal",h);var p=r.serverTiming;if(p){var f={};ae(p,(function(e,t){var r=function(e){var t=e,r=/([^\w\d_$])/g;return r.test(e)&&(t=e.replace(r,"_")),t}(e.name||""+t),n=f[r]||{};X(e,(function(e,t){("name"!==e&&re(t)||ne(t))&&(n[e]&&(t=n[e]+";"+t),!t&&re(t)||(n[e]=t))})),f[r]=n})),o|=$o(n,"serverTiming",f)}o|=$o(n,"transferSize",r.transferSize),o|=$o(n,"encodedBodySize",r.encodedBodySize),o|=$o(n,"decodedBodySize",r.decodedBodySize)}else e.perfMark&&(o|=$o(n,"missing",e.perfAttempts));o&&(t.properties=n)}(e,i),r&&pe(e.requestHeaders).length>0&&(i.properties=i.properties||{},i.properties.requestHeaders=e.requestHeaders),n){var a=n();if(a){var s=a.correlationContext;if(s&&(i.correlationContext=s),a.headerMap&&pe(a.headerMap).length>0&&(i.properties=i.properties||{},i.properties.responseHeaders=a.headerMap),e.errorStatusText&&e.status>=400){var c=a.type;i.properties=i.properties||{},""!==c&&"text"!==c||(i.properties.responseText=a.responseText?a.statusText+" - "+a.responseText:a.statusText),"json"===c&&(i.properties.responseText=a.response?a.statusText+" - "+JSON.stringify(a.response):a.statusText)}}}return i}}))},ri=function(){function e(t,r){var n=this;n.traceFlag=e.DEFAULT_TRACE_FLAG,n.version=e.DEFAULT_VERSION,t&&e.isValidTraceId(t)?n.traceId=t:n.traceId=cr(),r&&e.isValidSpanId(r)?n.spanId=r:n.spanId=cr().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.toString=function(){var e=this;return"".concat(e.version,"-").concat(e.traceId,"-").concat(e.spanId,"-").concat(e.traceFlag)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}(),ni="ai.ajxmn.",oi="fetch",ii=0;function ai(e){var t="";try{z(e)||z(e.ajaxData)||z(e.ajaxData.requestUrl)||(t+="(url: '"+e.ajaxData.requestUrl+"')")}catch(e){}return t}function si(e,t,r,n,o){e.diagLog().throwInternal(H.CRITICAL,t,r,n,o)}function ci(e,t,r,n,o){e.diagLog().throwInternal(H.WARNING,t,r,n,o)}function ui(e,t,r){return function(n){si(e,t,r,{ajaxDiagnosticsMessage:ai(n.inst),exception:Ve(n.err)})}}function li(e,t){return e&&t?e.indexOf(t):-1}var di=function(e){function t(){var r=e.call(this)||this;r.identifier=t.identifier,r.priority=120;var n,o,i,a,s,c,u=He(),l=!1,d=!1,h=u&&u.host&&u.host.toLowerCase(),f=t.getEmptyConfig(),g=!1,v=!1,y=0,C=!1,E=0,T=!1,w=[],S={};return q(t,r,(function(e,r){function u(e){var t=!0;return(e||f.ignoreHeaders)&&ae(f.ignoreHeaders,(function(r){if(r.toLowerCase()===e.toLowerCase())return t=!1,-1})),t}function I(e,t,r){w.push(function(e,t,r){return e?Qo(e.prototype,t,r,!1):null}(e,t,r))}function b(e,t,r){var n=!1,o=((re(t)?t:(t||{}).url||"")||"").toLowerCase();if(ae(s,(function(e){var t=e;re(e)&&(t=new RegExp(e)),n||(n=t.test(o))})),n)return n;var i=li(o,"?"),a=li(o,"#");return(-1===i||-1!==a&&a<i)&&(i=a),-1!==i&&(o=o.substring(0,i)),z(e)?z(t)||(n="object"==typeof t&&!0===t[kr]||!!r&&!0===r[kr]):n=!0===e[kr]||!0===o[kr],!n&&o&&Pn(o)&&(n=!0),n?S[o]||(S[o]=1):S[o]&&(n=!0),n}function A(e,t){var r=!0,n=d;return z(e)||(r=!0===t||!z(e.ajaxData)),n&&r}function _(e){try{var t=e.responseType;if(""===t||"text"===t)return e.responseText}catch(e){}return null}function R(t){try{var r=t.getAllResponseHeaders();if(null!==r&&-1!==li(r.toLowerCase(),Tn.requestContextHeaderLowerCase)){var n=t.getResponseHeader(Tn.requestContextHeader);return Mn.getCorrelationContext(n)}}catch(r){ci(e,B.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{ajaxDiagnosticsMessage:ai(t),exception:Ve(r)})}}function k(e,t){if(t.requestUrl&&a&&C){var r=Be();if(r&&Y(r.mark)){ii++;var n=a+e+"#"+ii;r.mark(n);var o=r.getEntriesByName(n);o&&1===o.length&&(t.perfMark=o[0])}}}function N(e,t,r,n){var o=t.perfMark,i=Be(),a=f.maxAjaxPerfLookupAttempts,s=f.ajaxPerfLookupDelay,c=t.requestUrl,u=0;!function l(){try{if(i&&o){u++;for(var d=null,h=i.getEntries(),p=h.length-1;p>=0;p--){var f=h[p];if(f){if("resource"===f.entryType)f.initiatorType!==e||-1===li(f.name,c)&&-1===li(c,f.name)||(d=f);else if("mark"===f.entryType&&f.name===o.name){t.perfTiming=d;break}if(f.startTime<o.startTime-1e3)break}}}!o||t.perfTiming||u>=a||!1===t.async?(o&&Y(i.clearMarks)&&i.clearMarks(o.name),t.perfAttempts=u,r()):setTimeout(l,s)}catch(e){n(e)}}()}function P(t){var r="";try{z(t)||(r+="(url: '".concat("string"==typeof t?t:t.url,"')"))}catch(t){si(e,B.FailedMonitorAjaxOpen,"Failed to grab failed fetch diagnostics message",{exception:Ve(t)})}return r}function O(t,r,n,o,i,a,s){function u(t,r,o){var i=o||{};i.fetchDiagnosticsMessage=P(n),r&&(i.exception=Ve(r)),ci(e,t,"Failed to calculate the duration of the fetch call, monitoring data for this fetch call won't be sent.",i)}i&&(i.responseFinishedTime=Ln(),i.status=r,N("fetch",i,(function(){var t,s=i.CreateTrackItem("Fetch",g,a);try{c&&(t=c({status:r,request:n,response:o}))}catch(t){ci(e,B.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}s?(void 0!==t&&(s.properties=m(m({},s.properties),t)),e.trackDependencyDataInternal(s)):u(B.FailedMonitorAjaxDur,null,{requestSentTime:i.requestSentTime,responseFinishedTime:i.responseFinishedTime})}),(function(e){u(B.FailedMonitorAjaxGetCorrelationHeader,e,null)})))}function x(t){if(t&&t.headers)try{var r=t.headers.get(Tn.requestContextHeader);return Mn.getCorrelationContext(r)}catch(r){ci(e,B.FailedMonitorAjaxGetCorrelationHeader,"Failed to get Request-Context correlation header as it may be not included in the response or not accessible.",{fetchDiagnosticsMessage:P(t),exception:Ve(r)})}}e.initialize=function(h,y,S,P){if(!e.isInitialized()){r.initialize(h,y,S,P);var M=e._getTelCtx();X(t.getDefaultConfig(),(function(e,r){f[e]=M.getConfig(t.identifier,e,r)}));var L=f.distributedTracingMode;if(g=f.enableRequestHeaderTracking,v=f.enableAjaxErrorStatusText,C=f.enableAjaxPerfTracking,E=f.maxAjaxCallsPerView,T=f.enableResponseHeaderTracking,s=f.excludeRequestFromAutoTrackingPatterns,c=f.addRequestContext,i=L===tn.AI||L===tn.AI_AND_W3C,o=L===tn.AI_AND_W3C||L===tn.W3C,C){var U=h.instrumentationKey||"unkwn";a=U.length>5?ni+U.substring(U.length-5)+".":ni+U+"."}if(!1===f.disableAjaxTracking&&function(e){var t=!1;if(Qe()){var r=XMLHttpRequest.prototype;t=!(z(r)||z(r.open)||z(r.send)||z(r.abort))}var n=ze();if(n&&n<9&&(t=!1),t)try{(new XMLHttpRequest).ajaxData={};var o=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=o}catch(r){t=!1,si(e,B.FailedMonitorAjaxOpen,"Failed to enable XMLHttpRequest monitoring, extension is not supported",{exception:Ve(r)})}return t}(e)&&!d&&(I(XMLHttpRequest,"open",{req:function(t,r,o,i){var a=t.inst,s=a.ajaxData;!b(a,o)&&A(a,!0)&&(s&&s.xhrMonitoringState.openDone||function(t,r,o,i){var a=n&&n.telemetryTrace&&n.telemetryTrace.traceID||cr(),s=cr().substr(0,16),c=new ti(a,s,e.diagLog());c.method=r,c.requestUrl=o,c.xhrMonitoringState.openDone=!0,c.requestHeaders={},c.async=i,c.errorStatusText=v,t.ajaxData=c}(a,r,o,i),function(t){t.ajaxData.xhrMonitoringState.stateChangeAttached=Q(t,"readystatechange",(function(){try{t&&4===t.readyState&&A(t)&&function(t){var r=t.ajaxData;function n(r,n){var o=n||{};o.ajaxDiagnosticsMessage=ai(t),r&&(o.exception=Ve(r)),ci(e,B.FailedMonitorAjaxDur,"Failed to calculate the duration of the ajax call, monitoring data for this ajax call won't be sent.",o)}r.responseFinishedTime=Ln(),r.status=t.status,N("xmlhttprequest",r,(function(){try{var o=r.CreateTrackItem("Ajax",g,(function(){var e={statusText:t.statusText,headerMap:null,correlationContext:R(t),type:t.responseType,responseText:_(t),response:t.response};if(T){var r=t.getAllResponseHeaders();if(r){var n=le(r).split(/[\r\n]+/),o={};ae(n,(function(e){var t=e.split(": "),r=t.shift(),n=t.join(": ");u(r)&&(o[r]=n)})),e.headerMap=o}}return e})),i=void 0;try{c&&(i=c({status:t.status,xhr:t}))}catch(t){ci(e,B.FailedAddingCustomDefinedRequestContext,"Failed to add custom defined request context as configured call back may missing a null check.")}o?(void 0!==i&&(o.properties=m(m({},o.properties),i)),e.trackDependencyDataInternal(o)):n(null,{requestSentTime:r.requestSentTime,responseFinishedTime:r.responseFinishedTime})}finally{try{t.ajaxData=null}catch(e){}}}),(function(e){n(e,null)}))}(t)}catch(n){var r=Ve(n);r&&-1!==li(r.toLowerCase(),"c00c023f")||si(e,B.FailedMonitorAjaxRSC,"Failed to monitor XMLHttpRequest 'readystatechange' event handler, monitoring data for this ajax call may be incorrect.",{ajaxDiagnosticsMessage:ai(t),exception:r})}}))}(a))},hkErr:ui(e,B.FailedMonitorAjaxOpen,"Failed to monitor XMLHttpRequest.open, monitoring data for this ajax call may be incorrect.")}),I(XMLHttpRequest,"send",{req:function(t,r){var n=t.inst,o=n.ajaxData;A(n)&&!o.xhrMonitoringState.sendDone&&(k("xhr",o),o.requestSentTime=Ln(),e.includeCorrelationHeaders(o,void 0,void 0,n),o.xhrMonitoringState.sendDone=!0)},hkErr:ui(e,B.FailedMonitorAjaxSend,"Failed to monitor XMLHttpRequest, monitoring data for this ajax call may be incorrect.")}),I(XMLHttpRequest,"abort",{req:function(e){var t=e.inst,r=t.ajaxData;A(t)&&!r.xhrMonitoringState.abortDone&&(r.aborted=1,r.xhrMonitoringState.abortDone=!0)},hkErr:ui(e,B.FailedMonitorAjaxAbort,"Failed to monitor XMLHttpRequest.abort, monitoring data for this ajax call may be incorrect.")}),g&&I(XMLHttpRequest,"setRequestHeader",{req:function(e,t,r){var n=e.inst;A(n)&&u(t)&&(n.ajaxData.requestHeaders[t]=r)},hkErr:ui(e,B.FailedMonitorAjaxSetRequestHeader,"Failed to monitor XMLHttpRequest.setRequestHeader, monitoring data for this ajax call may be incorrect.")}),d=!0),function(){var t,r=!(t=p())||z(t.Request)||z(t.Request.prototype)||z(t.fetch)?null:t.fetch;if(r){var o=p(),i=r.polyfill;!1===f.disableFetchTracking?(w.push(Qo(o,oi,{req:function(t,r,o){var a;if(l&&!b(null,r,o)&&(!i||!d)){var s=t.ctx();a=function(t,r){var o=n&&n.telemetryTrace&&n.telemetryTrace.traceID||cr(),i=cr().substr(0,16),a=new ti(o,i,e.diagLog());a.requestSentTime=Ln(),a.errorStatusText=v,t instanceof Request?a.requestUrl=t?t.url:"":a.requestUrl=t;var s="GET";r&&r.method?s=r.method:t&&t instanceof Request&&(s=t.method),a.method=s;var c={};return g&&new Headers((r?r.headers:0)||t instanceof Request&&t.headers||{}).forEach((function(e,t){u(t)&&(c[t]=e)})),a.requestHeaders=c,k("fetch",a),a}(r,o);var c=e.includeCorrelationHeaders(a,r,o);c!==o&&t.set(1,c),s.data=a}},rsp:function(e,t){var r=e.ctx().data;r&&(e.rslt=e.rslt.then((function(e){return O(0,(e||{}).status,t,e,r,(function(){var t={statusText:e.statusText,headerMap:null,correlationContext:x(e)};if(T){var r={};e.headers.forEach((function(e,t){u(t)&&(r[t]=e)})),t.headerMap=r}return t})),e})).catch((function(e){throw O(0,0,t,null,r,null,e.message),e})))},hkErr:ui(e,B.FailedMonitorAjaxOpen,"Failed to monitor Window.fetch, monitoring data for this fetch call may be incorrect.")})),l=!0):i&&w.push(Qo(o,oi,{req:function(e,t,r){b(null,t,r)}})),i&&(o.fetch.polyfill=i)}}(),S.length>0&&S){for(var D=void 0,F=0;!D&&F<S.length;)S[F]&&S[F].identifier===pr&&(D=S[F]),F++;D&&(n=D.context)}}},e.teardown=function(){ae(w,(function(e){e.rm()})),w=[],l=!1,d=!1,e.setInitialized(!1)},e.trackDependencyData=function(t,r){e.trackDependencyDataInternal(t,r)},e.includeCorrelationHeaders=function(t,r,a,s){var c=e._currentWindowHost||h;if(r){if(Mn.canIncludeCorrelationHeader(f,t.getAbsoluteUrl(),c)){if(a||(a={}),a.headers=new Headers(a.headers||r instanceof Request&&r.headers||{}),i){var u="|"+t.traceID+"."+t.spanID;a.headers.set(Tn.requestIdHeader,u),g&&(t.requestHeaders[Tn.requestIdHeader]=u)}if((d=f.appId||n&&n.appId())&&(a.headers.set(Tn.requestContextHeader,Tn.requestContextAppIdFormat+d),g&&(t.requestHeaders[Tn.requestContextHeader]=Tn.requestContextAppIdFormat+d)),o){var l=new ri(t.traceID,t.spanID);a.headers.set(Tn.traceParentHeader,l.toString()),g&&(t.requestHeaders[Tn.traceParentHeader]=l.toString())}}return a}if(s){var d;if(Mn.canIncludeCorrelationHeader(f,t.getAbsoluteUrl(),c))i&&(u="|"+t.traceID+"."+t.spanID,s.setRequestHeader(Tn.requestIdHeader,u),g&&(t.requestHeaders[Tn.requestIdHeader]=u)),(d=f.appId||n&&n.appId())&&(s.setRequestHeader(Tn.requestContextHeader,Tn.requestContextAppIdFormat+d),g&&(t.requestHeaders[Tn.requestContextHeader]=Tn.requestContextAppIdFormat+d)),o&&(l=new ri(t.traceID,t.spanID),s.setRequestHeader(Tn.traceParentHeader,l.toString()),g&&(t.requestHeaders[Tn.traceParentHeader]=l.toString()));return s}},e.trackDependencyDataInternal=function(t,r,n){if(-1===E||y<E){f.distributedTracingMode!==tn.W3C&&f.distributedTracingMode!==tn.AI_AND_W3C||"string"!=typeof t.id||"."===t.id[t.id.length-1]||(t.id+="."),z(t.startTime)&&(t.startTime=new Date);var o=xr.create(t,Fn.dataType,Fn.envelopeType,e.diagLog(),r,n);e.core.track(o)}else y===E&&si(e,B.MaxAjaxPerPVExceeded,"Maximum ajax per page view limit reached, ajax monitoring is paused until the next trackPageView(). In order to increase the limit set the maxAjaxCallsPerView configuration parameter.",!0);++y}})),r}return y(t,e),t.getDefaultConfig=function(){return{maxAjaxCallsPerView:500,disableAjaxTracking:!1,disableFetchTracking:!0,excludeRequestFromAutoTrackingPatterns:void 0,disableCorrelationHeaders:!1,distributedTracingMode:tn.AI_AND_W3C,correlationHeaderExcludedDomains:["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],correlationHeaderDomains:void 0,correlationHeaderExcludePatterns:void 0,appId:void 0,enableCorsCorrelation:!1,enableRequestHeaderTracking:!1,enableResponseHeaderTracking:!1,enableAjaxErrorStatusText:!1,enableAjaxPerfTracking:!1,maxAjaxPerfLookupAttempts:3,ajaxPerfLookupDelay:25,ignoreHeaders:["Authorization","X-API-Key","WWW-Authenticate"],addRequestContext:void 0}},t.getEmptyConfig=function(){var e=this.getDefaultConfig();return X(e,(function(t){e[t]=void 0})),e},t.prototype.processTelemetry=function(e,t){this.processNext(e,t)},t.identifier="AjaxDependencyPlugin",t}(gt);function hi(e){if(!e)return{};var t=ue(e.split(";"),(function(e,t){var r=t.split("=");if(2===r.length){var n=r[0].toLowerCase(),o=r[1];e[n]=o}return e}),{});if(pe(t).length>0){if(t.endpointsuffix){var r=t.location?t.location+".":"";t.ingestionendpoint=t.ingestionendpoint||"https://"+r+"dc."+t.endpointsuffix}t.ingestionendpoint=t.ingestionendpoint||Pr}return t}var pi,fi={parse:hi},gi=function(){function e(){}return e.getConfig=function(e,t,r,n){var o;return void 0===n&&(n=!1),o=r&&e.extensionConfig&&e.extensionConfig[r]&&!z(e.extensionConfig[r][t])?e.extensionConfig[r][t]:e[t],z(o)?n:o},e}(),mi=["snippet","dependencies","properties","_snippetVersion","appInsightsNew","getSKUDefaults"],vi={__proto__:null,PropertiesPluginIdentifier:pr,BreezeChannelIdentifier:fr,AnalyticsPluginIdentifier:gr,Util:On,CorrelationIdHelper:Mn,UrlHelper:xn,DateTimeUtils:Dn,ConnectionStringParser:fi,FieldType:{Default:0,Required:1,Array:2,Hidden:4},RequestHeaders:Tn,DisabledPropertyName:kr,ProcessLegacy:"ProcessLegacy",SampleRate:"sampleRate",HttpMethod:Nr,DEFAULT_BREEZE_ENDPOINT:Pr,AIData:lo,AIBase:uo,Envelope:co,Event:Lr,Exception:rn,Metric:Fr,PageView:jr,PageViewData:qr,RemoteDependencyData:Fn,Trace:Ur,PageViewPerformance:zr,Data:ho,SeverityLevel:$r,ConfigurationManager:gi,ContextTagKeys:io,DataSanitizer:Rr,TelemetryItemCreator:xr,CtxTagKeys:so,Extensions:ao,DistributedTracingModes:tn},yi=function(){function e(e){var t=this;t._snippetVersion=""+(e.sv||e.version||""),e.queue=e.queue||[],e.version=e.version||2;var r=e.config||{};if(r.connectionString){var n=hi(r.connectionString),o=n.ingestionendpoint;r.endpointUrl=o?"".concat(o,"/v2/track"):r.endpointUrl,r.instrumentationKey=n.instrumentationkey||r.instrumentationKey}t.appInsights=new jn,t.properties=new jo,t.dependencies=new di,t.core=new Kt,t._sender=new No,t.snippet=e,t.config=r,t.getSKUDefaults()}return e.prototype.getCookieMgr=function(){return this.appInsights.getCookieMgr()},e.prototype.trackEvent=function(e,t){this.appInsights.trackEvent(e,t)},e.prototype.trackPageView=function(e){var t=e||{};this.appInsights.trackPageView(t)},e.prototype.trackPageViewPerformance=function(e){var t=e||{};this.appInsights.trackPageViewPerformance(t)},e.prototype.trackException=function(e,t){e&&!e.exception&&e.error&&(e.exception=e.error),this.appInsights.trackException(e,t)},e.prototype._onerror=function(e){this.appInsights._onerror(e)},e.prototype.trackTrace=function(e,t){this.appInsights.trackTrace(e,t)},e.prototype.trackMetric=function(e,t){this.appInsights.trackMetric(e,t)},e.prototype.startTrackPage=function(e){this.appInsights.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,r,n){this.appInsights.stopTrackPage(e,t,r,n)},e.prototype.startTrackEvent=function(e){this.appInsights.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,r){this.appInsights.stopTrackEvent(e,t,r)},e.prototype.addTelemetryInitializer=function(e){return this.appInsights.addTelemetryInitializer(e)},e.prototype.setAuthenticatedUserContext=function(e,t,r){void 0===r&&(r=!1),this.properties.context.user.setAuthenticatedUserContext(e,t,r)},e.prototype.clearAuthenticatedUserContext=function(){this.properties.context.user.clearAuthenticatedUserContext()},e.prototype.trackDependencyData=function(e){this.dependencies.trackDependencyData(e)},e.prototype.flush=function(e){var t=this;void 0===e&&(e=!0),lt(this.core,(function(){return"AISKU.flush"}),(function(){ae(t.core.getTransmissionControls(),(function(t){ae(t,(function(t){t.flush(e)}))}))}),null,e)},e.prototype.onunloadFlush=function(e){void 0===e&&(e=!0),ae(this.core.getTransmissionControls(),(function(t){ae(t,(function(t){t.onunloadFlush?t.onunloadFlush():t.flush(e)}))}))},e.prototype.loadAppInsights=function(e,t,r){var n=this;void 0===e&&(e=!1);var o=this;return e&&o.config.extensions&&o.config.extensions.length>0&&Te("Extensions not allowed in legacy mode"),lt(o.core,(function(){return"AISKU.loadAppInsights"}),(function(){var i=[];i.push(o._sender),i.push(o.properties),i.push(o.dependencies),i.push(o.appInsights),o.core.initialize(o.config,i,t,r),o.context=o.properties.context,pi&&o.context&&(o.context.internal.sdkSrc=pi),function(t){if(t){var r="";z(o._snippetVersion)||(r+=o._snippetVersion),e&&(r+=".lg"),o.context&&o.context.internal&&(o.context.internal.snippetVer=r||"-"),X(o,(function(e,r){re(e)&&!Y(r)&&e&&"_"!==e[0]&&-1===mi.indexOf(e)&&(t[e]=r)}))}}(o.snippet),o.emptyQueue(),o.pollInternalLogs(),o.addHousekeepingBeforeUnload(n)})),o},e.prototype.updateSnippetDefinitions=function(e){we(e,this,(function(e){return e&&-1===mi.indexOf(e)}))},e.prototype.emptyQueue=function(){var e=this;try{if(ee(e.snippet.queue)){for(var t=e.snippet.queue.length,r=0;r<t;r++)(0,e.snippet.queue[r])();e.snippet.queue=void 0,delete e.snippet.queue}}catch(e){e&&Y(e.toString)&&e.toString()}},e.prototype.pollInternalLogs=function(){this.core.pollInternalLogs()},e.prototype.stopPollingInternalLogs=function(){this.core.stopPollingInternalLogs()},e.prototype.addHousekeepingBeforeUnload=function(e){if(Me()||Ue()){var t=function(){e.onunloadFlush(!1),ae(e.appInsights.core._extensions,(function(e){if(e.identifier===pr)return e&&e.context&&e.context._sessionManager&&e.context._sessionManager.backup(),-1}))},r=!1,n=e.appInsights.config.disablePageUnloadEvents;e.appInsights.config.disableFlushOnBeforeUnload||(r=ir(t,n),(r=ar(t,n)||r)||(o=qe())&&o.product&&"ReactNative"===o.product||e.appInsights.core.logger.throwInternal(H.CRITICAL,B.FailedToAddHandlerForOnBeforeUnload,"Could not add handler for beforeunload and pagehide")),r||e.appInsights.config.disableFlushOnUnload||ar(t,n)}var o},e.prototype.getSender=function(){return this._sender},e.prototype.getSKUDefaults=function(){var e=this;e.config.diagnosticLogInterval=e.config.diagnosticLogInterval&&e.config.diagnosticLogInterval>0?e.config.diagnosticLogInterval:1e4},e}();!function(){var e=null,t=["://js.monitor.azure.com/","://az416426.vo.msecnd.net/"];try{var r=(document||{}).currentScript;r&&(e=r.src)}catch(e){}if(e)try{var n=e.toLowerCase();if(n)for(var o="",i=0;i<t.length;i++)if(-1!==n.indexOf(t[i])){o="cdn"+(i+1),-1===n.indexOf("/scripts/")&&(-1!==n.indexOf("/next/")?o+="-next":-1!==n.indexOf("/beta/")&&(o+="-beta")),pi=o+"";break}}catch(e){}}();var Ci=["snippet","getDefaultConfig","_hasLegacyInitializers","_queue","_processLegacyInitializers"],Ei=function(){function e(t,r){this._hasLegacyInitializers=!1,this._queue=[],this.config=e.getDefaultConfig(t.config),this.appInsightsNew=r,this.context={addTelemetryInitializer:this.addTelemetryInitializers.bind(this)}}return e.getDefaultConfig=function(e){return e||(e={}),e.endpointUrl=e.endpointUrl||"https://dc.services.visualstudio.com/v2/track",e.sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.maxBatchSizeInBytes=e.maxBatchSizeInBytes>0?e.maxBatchSizeInBytes:102400,e.maxBatchInterval=isNaN(e.maxBatchInterval)?15e3:e.maxBatchInterval,e.enableDebug=Hr(e.enableDebug),e.disableExceptionTracking=Hr(e.disableExceptionTracking),e.disableTelemetry=Hr(e.disableTelemetry),e.verboseLogging=Hr(e.verboseLogging),e.emitLineDelimitedJson=Hr(e.emitLineDelimitedJson),e.diagnosticLogInterval=e.diagnosticLogInterval||1e4,e.autoTrackPageVisitTime=Hr(e.autoTrackPageVisitTime),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||e.samplingPercentage>=100)&&(e.samplingPercentage=100),e.disableAjaxTracking=Hr(e.disableAjaxTracking),e.maxAjaxCallsPerView=isNaN(e.maxAjaxCallsPerView)?500:e.maxAjaxCallsPerView,e.isBeaconApiDisabled=Hr(e.isBeaconApiDisabled,!0),e.disableCorrelationHeaders=Hr(e.disableCorrelationHeaders),e.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains||["*.blob.core.windows.net","*.blob.core.chinacloudapi.cn","*.blob.core.cloudapi.de","*.blob.core.usgovcloudapi.net"],e.disableFlushOnBeforeUnload=Hr(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=Hr(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e.enableSessionStorageBuffer=Hr(e.enableSessionStorageBuffer,!0),e.isRetryDisabled=Hr(e.isRetryDisabled),e.isCookieUseDisabled=Hr(e.isCookieUseDisabled),e.isStorageUseDisabled=Hr(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=Hr(e.isBrowserLinkTrackingEnabled),e.enableCorsCorrelation=Hr(e.enableCorsCorrelation),e},e.prototype.addTelemetryInitializers=function(e){var t=this;this._hasLegacyInitializers||(this.appInsightsNew.addTelemetryInitializer((function(e){t._processLegacyInitializers(e)})),this._hasLegacyInitializers=!0),this._queue.push(e)},e.prototype.getCookieMgr=function(){return this.appInsightsNew.getCookieMgr()},e.prototype.startTrackPage=function(e){this.appInsightsNew.startTrackPage(e)},e.prototype.stopTrackPage=function(e,t,r,n){this.appInsightsNew.stopTrackPage(e,t,r)},e.prototype.trackPageView=function(e,t,r,n,o){var i={name:e,uri:t,properties:r,measurements:n};this.appInsightsNew.trackPageView(i)},e.prototype.trackEvent=function(e,t,r){this.appInsightsNew.trackEvent({name:e})},e.prototype.trackDependency=function(e,t,r,n,o,i,a){this.appInsightsNew.trackDependencyData({id:e,target:r,type:n,duration:o,properties:{HttpMethod:t},success:i,responseCode:a})},e.prototype.trackException=function(e,t,r,n,o){this.appInsightsNew.trackException({exception:e})},e.prototype.trackMetric=function(e,t,r,n,o,i){this.appInsightsNew.trackMetric({name:e,average:t,sampleCount:r,min:n,max:o})},e.prototype.trackTrace=function(e,t,r){this.appInsightsNew.trackTrace({message:e,severityLevel:r})},e.prototype.flush=function(e){this.appInsightsNew.flush(e)},e.prototype.setAuthenticatedUserContext=function(e,t,r){this.appInsightsNew.context.user.setAuthenticatedUserContext(e,t,r)},e.prototype.clearAuthenticatedUserContext=function(){this.appInsightsNew.context.user.clearAuthenticatedUserContext()},e.prototype._onerror=function(e,t,r,n,o){this.appInsightsNew._onerror({message:e,url:t,lineNumber:r,columnNumber:n,error:o})},e.prototype.startTrackEvent=function(e){this.appInsightsNew.startTrackEvent(e)},e.prototype.stopTrackEvent=function(e,t,r){this.appInsightsNew.stopTrackEvent(e,t,r)},e.prototype.downloadAndSetup=function(e){Te("downloadAndSetup not implemented in web SKU")},e.prototype.updateSnippetDefinitions=function(e){we(e,this,(function(e){return e&&-1===Ci.indexOf(e)}))},e.prototype.loadAppInsights=function(){var e=this;if(this.config.iKey){var t=this.trackPageView;this.trackPageView=function(r,n,o){t.apply(e,[null,r,n,o])}}return"function"==typeof this.snippet.logPageView&&(this.logPageView=function(t,r,n){e.trackPageView(null,t,r,n)}),"function"==typeof this.snippet.logEvent&&(this.logEvent=function(t,r,n){e.trackEvent(t,r,n)}),this},e.prototype._processLegacyInitializers=function(e){return e.tags.ProcessLegacy=this._queue,e},e}(),Ti=function(){function e(){}return e.getAppInsights=function(e,t){var r=new yi(e),n=2!==t;if(dr(),2===t)return r.updateSnippetDefinitions(e),r.loadAppInsights(n),r;var o=new Ei(e,r);return o.updateSnippetDefinitions(e),r.loadAppInsights(n),o},e}()},51206:function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=90)}({17:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=r(18),o=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||""},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||""},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var o=e.getVersionPrecision(t),i=e.getVersionPrecision(r),a=Math.max(o,i),s=0,c=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(".0");return e.map(n.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(n&&(s=a-Math.min(o,i)),a-=1;a>=s;){if(c[0][a]>c[1][a])return 1;if(c[0][a]===c[1][a]){if(a===s)return 0;a-=1}else if(c[0][a]<c[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var o=e[r];if(t(o,r))return o}},e.assign=function(e){for(var t,r,n=e,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(i));var s=function(){var e=i[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=i.length;t<r;t+=1)s();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||""},e}();t.default=o,e.exports=t.default},18:function(e,t,r){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(91))&&n.__esModule?n:{default:n},i=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=function(){function e(){}var t,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new o.default(e,t)},e.parse=function(e){return new o.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return i.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return i.ENGINE_MAP}},{key:"OS_MAP",get:function(){return i.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return i.PLATFORMS_MAP}}],null&&a(t.prototype,null),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n=c(r(92)),o=c(r(93)),i=c(r(94)),a=c(r(95)),s=c(r(17));function c(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(n.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,o={},i=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(o[t]=a,i+=1):"object"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),c=s.default.find(a,(function(e){return t.isOS(e)}));if(c){var u=this.satisfies(r[c]);if(void 0!==u)return u}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(r[l]);if(void 0!==d)return d}}if(i>0){var h=Object.keys(o),p=s.default.find(h,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(o[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),o=s.default.getBrowserTypeByAlias(n);return t&&o&&(n=o.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,o=this.getBrowserVersion();if("string"==typeof o)return">"===e[0]||"<"===e[0]?(r=e.substr(1),"="===e[1]?(n=!0,r=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?r=e.substr(1):"~"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(s.default.compareVersions(o,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=u,e.exports=t.default},92:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},r=o.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},r=o.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},r=o.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},r=o.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},r=o.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},r=o.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},r=o.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},r=o.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},r=o.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},r=o.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},r=o.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},r=o.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},r=o.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},r=o.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},r=o.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},r=o.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},r=o.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},r=o.default.getFirstMatch(i,e)||o.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},r=o.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},r=o.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},r=o.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},r=o.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},r=o.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},r=o.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},r=o.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},r=o.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},r=o.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:"Android Browser"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},r=o.default.getFirstMatch(i,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:o.default.getFirstMatch(t,e),version:o.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=o.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:i.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=o.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=o.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),r=o.default.getWindowsVersionName(t);return{name:i.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:i.OS_MAP.iOS},r=o.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=o.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),r=o.default.getMacOSVersionName(t),n={name:i.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=o.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:i.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=o.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),r=o.default.getAndroidVersionName(t),n={name:i.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=o.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),r={name:i.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=o.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||o.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||o.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:i.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=o.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=o.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:i.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:i.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=o.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:i.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=o.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",r={type:i.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(r.model=t),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=o.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:i.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:i.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:i.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:i.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=r(17))&&n.__esModule?n:{default:n},i=r(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:i.ENGINE_MAP.Blink};var t=o.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:i.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:i.ENGINE_MAP.Trident},r=o.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:i.ENGINE_MAP.Presto},r=o.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:i.ENGINE_MAP.Gecko},r=o.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:i.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:i.ENGINE_MAP.WebKit},r=o.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})},22827:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AI=void 0;const n=r(96674),o=r(48134),i=o.AppConfig.debug&&!!o.AppConfig.AppInsight.instrumentationKey,a=o.AppConfig.trace,s=function(){if(i){const e={config:{instrumentationKey:o.AppConfig.AppInsight.instrumentationKey,maxBatchInterval:5e3,maxAjaxCallsPerView:-1,disableDataLossAnalysis:!1,enableUnhandledPromiseRejectionTracking:!0,disableFetchTracking:!1}},t=new n.ApplicationInsights(e);return t.loadAppInsights(),t.trackPageView(),t}return null}();t.AI=Object.freeze({custom:function(e){return s&&e&&e(s),t.AI},trackException:function(e){return null==s||s.trackException(e),t.AI},trackEvent:function(e,r){return null==s||s.trackEvent(e,r),t.AI},trackMetric:function(e,r){return null==s||s.trackMetric(e,r),t.AI},trackTrace:function(e,r){return a&&(null==s||s.trackTrace(e,r)),t.AI},startTrackEvent:function(e){return null==s||s.startTrackEvent(e),t.AI},stopTrackEvent:function(e,r,n){return null==s||s.stopTrackEvent(e,r,n),t.AI},flushBuffer:function(){return null==s||s.flush(),t.AI},setAuthenticatedUserContext:function(e,r){return null==s||s.setAuthenticatedUserContext(e,r,!0),t.AI}})},98917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.client=void 0;const n=r(80869),o=r(48134);t.client=new n.PublicClientApplication({auth:{clientId:o.AppConfig.AuthClient.AppId,navigateToLoginRequestUrl:!1},cache:{cacheLocation:"localStorage"}})},5341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traceAsync=t.trace=t.error=t.warn=t.info=void 0;const n=r(62975),o=r(22827),i=r(48134).AppConfig.debug;t.info=function(...e){i&&(console.log(...e),e.filter(n.isUnknownObject).forEach(console.dir))},t.warn=function(...e){i&&(console.warn(...e),e.filter(n.isUnknownObject).forEach(console.dir))},t.error=function(...e){i&&(console.error(...e),e.filter(n.isUnknownObject).forEach(console.dir))},t.trace=function(e,t,r){if(i){const e=r.value,t=r.value.name;r.value=function(...r){console.group(t);const o=performance.now();try{const i=e.apply(this,r);return(0,n.isUnknownObject)(i)&&"function"==typeof i.then&&console.warn(`trace: ${t} returned a promise. measured execution time may be wrong.`),i}finally{const e=(performance.now()-o).toFixed(1);console.info(`${t} took ${e}ms`),console.groupEnd()}}}return r},t.traceAsync=function(e=!1){return function(t,r,n){if(i){const t=n.value,r=n.value.name;n.value=async function(...n){console.group(r);const i=performance.now();try{return e&&o.AI.startTrackEvent(r),await t.apply(this,n)}finally{e&&o.AI.stopTrackEvent(r);const t=(performance.now()-i).toFixed(1);console.info(`${r} took ${t}ms`),console.groupEnd()}}}return n}}},62975:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.b64toBlob=t.blob2dataUrl=t.hashBlob=t.isGraphHostedContentUrl=t.storage=t.isUnknownObject=t.fixMessageLink=t.delay=t.safeStringify=t.cancellationNoThrow=t.cancellation=t.OperationCancelled=t.nop=t.filterNull=t.assert1=t.assertT=t.assert=void 0;const a=r(5341),s=i(r(51206));t.assert=function(e,t="value"){if(null==e)throw new Error(`${t} must not be null or undefined`);return e},t.assertT=function(e,t,r="value"){if("string"==typeof t&&typeof e!==t)throw new Error(`${r} is not of type ${t}`);if("function"==typeof t&&!t(e))throw new Error(`${r} is not of the expected type`);return e},t.assert1=function(e,t="value"){if(null==e)throw new Error(`${t} must not be null or undefined`)},t.filterNull=function(e){return null!==e},t.nop=function(){};class c extends Error{constructor(){super("Cancelled by user request")}}t.OperationCancelled=c,t.cancellation=function(){let e=!1;return[function(){e=!0},function(){if(e)throw new c}]},t.cancellationNoThrow=function(){let e=!1;return[function(){e=!0},function(){return e}]},t.safeStringify=function(e){if("string"==typeof e)return e;const t=new WeakSet,r=(e,r)=>{if("object"==typeof r&&null!==r){if(t.has(r))return"[already seen]";t.add(r)}return r};try{return JSON.stringify(e,r,4)}catch(e){return"[safeStringify: error]"}},t.delay=(e,t)=>new Promise(((r,n)=>{let o=-1,i=-1,a=!1;const s=()=>{a&&(o>=0&&clearTimeout(o),i>=0&&clearInterval(i),o=i=-1)};if(t){const e=()=>{try{if(t())return a=!0,r(),!0}catch(e){return a=!0,n(new c),!0}finally{s()}return!1};if(e())return;i=setInterval(e,50)}o=setTimeout((()=>{a=!0,r(),s()}),e)})),t.fixMessageLink=function(e){if("string"!=typeof e||""===e.trim())return"";try{const t=new URL(e);return t.pathname=decodeURIComponent(t.pathname),t.toString()}catch(e){return(0,a.warn)("invalid url",e),""}},t.isUnknownObject=function(e){return null!==e&&"object"==typeof e},t.storage=(()=>{const e="firefox"===s.getParser(navigator.userAgent).getBrowserName(!0),r=navigator.storage&&"function"==typeof navigator.storage.persist&&"function"==typeof navigator.storage.persisted,n=function(){try{return window.self!==window.top}catch(e){return!0}}();let o=!0;return async function(){if(r&&!await navigator.storage.persisted())for(o=!1;!(o=await navigator.storage.persisted());)e||(o=await navigator.storage.persist()),await(0,t.delay)(2e4)}().catch(a.error),Object.freeze({granted:()=>o,askForPermission:r&&e,needNewWindow:n&&e})})();const u=/^https:\/\/graph\.microsoft\.com\/.*\/teams\/[a-zA-Z0-9-]{36}\/channels\/[^/]+\/messages\/[0-9]+\/(replies\/[0-9]+\/)?hostedContents\//i,l=/^https:\/\/graph\.microsoft\.com\/.*\/chats\/[^/]+\/messages\/[0-9]+\/hostedContents\//i;t.isGraphHostedContentUrl=function(e){try{new URL(e)}catch(e){return!1}return u.test(e)||l.test(e)},t.hashBlob=async function(e){const t=await function(e){if(e.arrayBuffer)return e.arrayBuffer();{const t=new FileReader;return t.readAsArrayBuffer(e),new Promise((function(e,r){t.onload=t.onerror=function(n){t.onload=t.onerror=null,"load"===n.type&&t.result instanceof ArrayBuffer?e(t.result):r(new Error("Failed to read the blob"))}}))}}(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map((e=>e.toString(16).padStart(2,"0"))).join("")},t.blob2dataUrl=async function(e){const t=new FileReader;return t.readAsDataURL(e),new Promise((function(e,r){t.onload=t.onerror=function(n){t.onload=t.onerror=null,"load"===n.type&&"string"==typeof t.result?e(t.result):r(new Error("Failed to read the blob"))}}))},t.b64toBlob=function(e,t=512){(0,a.info)(` b64toBlob START b64Data: [${e}] `);let r="";const n=e.indexOf(";");if(n>0){const t=e.substring(0,n),o=t.indexOf(":")+1;r=t.substring(o),(0,a.info)(`header [${t} start: [${o}] ==> contentType: [${r}]`)}const o=atob(e.replace(/^.*,/,"")),i=[];for(let e=0;e<o.length;e+=t){const r=o.slice(e,e+t),n=new Array(r.length);for(let e=0;e<r.length;e++)n[e]=r.charCodeAt(e);const a=new Uint8Array(n);i.push(a)}const s=new Blob(i,{type:r});return(0,a.info)(" b64toBlob END "),s}},48134:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppConfig=void 0,t.AppConfig={AppInfo:{name:null!=="FindMsg"?"FindMsg":"",appName:null!=="G Message Finder"?"G Message Finder":"",logo:("https://static2.sharepointonline.com/files/fabric/assets/brand-icons/product-fluent/svg/teams_48x1.svg","https://static2.sharepointonline.com/files/fabric/assets/brand-icons/product-fluent/svg/teams_48x1.svg"),host:null!=="kacomsrd.github.io"?"kacomsrd.github.io":""},AuthClient:{AppId:null!=="67dc74f0-fb8c-47a4-8435-63253a3fc3bb"?"67dc74f0-fb8c-47a4-8435-63253a3fc3bb":""},AppInsight:{instrumentationKey:null!=="586f96ac-b9a5-461e-8f0b-8d75f6bc88d6"?"586f96ac-b9a5-461e-8f0b-8d75f6bc88d6":""},debug:"true"===(null==="true"?void 0:"true".toLowerCase()),trace:"true"===(null==="false"?void 0:"false".toLowerCase())}}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";var e=n;Object.defineProperty(e,"__esModule",{value:!0});const t=r(98917),o=r(5341),i=r(22827);(async function(){var e;const r=new URL(location.href),n=JSON.parse(null!==(e=r.searchParams.get("params"))&&void 0!==e?e:JSON.stringify(null));try{await t.client.handleRedirectPromise()}catch(e){(0,o.warn)("Previous login attempt cleanup failed",e)}i.AI.trackTrace({message:"AuthStart",properties:n}).flushBuffer(),t.client.loginRedirect(n)})().catch(console.error)})(),n})()}));
//# sourceMappingURL=authStart.js.map